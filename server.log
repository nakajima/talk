sup
2025-10-08T01:16:22.902180Z TRACE async_lsp: incoming msg={"params":{"rootUri":null,"rootPath":null,"clientInfo":{"version":"0.11.3","name":"Neovim"},"processId":1578662,"workDoneToken":"1","capabilities":{"window":{"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}},"showDocument":{"support":true},"workDoneProgress":true},"workspace":{"didChangeWatchedFiles":{"relativePatternSupport":true,"dynamicRegistration":false},"symbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"dynamicRegistration":false},"workspaceEdit":{"resourceOperations":["rename","create","delete"]},"didChangeConfiguration":{"dynamicRegistration":false},"configuration":true,"applyEdit":true,"workspaceFolders":true,"semanticTokens":{"refreshSupport":true},"inlayHint":{"refreshSupport":true}},"textDocument":{"implementation":{"linkSupport":true},"rangeFormatting":{"rangesSupport":true,"dynamicRegistration":true},"formatting":{"dynamicRegistration":true},"foldingRange":{"lineFoldingOnly":true,"foldingRangeKind":{"valueSet":["comment","imports","region"]},"foldingRange":{"collapsedText":true},"dynamicRegistration":false},"synchronization":{"willSaveWaitUntil":true,"willSave":true,"didSave":true,"dynamicRegistration":false},"semanticTokens":{"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"],"formats":["relative"],"requests":{"full":{"delta":true},"range":false},"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"overlappingTokenSupport":true,"augmentsSyntaxTokens":true,"serverCancelSupport":false,"multilineTokenSupport":false,"dynamicRegistration":false},"inlayHint":{"resolveSupport":{"properties":["textEdits","tooltip","location","command"]},"dynamicRegistration":true},"codeLens":{"resolveSupport":{"properties":["command"]},"dynamicRegistration":false},"completion":{"completionList":{"itemDefaults":["editRange","insertTextFormat","insertTextMode","data"]},"contextSupport":true,"completionItem":{"snippetSupport":true,"resolveSupport":{"properties":["additionalTextEdits","command"]},"tagSupport":{"valueSet":[1]},"documentationFormat":["markdown","plaintext"],"deprecatedSupport":true,"preselectSupport":false,"commitCharactersSupport":false},"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},"dynamicRegistration":false},"publishDiagnostics":{"tagSupport":{"valueSet":[1,2]},"dataSupport":true,"relatedInformation":true},"documentSymbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"hierarchicalDocumentSymbolSupport":true,"dynamicRegistration":false},"definition":{"dynamicRegistration":true,"linkSupport":true},"documentHighlight":{"dynamicRegistration":false},"signatureHelp":{"signatureInformation":{"documentationFormat":["markdown","plaintext"],"parameterInformation":{"labelOffsetSupport":true},"activeParameterSupport":true},"dynamicRegistration":false},"hover":{"contentFormat":["markdown","plaintext"],"dynamicRegistration":true},"declaration":{"linkSupport":true},"callHierarchy":{"dynamicRegistration":false},"codeAction":{"dataSupport":true,"resolveSupport":{"properties":["edit","command"]},"isPreferredSupport":true,"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"dynamicRegistration":true},"rename":{"prepareSupport":true,"dynamicRegistration":true},"diagnostic":{"tagSupport":{"valueSet":[1,2]},"dynamicRegistration":false},"typeDefinition":{"linkSupport":true},"references":{"dynamicRegistration":false}},"general":{"positionEncodings":["utf-8","utf-16","utf-32"]}},"workspaceFolders":null,"trace":"off"},"id":1,"method":"initialize","jsonrpc":"2.0"}
2025-10-08T01:16:22.902812Z TRACE request{method="initialize"}: talk::lsp::server: Initialize with InitializeParams { process_id: Some(1578662), root_path: None, root_uri: None, initialization_options: None, capabilities: ClientCapabilities { workspace: Some(WorkspaceClientCapabilities { apply_edit: Some(true), workspace_edit: Some(WorkspaceEditClientCapabilities { document_changes: None, resource_operations: Some([Rename, Create, Delete]), failure_handling: None, normalizes_line_endings: None, change_annotation_support: None }), did_change_configuration: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), did_change_watched_files: Some(DidChangeWatchedFilesClientCapabilities { dynamic_registration: Some(false), relative_pattern_support: Some(true) }), symbol: Some(WorkspaceSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), tag_support: None, resolve_support: None }), execute_command: None, workspace_folders: Some(true), configuration: Some(true), semantic_tokens: Some(SemanticTokensWorkspaceClientCapabilities { refresh_support: Some(true) }), code_lens: None, file_operations: None, inline_value: None, inlay_hint: Some(InlayHintWorkspaceClientCapabilities { refresh_support: Some(true) }), diagnostic: None }), text_document: Some(TextDocumentClientCapabilities { synchronization: Some(TextDocumentSyncClientCapabilities { dynamic_registration: Some(false), will_save: Some(true), will_save_wait_until: Some(true), did_save: Some(true) }), completion: Some(CompletionClientCapabilities { dynamic_registration: Some(false), completion_item: Some(CompletionItemCapability { snippet_support: Some(true), commit_characters_support: Some(false), documentation_format: Some([Markdown, PlainText]), deprecated_support: Some(true), preselect_support: Some(false), tag_support: Some(TagSupport { value_set: [Deprecated] }), insert_replace_support: None, resolve_support: Some(CompletionItemCapabilityResolveSupport { properties: ["additionalTextEdits", "command"] }), insert_text_mode_support: None, label_details_support: None }), completion_item_kind: Some(CompletionItemKindCapability { value_set: Some([Text, Method, Function, Constructor, Field, Variable, Class, Interface, Module, Property, Unit, Value, Enum, Keyword, Snippet, Color, File, Reference, Folder, EnumMember, Constant, Struct, Event, Operator, TypeParameter]) }), context_support: Some(true), insert_text_mode: None, completion_list: Some(CompletionListCapability { item_defaults: Some(["editRange", "insertTextFormat", "insertTextMode", "data"]) }) }), hover: Some(HoverClientCapabilities { dynamic_registration: Some(true), content_format: Some([Markdown, PlainText]) }), signature_help: Some(SignatureHelpClientCapabilities { dynamic_registration: Some(false), signature_information: Some(SignatureInformationSettings { documentation_format: Some([Markdown, PlainText]), parameter_information: Some(ParameterInformationSettings { label_offset_support: Some(true) }), active_parameter_support: Some(true) }), context_support: None }), references: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_highlight: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_symbol: Some(DocumentSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), hierarchical_document_symbol_support: Some(true), tag_support: None }), formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), range_formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), on_type_formatting: None, declaration: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), definition: Some(GotoCapability { dynamic_registration: Some(true), link_support: Some(true) }), type_definition: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), implementation: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), code_action: Some(CodeActionClientCapabilities { dynamic_registration: Some(true), code_action_literal_support: Some(CodeActionLiteralSupport { code_action_kind: CodeActionKindLiteralSupport { value_set: ["", "quickfix", "refactor", "refactor.extract", "refactor.inline", "refactor.rewrite", "source", "source.organizeImports"] } }), is_preferred_support: Some(true), disabled_support: None, data_support: Some(true), resolve_support: Some(CodeActionCapabilityResolveSupport { properties: ["edit", "command"] }), honors_change_annotations: None }), code_lens: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_link: None, color_provider: None, rename: Some(RenameClientCapabilities { dynamic_registration: Some(true), prepare_support: Some(true), prepare_support_default_behavior: None, honors_change_annotations: None }), publish_diagnostics: Some(PublishDiagnosticsClientCapabilities { related_information: Some(true), tag_support: Some(TagSupport { value_set: [Unnecessary, Deprecated] }), version_support: None, code_description_support: None, data_support: Some(true) }), folding_range: Some(FoldingRangeClientCapabilities { dynamic_registration: Some(false), range_limit: None, line_folding_only: Some(true), folding_range_kind: Some(FoldingRangeKindCapability { value_set: Some([Comment, Imports, Region]) }), folding_range: Some(FoldingRangeCapability { collapsed_text: Some(true) }) }), selection_range: None, linked_editing_range: None, call_hierarchy: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), semantic_tokens: Some(SemanticTokensClientCapabilities { dynamic_registration: Some(false), requests: SemanticTokensClientCapabilitiesRequests { range: Some(false), full: Some(Delta { delta: Some(true) }) }, token_types: [SemanticTokenType("namespace"), SemanticTokenType("type"), SemanticTokenType("class"), SemanticTokenType("enum"), SemanticTokenType("interface"), SemanticTokenType("struct"), SemanticTokenType("typeParameter"), SemanticTokenType("parameter"), SemanticTokenType("variable"), SemanticTokenType("property"), SemanticTokenType("enumMember"), SemanticTokenType("event"), SemanticTokenType("function"), SemanticTokenType("method"), SemanticTokenType("macro"), SemanticTokenType("keyword"), SemanticTokenType("modifier"), SemanticTokenType("comment"), SemanticTokenType("string"), SemanticTokenType("number"), SemanticTokenType("regexp"), SemanticTokenType("operator"), SemanticTokenType("decorator")], token_modifiers: [SemanticTokenModifier("declaration"), SemanticTokenModifier("definition"), SemanticTokenModifier("readonly"), SemanticTokenModifier("static"), SemanticTokenModifier("deprecated"), SemanticTokenModifier("abstract"), SemanticTokenModifier("async"), SemanticTokenModifier("modification"), SemanticTokenModifier("documentation"), SemanticTokenModifier("defaultLibrary")], formats: [TokenFormat("relative")], overlapping_token_support: Some(true), multiline_token_support: Some(false), server_cancel_support: Some(false), augments_syntax_tokens: Some(true) }), moniker: None, type_hierarchy: None, inline_value: None, inlay_hint: Some(InlayHintClientCapabilities { dynamic_registration: Some(true), resolve_support: Some(InlayHintResolveClientCapabilities { properties: ["textEdits", "tooltip", "location", "command"] }) }), diagnostic: Some(DiagnosticClientCapabilities { dynamic_registration: Some(false), related_document_support: None }) }), window: Some(WindowClientCapabilities { work_done_progress: Some(true), show_message: Some(ShowMessageRequestClientCapabilities { message_action_item: Some(MessageActionItemCapabilities { additional_properties_support: Some(true) }) }), show_document: Some(ShowDocumentClientCapabilities { support: true }) }), general: Some(GeneralClientCapabilities { regular_expressions: None, markdown: None, stale_request_support: None, position_encodings: Some([PositionEncodingKind("utf-8"), PositionEncodingKind("utf-16"), PositionEncodingKind("utf-32")]) }), experimental: None }, trace: Some(Off), workspace_folders: None, client_info: Some(ClientInfo { name: "Neovim", version: Some("0.11.3") }), locale: None, work_done_progress_params: WorkDoneProgressParams { work_done_token: Some(String("1")) } }
2025-10-08T01:16:22.903038Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"result":{"capabilities":{"definitionProvider":true,"hoverProvider":true,"semanticTokensProvider":{"full":true,"legend":{"tokenModifiers":[],"tokenTypes":["comment","decorator","enumMember","enum","function","interface","keyword","method","modifier","number","operator","parameter","property","string","struct","typeParameter","type","variable"]},"range":false}}}}
2025-10-08T01:16:22.908665Z TRACE async_lsp: incoming msg={"method":"initialized","params":{},"jsonrpc":"2.0"}
2025-10-08T01:16:22.913553Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":2,"method":"textDocument/semanticTokens/full","jsonrpc":"2.0"}
2025-10-08T01:16:22.913685Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"error":{"code":-32601,"message":"No such method textDocument/semanticTokens/full","data":null}}
2025-10-08T01:16:36.082679Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Operators.tlk"}},"id":3,"method":"textDocument/semanticTokens/full","jsonrpc":"2.0"}
2025-10-08T01:16:36.082894Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"error":{"code":-32601,"message":"No such method textDocument/semanticTokens/full","data":null}}
2025-10-08T01:16:52.866690Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Operators.tlk"}},"id":4,"method":"textDocument/semanticTokens/full","jsonrpc":"2.0"}
2025-10-08T01:16:52.866903Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"error":{"code":-32601,"message":"No such method textDocument/semanticTokens/full","data":null}}
2025-10-08T01:16:53.394603Z TRACE async_lsp: incoming msg={"method":"textDocument/didSave","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Operators.tlk"}},"jsonrpc":"2.0"}
2025-10-08T01:22:57.535306Z TRACE async_lsp: incoming msg={"id":5,"method":"shutdown","jsonrpc":"2.0"}
2025-10-08T01:22:57.535512Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":5,"error":{"code":-32601,"message":"No such method shutdown","data":null}}
2025-10-08T01:23:00.671176Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":1,"method":"initialize","params":{"capabilities":{"workspace":{"didChangeConfiguration":{"dynamicRegistration":false},"applyEdit":true,"semanticTokens":{"refreshSupport":true},"inlayHint":{"refreshSupport":true},"workspaceFolders":true,"symbol":{"dynamicRegistration":false,"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}},"configuration":true,"workspaceEdit":{"resourceOperations":["rename","create","delete"]},"didChangeWatchedFiles":{"dynamicRegistration":false,"relativePatternSupport":true}},"textDocument":{"semanticTokens":{"formats":["relative"],"augmentsSyntaxTokens":true,"serverCancelSupport":false,"multilineTokenSupport":false,"overlappingTokenSupport":true,"requests":{"range":false,"full":{"delta":true}},"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"dynamicRegistration":false,"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"]},"rename":{"dynamicRegistration":true,"prepareSupport":true},"definition":{"linkSupport":true,"dynamicRegistration":true},"callHierarchy":{"dynamicRegistration":false},"publishDiagnostics":{"relatedInformation":true,"tagSupport":{"valueSet":[1,2]},"dataSupport":true},"rangeFormatting":{"dynamicRegistration":true,"rangesSupport":true},"formatting":{"dynamicRegistration":true},"documentSymbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"dynamicRegistration":false,"hierarchicalDocumentSymbolSupport":true},"documentHighlight":{"dynamicRegistration":false},"codeAction":{"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"dataSupport":true,"isPreferredSupport":true,"dynamicRegistration":true,"resolveSupport":{"properties":["edit","command"]}},"completion":{"contextSupport":true,"completionList":{"itemDefaults":["editRange","insertTextFormat","insertTextMode","data"]},"completionItem":{"tagSupport":{"valueSet":[1]},"resolveSupport":{"properties":["additionalTextEdits","command"]},"commitCharactersSupport":false,"deprecatedSupport":true,"documentationFormat":["markdown","plaintext"],"preselectSupport":false,"snippetSupport":true},"dynamicRegistration":false,"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]}},"diagnostic":{"dynamicRegistration":false,"tagSupport":{"valueSet":[1,2]}},"references":{"dynamicRegistration":false},"synchronization":{"dynamicRegistration":false,"willSaveWaitUntil":true,"didSave":true,"willSave":true},"typeDefinition":{"linkSupport":true},"declaration":{"linkSupport":true},"foldingRange":{"foldingRange":{"collapsedText":true},"foldingRangeKind":{"valueSet":["comment","imports","region"]},"dynamicRegistration":false,"lineFoldingOnly":true},"hover":{"dynamicRegistration":true,"contentFormat":["markdown","plaintext"]},"inlayHint":{"dynamicRegistration":true,"resolveSupport":{"properties":["textEdits","tooltip","location","command"]}},"implementation":{"linkSupport":true},"signatureHelp":{"dynamicRegistration":false,"signatureInformation":{"activeParameterSupport":true,"documentationFormat":["markdown","plaintext"],"parameterInformation":{"labelOffsetSupport":true}}},"codeLens":{"dynamicRegistration":false,"resolveSupport":{"properties":["command"]}}},"general":{"positionEncodings":["utf-8","utf-16","utf-32"]},"window":{"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}},"showDocument":{"support":true},"workDoneProgress":true}},"workspaceFolders":null,"rootUri":null,"rootPath":null,"clientInfo":{"version":"0.11.3","name":"Neovim"},"trace":"off","processId":1581938,"workDoneToken":"1"}}
2025-10-08T01:23:00.671843Z TRACE request{method="initialize"}: talk::lsp::server: Initialize with InitializeParams { process_id: Some(1581938), root_path: None, root_uri: None, initialization_options: None, capabilities: ClientCapabilities { workspace: Some(WorkspaceClientCapabilities { apply_edit: Some(true), workspace_edit: Some(WorkspaceEditClientCapabilities { document_changes: None, resource_operations: Some([Rename, Create, Delete]), failure_handling: None, normalizes_line_endings: None, change_annotation_support: None }), did_change_configuration: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), did_change_watched_files: Some(DidChangeWatchedFilesClientCapabilities { dynamic_registration: Some(false), relative_pattern_support: Some(true) }), symbol: Some(WorkspaceSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), tag_support: None, resolve_support: None }), execute_command: None, workspace_folders: Some(true), configuration: Some(true), semantic_tokens: Some(SemanticTokensWorkspaceClientCapabilities { refresh_support: Some(true) }), code_lens: None, file_operations: None, inline_value: None, inlay_hint: Some(InlayHintWorkspaceClientCapabilities { refresh_support: Some(true) }), diagnostic: None }), text_document: Some(TextDocumentClientCapabilities { synchronization: Some(TextDocumentSyncClientCapabilities { dynamic_registration: Some(false), will_save: Some(true), will_save_wait_until: Some(true), did_save: Some(true) }), completion: Some(CompletionClientCapabilities { dynamic_registration: Some(false), completion_item: Some(CompletionItemCapability { snippet_support: Some(true), commit_characters_support: Some(false), documentation_format: Some([Markdown, PlainText]), deprecated_support: Some(true), preselect_support: Some(false), tag_support: Some(TagSupport { value_set: [Deprecated] }), insert_replace_support: None, resolve_support: Some(CompletionItemCapabilityResolveSupport { properties: ["additionalTextEdits", "command"] }), insert_text_mode_support: None, label_details_support: None }), completion_item_kind: Some(CompletionItemKindCapability { value_set: Some([Text, Method, Function, Constructor, Field, Variable, Class, Interface, Module, Property, Unit, Value, Enum, Keyword, Snippet, Color, File, Reference, Folder, EnumMember, Constant, Struct, Event, Operator, TypeParameter]) }), context_support: Some(true), insert_text_mode: None, completion_list: Some(CompletionListCapability { item_defaults: Some(["editRange", "insertTextFormat", "insertTextMode", "data"]) }) }), hover: Some(HoverClientCapabilities { dynamic_registration: Some(true), content_format: Some([Markdown, PlainText]) }), signature_help: Some(SignatureHelpClientCapabilities { dynamic_registration: Some(false), signature_information: Some(SignatureInformationSettings { documentation_format: Some([Markdown, PlainText]), parameter_information: Some(ParameterInformationSettings { label_offset_support: Some(true) }), active_parameter_support: Some(true) }), context_support: None }), references: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_highlight: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_symbol: Some(DocumentSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), hierarchical_document_symbol_support: Some(true), tag_support: None }), formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), range_formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), on_type_formatting: None, declaration: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), definition: Some(GotoCapability { dynamic_registration: Some(true), link_support: Some(true) }), type_definition: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), implementation: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), code_action: Some(CodeActionClientCapabilities { dynamic_registration: Some(true), code_action_literal_support: Some(CodeActionLiteralSupport { code_action_kind: CodeActionKindLiteralSupport { value_set: ["", "quickfix", "refactor", "refactor.extract", "refactor.inline", "refactor.rewrite", "source", "source.organizeImports"] } }), is_preferred_support: Some(true), disabled_support: None, data_support: Some(true), resolve_support: Some(CodeActionCapabilityResolveSupport { properties: ["edit", "command"] }), honors_change_annotations: None }), code_lens: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_link: None, color_provider: None, rename: Some(RenameClientCapabilities { dynamic_registration: Some(true), prepare_support: Some(true), prepare_support_default_behavior: None, honors_change_annotations: None }), publish_diagnostics: Some(PublishDiagnosticsClientCapabilities { related_information: Some(true), tag_support: Some(TagSupport { value_set: [Unnecessary, Deprecated] }), version_support: None, code_description_support: None, data_support: Some(true) }), folding_range: Some(FoldingRangeClientCapabilities { dynamic_registration: Some(false), range_limit: None, line_folding_only: Some(true), folding_range_kind: Some(FoldingRangeKindCapability { value_set: Some([Comment, Imports, Region]) }), folding_range: Some(FoldingRangeCapability { collapsed_text: Some(true) }) }), selection_range: None, linked_editing_range: None, call_hierarchy: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), semantic_tokens: Some(SemanticTokensClientCapabilities { dynamic_registration: Some(false), requests: SemanticTokensClientCapabilitiesRequests { range: Some(false), full: Some(Delta { delta: Some(true) }) }, token_types: [SemanticTokenType("namespace"), SemanticTokenType("type"), SemanticTokenType("class"), SemanticTokenType("enum"), SemanticTokenType("interface"), SemanticTokenType("struct"), SemanticTokenType("typeParameter"), SemanticTokenType("parameter"), SemanticTokenType("variable"), SemanticTokenType("property"), SemanticTokenType("enumMember"), SemanticTokenType("event"), SemanticTokenType("function"), SemanticTokenType("method"), SemanticTokenType("macro"), SemanticTokenType("keyword"), SemanticTokenType("modifier"), SemanticTokenType("comment"), SemanticTokenType("string"), SemanticTokenType("number"), SemanticTokenType("regexp"), SemanticTokenType("operator"), SemanticTokenType("decorator")], token_modifiers: [SemanticTokenModifier("declaration"), SemanticTokenModifier("definition"), SemanticTokenModifier("readonly"), SemanticTokenModifier("static"), SemanticTokenModifier("deprecated"), SemanticTokenModifier("abstract"), SemanticTokenModifier("async"), SemanticTokenModifier("modification"), SemanticTokenModifier("documentation"), SemanticTokenModifier("defaultLibrary")], formats: [TokenFormat("relative")], overlapping_token_support: Some(true), multiline_token_support: Some(false), server_cancel_support: Some(false), augments_syntax_tokens: Some(true) }), moniker: None, type_hierarchy: None, inline_value: None, inlay_hint: Some(InlayHintClientCapabilities { dynamic_registration: Some(true), resolve_support: Some(InlayHintResolveClientCapabilities { properties: ["textEdits", "tooltip", "location", "command"] }) }), diagnostic: Some(DiagnosticClientCapabilities { dynamic_registration: Some(false), related_document_support: None }) }), window: Some(WindowClientCapabilities { work_done_progress: Some(true), show_message: Some(ShowMessageRequestClientCapabilities { message_action_item: Some(MessageActionItemCapabilities { additional_properties_support: Some(true) }) }), show_document: Some(ShowDocumentClientCapabilities { support: true }) }), general: Some(GeneralClientCapabilities { regular_expressions: None, markdown: None, stale_request_support: None, position_encodings: Some([PositionEncodingKind("utf-8"), PositionEncodingKind("utf-16"), PositionEncodingKind("utf-32")]) }), experimental: None }, trace: Some(Off), workspace_folders: None, client_info: Some(ClientInfo { name: "Neovim", version: Some("0.11.3") }), locale: None, work_done_progress_params: WorkDoneProgressParams { work_done_token: Some(String("1")) } }
2025-10-08T01:23:00.672069Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"result":{"capabilities":{"definitionProvider":true,"hoverProvider":true,"semanticTokensProvider":{"full":true,"legend":{"tokenModifiers":[],"tokenTypes":["comment","decorator","enumMember","enum","function","interface","keyword","method","modifier","number","operator","parameter","property","string","struct","typeParameter","type","variable"]},"range":false}}}}
2025-10-08T01:23:00.675664Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"initialized","params":{}}
2025-10-08T01:23:00.677372Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":2,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}}}
2025-10-08T01:23:00.677490Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"result":{"data":[]}}
2025-10-08T01:23:08.793065Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":3,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}}}
2025-10-08T01:23:08.793354Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"result":{"data":[]}}
2025-10-08T01:32:19.920963Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":4,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Optional.tlk"}}}
2025-10-08T01:32:19.921275Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"result":{"data":[]}}
2025-10-08T01:32:22.286718Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":5,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Optional.tlk"}}}
2025-10-08T01:32:22.287200Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":5,"result":{"data":[]}}
2025-10-08T01:32:23.217671Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":6,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Optional.tlk"}}}
2025-10-08T01:32:23.217966Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":6,"result":{"data":[]}}
2025-10-08T01:32:23.857735Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":7,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Optional.tlk"}}}
2025-10-08T01:32:23.858155Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":7,"result":{"data":[]}}
2025-10-08T01:32:25.653148Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":8,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Optional.tlk"}}}
2025-10-08T01:32:25.653467Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":8,"result":{"data":[]}}
2025-10-08T01:32:26.726828Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":9,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Optional.tlk"}}}
2025-10-08T01:32:26.727250Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":9,"result":{"data":[]}}
2025-10-08T01:32:27.053079Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":10,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Optional.tlk"}}}
2025-10-08T01:32:27.053397Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":10,"result":{"data":[]}}
2025-10-08T01:32:27.871590Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didSave","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Optional.tlk"}}}
2025-10-08T03:00:45.141763Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":11,"method":"shutdown"}
2025-10-08T03:00:45.142139Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":11,"error":{"code":-32601,"message":"No such method shutdown","data":null}}
2025-10-08T03:00:56.360359Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","params":{"capabilities":{"general":{"positionEncodings":["utf-8","utf-16","utf-32"]},"window":{"showDocument":{"support":true},"workDoneProgress":true,"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}}},"workspace":{"symbol":{"dynamicRegistration":false,"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}},"workspaceEdit":{"resourceOperations":["rename","create","delete"]},"didChangeWatchedFiles":{"dynamicRegistration":false,"relativePatternSupport":true},"applyEdit":true,"workspaceFolders":true,"semanticTokens":{"refreshSupport":true},"inlayHint":{"refreshSupport":true},"configuration":true,"didChangeConfiguration":{"dynamicRegistration":false}},"textDocument":{"formatting":{"dynamicRegistration":true},"documentSymbol":{"dynamicRegistration":false,"hierarchicalDocumentSymbolSupport":true,"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}},"diagnostic":{"dynamicRegistration":false,"tagSupport":{"valueSet":[1,2]}},"implementation":{"linkSupport":true},"documentHighlight":{"dynamicRegistration":false},"codeAction":{"dataSupport":true,"isPreferredSupport":true,"dynamicRegistration":true,"resolveSupport":{"properties":["edit","command"]},"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}}},"synchronization":{"willSave":true,"didSave":true,"willSaveWaitUntil":true,"dynamicRegistration":false},"typeDefinition":{"linkSupport":true},"declaration":{"linkSupport":true},"completion":{"completionList":{"itemDefaults":["editRange","insertTextFormat","insertTextMode","data"]},"dynamicRegistration":false,"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},"contextSupport":true,"completionItem":{"resolveSupport":{"properties":["additionalTextEdits","command"]},"commitCharactersSupport":false,"documentationFormat":["markdown","plaintext"],"preselectSupport":false,"snippetSupport":true,"deprecatedSupport":true,"tagSupport":{"valueSet":[1]}}},"rename":{"dynamicRegistration":true,"prepareSupport":true},"codeLens":{"dynamicRegistration":false,"resolveSupport":{"properties":["command"]}},"references":{"dynamicRegistration":false},"foldingRange":{"dynamicRegistration":false,"lineFoldingOnly":true,"foldingRange":{"collapsedText":true},"foldingRangeKind":{"valueSet":["comment","imports","region"]}},"semanticTokens":{"overlappingTokenSupport":true,"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"],"formats":["relative"],"requests":{"full":{"delta":true},"range":false},"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"dynamicRegistration":false,"augmentsSyntaxTokens":true,"serverCancelSupport":false,"multilineTokenSupport":false},"inlayHint":{"dynamicRegistration":true,"resolveSupport":{"properties":["textEdits","tooltip","location","command"]}},"definition":{"linkSupport":true,"dynamicRegistration":true},"hover":{"dynamicRegistration":true,"contentFormat":["markdown","plaintext"]},"callHierarchy":{"dynamicRegistration":false},"publishDiagnostics":{"dataSupport":true,"relatedInformation":true,"tagSupport":{"valueSet":[1,2]}},"signatureHelp":{"dynamicRegistration":false,"signatureInformation":{"parameterInformation":{"labelOffsetSupport":true},"activeParameterSupport":true,"documentationFormat":["markdown","plaintext"]}},"rangeFormatting":{"dynamicRegistration":true,"rangesSupport":true}}},"workspaceFolders":null,"trace":"off","rootPath":null,"clientInfo":{"name":"Neovim","version":"0.11.3"},"rootUri":null,"processId":1588481,"workDoneToken":"1"},"method":"initialize","id":1}
2025-10-08T03:00:56.361317Z TRACE request{method="initialize"}: talk::lsp::server: Initialize with InitializeParams { process_id: Some(1588481), root_path: None, root_uri: None, initialization_options: None, capabilities: ClientCapabilities { workspace: Some(WorkspaceClientCapabilities { apply_edit: Some(true), workspace_edit: Some(WorkspaceEditClientCapabilities { document_changes: None, resource_operations: Some([Rename, Create, Delete]), failure_handling: None, normalizes_line_endings: None, change_annotation_support: None }), did_change_configuration: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), did_change_watched_files: Some(DidChangeWatchedFilesClientCapabilities { dynamic_registration: Some(false), relative_pattern_support: Some(true) }), symbol: Some(WorkspaceSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), tag_support: None, resolve_support: None }), execute_command: None, workspace_folders: Some(true), configuration: Some(true), semantic_tokens: Some(SemanticTokensWorkspaceClientCapabilities { refresh_support: Some(true) }), code_lens: None, file_operations: None, inline_value: None, inlay_hint: Some(InlayHintWorkspaceClientCapabilities { refresh_support: Some(true) }), diagnostic: None }), text_document: Some(TextDocumentClientCapabilities { synchronization: Some(TextDocumentSyncClientCapabilities { dynamic_registration: Some(false), will_save: Some(true), will_save_wait_until: Some(true), did_save: Some(true) }), completion: Some(CompletionClientCapabilities { dynamic_registration: Some(false), completion_item: Some(CompletionItemCapability { snippet_support: Some(true), commit_characters_support: Some(false), documentation_format: Some([Markdown, PlainText]), deprecated_support: Some(true), preselect_support: Some(false), tag_support: Some(TagSupport { value_set: [Deprecated] }), insert_replace_support: None, resolve_support: Some(CompletionItemCapabilityResolveSupport { properties: ["additionalTextEdits", "command"] }), insert_text_mode_support: None, label_details_support: None }), completion_item_kind: Some(CompletionItemKindCapability { value_set: Some([Text, Method, Function, Constructor, Field, Variable, Class, Interface, Module, Property, Unit, Value, Enum, Keyword, Snippet, Color, File, Reference, Folder, EnumMember, Constant, Struct, Event, Operator, TypeParameter]) }), context_support: Some(true), insert_text_mode: None, completion_list: Some(CompletionListCapability { item_defaults: Some(["editRange", "insertTextFormat", "insertTextMode", "data"]) }) }), hover: Some(HoverClientCapabilities { dynamic_registration: Some(true), content_format: Some([Markdown, PlainText]) }), signature_help: Some(SignatureHelpClientCapabilities { dynamic_registration: Some(false), signature_information: Some(SignatureInformationSettings { documentation_format: Some([Markdown, PlainText]), parameter_information: Some(ParameterInformationSettings { label_offset_support: Some(true) }), active_parameter_support: Some(true) }), context_support: None }), references: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_highlight: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_symbol: Some(DocumentSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), hierarchical_document_symbol_support: Some(true), tag_support: None }), formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), range_formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), on_type_formatting: None, declaration: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), definition: Some(GotoCapability { dynamic_registration: Some(true), link_support: Some(true) }), type_definition: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), implementation: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), code_action: Some(CodeActionClientCapabilities { dynamic_registration: Some(true), code_action_literal_support: Some(CodeActionLiteralSupport { code_action_kind: CodeActionKindLiteralSupport { value_set: ["", "quickfix", "refactor", "refactor.extract", "refactor.inline", "refactor.rewrite", "source", "source.organizeImports"] } }), is_preferred_support: Some(true), disabled_support: None, data_support: Some(true), resolve_support: Some(CodeActionCapabilityResolveSupport { properties: ["edit", "command"] }), honors_change_annotations: None }), code_lens: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_link: None, color_provider: None, rename: Some(RenameClientCapabilities { dynamic_registration: Some(true), prepare_support: Some(true), prepare_support_default_behavior: None, honors_change_annotations: None }), publish_diagnostics: Some(PublishDiagnosticsClientCapabilities { related_information: Some(true), tag_support: Some(TagSupport { value_set: [Unnecessary, Deprecated] }), version_support: None, code_description_support: None, data_support: Some(true) }), folding_range: Some(FoldingRangeClientCapabilities { dynamic_registration: Some(false), range_limit: None, line_folding_only: Some(true), folding_range_kind: Some(FoldingRangeKindCapability { value_set: Some([Comment, Imports, Region]) }), folding_range: Some(FoldingRangeCapability { collapsed_text: Some(true) }) }), selection_range: None, linked_editing_range: None, call_hierarchy: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), semantic_tokens: Some(SemanticTokensClientCapabilities { dynamic_registration: Some(false), requests: SemanticTokensClientCapabilitiesRequests { range: Some(false), full: Some(Delta { delta: Some(true) }) }, token_types: [SemanticTokenType("namespace"), SemanticTokenType("type"), SemanticTokenType("class"), SemanticTokenType("enum"), SemanticTokenType("interface"), SemanticTokenType("struct"), SemanticTokenType("typeParameter"), SemanticTokenType("parameter"), SemanticTokenType("variable"), SemanticTokenType("property"), SemanticTokenType("enumMember"), SemanticTokenType("event"), SemanticTokenType("function"), SemanticTokenType("method"), SemanticTokenType("macro"), SemanticTokenType("keyword"), SemanticTokenType("modifier"), SemanticTokenType("comment"), SemanticTokenType("string"), SemanticTokenType("number"), SemanticTokenType("regexp"), SemanticTokenType("operator"), SemanticTokenType("decorator")], token_modifiers: [SemanticTokenModifier("declaration"), SemanticTokenModifier("definition"), SemanticTokenModifier("readonly"), SemanticTokenModifier("static"), SemanticTokenModifier("deprecated"), SemanticTokenModifier("abstract"), SemanticTokenModifier("async"), SemanticTokenModifier("modification"), SemanticTokenModifier("documentation"), SemanticTokenModifier("defaultLibrary")], formats: [TokenFormat("relative")], overlapping_token_support: Some(true), multiline_token_support: Some(false), server_cancel_support: Some(false), augments_syntax_tokens: Some(true) }), moniker: None, type_hierarchy: None, inline_value: None, inlay_hint: Some(InlayHintClientCapabilities { dynamic_registration: Some(true), resolve_support: Some(InlayHintResolveClientCapabilities { properties: ["textEdits", "tooltip", "location", "command"] }) }), diagnostic: Some(DiagnosticClientCapabilities { dynamic_registration: Some(false), related_document_support: None }) }), window: Some(WindowClientCapabilities { work_done_progress: Some(true), show_message: Some(ShowMessageRequestClientCapabilities { message_action_item: Some(MessageActionItemCapabilities { additional_properties_support: Some(true) }) }), show_document: Some(ShowDocumentClientCapabilities { support: true }) }), general: Some(GeneralClientCapabilities { regular_expressions: None, markdown: None, stale_request_support: None, position_encodings: Some([PositionEncodingKind("utf-8"), PositionEncodingKind("utf-16"), PositionEncodingKind("utf-32")]) }), experimental: None }, trace: Some(Off), workspace_folders: None, client_info: Some(ClientInfo { name: "Neovim", version: Some("0.11.3") }), locale: None, work_done_progress_params: WorkDoneProgressParams { work_done_token: Some(String("1")) } }
2025-10-08T03:00:56.361591Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"result":{"capabilities":{"definitionProvider":true,"hoverProvider":true,"semanticTokensProvider":{"full":true,"legend":{"tokenModifiers":[],"tokenTypes":["comment","decorator","enumMember","enum","function","interface","keyword","method","modifier","number","operator","parameter","property","string","struct","typeParameter","type","variable"]},"range":false}}}}
2025-10-08T03:00:56.365132Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"initialized","params":{}}
2025-10-08T03:00:56.366534Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"method":"textDocument/semanticTokens/full","id":2}
2025-10-08T03:00:56.366663Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"result":{"data":[]}}
2025-10-08T03:01:03.776985Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","id":3}
2025-10-08T03:01:03.777327Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"result":{"data":[]}}
2025-10-08T03:01:05.291556Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","id":4}
2025-10-08T03:01:05.292004Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"result":{"data":[]}}
2025-10-08T03:01:06.167810Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","id":5}
2025-10-08T03:01:06.168222Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":5,"result":{"data":[]}}
2025-10-08T03:01:06.705076Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","id":6}
2025-10-08T03:01:06.705381Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":6,"result":{"data":[]}}
2025-10-08T03:01:07.007359Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","id":7}
2025-10-08T03:01:07.007629Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":7,"result":{"data":[]}}
2025-10-08T03:01:23.583748Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didSave","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}}}
2025-10-08T03:01:24.907165Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","id":8}
2025-10-08T03:01:24.907444Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":8,"result":{"data":[]}}
2025-10-08T03:01:25.129614Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","id":9}
2025-10-08T03:01:25.130016Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":9,"result":{"data":[]}}
2025-10-08T03:01:25.667321Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","id":10}
2025-10-08T03:01:25.667585Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":10,"result":{"data":[]}}
2025-10-08T03:24:02.042607Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"shutdown","id":11}
2025-10-08T03:24:02.042819Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":11,"error":{"code":-32601,"message":"No such method shutdown","data":null}}
2025-10-08T03:26:16.157547Z TRACE async_lsp: incoming msg={"params":{"trace":"off","rootUri":null,"rootPath":null,"clientInfo":{"name":"Neovim","version":"0.11.3"},"processId":1590695,"workDoneToken":"1","workspaceFolders":null,"capabilities":{"textDocument":{"rename":{"prepareSupport":true,"dynamicRegistration":true},"codeAction":{"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"isPreferredSupport":true,"dynamicRegistration":true,"resolveSupport":{"properties":["edit","command"]},"dataSupport":true},"callHierarchy":{"dynamicRegistration":false},"publishDiagnostics":{"relatedInformation":true,"tagSupport":{"valueSet":[1,2]},"dataSupport":true},"diagnostic":{"tagSupport":{"valueSet":[1,2]},"dynamicRegistration":false},"synchronization":{"willSave":true,"didSave":true,"willSaveWaitUntil":true,"dynamicRegistration":false},"rangeFormatting":{"rangesSupport":true,"dynamicRegistration":true},"documentSymbol":{"dynamicRegistration":false,"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"hierarchicalDocumentSymbolSupport":true},"formatting":{"dynamicRegistration":true},"foldingRange":{"lineFoldingOnly":true,"dynamicRegistration":false,"foldingRangeKind":{"valueSet":["comment","imports","region"]},"foldingRange":{"collapsedText":true}},"documentHighlight":{"dynamicRegistration":false},"signatureHelp":{"signatureInformation":{"activeParameterSupport":true,"documentationFormat":["markdown","plaintext"],"parameterInformation":{"labelOffsetSupport":true}},"dynamicRegistration":false},"codeLens":{"resolveSupport":{"properties":["command"]},"dynamicRegistration":false},"typeDefinition":{"linkSupport":true},"implementation":{"linkSupport":true},"declaration":{"linkSupport":true},"hover":{"contentFormat":["markdown","plaintext"],"dynamicRegistration":true},"inlayHint":{"resolveSupport":{"properties":["textEdits","tooltip","location","command"]},"dynamicRegistration":true},"references":{"dynamicRegistration":false},"definition":{"dynamicRegistration":true,"linkSupport":true},"completion":{"completionItem":{"resolveSupport":{"properties":["additionalTextEdits","command"]},"documentationFormat":["markdown","plaintext"],"deprecatedSupport":true,"preselectSupport":false,"commitCharactersSupport":false,"snippetSupport":true,"tagSupport":{"valueSet":[1]}},"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},"dynamicRegistration":false,"contextSupport":true,"completionList":{"itemDefaults":["editRange","insertTextFormat","insertTextMode","data"]}},"semanticTokens":{"augmentsSyntaxTokens":true,"serverCancelSupport":false,"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"],"overlappingTokenSupport":true,"formats":["relative"],"requests":{"range":false,"full":{"delta":true}},"dynamicRegistration":false,"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"multilineTokenSupport":false}},"window":{"workDoneProgress":true,"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}},"showDocument":{"support":true}},"general":{"positionEncodings":["utf-8","utf-16","utf-32"]},"workspace":{"inlayHint":{"refreshSupport":true},"applyEdit":true,"workspaceEdit":{"resourceOperations":["rename","create","delete"]},"workspaceFolders":true,"didChangeConfiguration":{"dynamicRegistration":false},"configuration":true,"symbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"dynamicRegistration":false},"didChangeWatchedFiles":{"relativePatternSupport":true,"dynamicRegistration":false},"semanticTokens":{"refreshSupport":true}}}},"method":"initialize","jsonrpc":"2.0","id":1}
2025-10-08T03:26:16.158213Z TRACE request{method="initialize"}: talk::lsp::server: Initialize with InitializeParams { process_id: Some(1590695), root_path: None, root_uri: None, initialization_options: None, capabilities: ClientCapabilities { workspace: Some(WorkspaceClientCapabilities { apply_edit: Some(true), workspace_edit: Some(WorkspaceEditClientCapabilities { document_changes: None, resource_operations: Some([Rename, Create, Delete]), failure_handling: None, normalizes_line_endings: None, change_annotation_support: None }), did_change_configuration: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), did_change_watched_files: Some(DidChangeWatchedFilesClientCapabilities { dynamic_registration: Some(false), relative_pattern_support: Some(true) }), symbol: Some(WorkspaceSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), tag_support: None, resolve_support: None }), execute_command: None, workspace_folders: Some(true), configuration: Some(true), semantic_tokens: Some(SemanticTokensWorkspaceClientCapabilities { refresh_support: Some(true) }), code_lens: None, file_operations: None, inline_value: None, inlay_hint: Some(InlayHintWorkspaceClientCapabilities { refresh_support: Some(true) }), diagnostic: None }), text_document: Some(TextDocumentClientCapabilities { synchronization: Some(TextDocumentSyncClientCapabilities { dynamic_registration: Some(false), will_save: Some(true), will_save_wait_until: Some(true), did_save: Some(true) }), completion: Some(CompletionClientCapabilities { dynamic_registration: Some(false), completion_item: Some(CompletionItemCapability { snippet_support: Some(true), commit_characters_support: Some(false), documentation_format: Some([Markdown, PlainText]), deprecated_support: Some(true), preselect_support: Some(false), tag_support: Some(TagSupport { value_set: [Deprecated] }), insert_replace_support: None, resolve_support: Some(CompletionItemCapabilityResolveSupport { properties: ["additionalTextEdits", "command"] }), insert_text_mode_support: None, label_details_support: None }), completion_item_kind: Some(CompletionItemKindCapability { value_set: Some([Text, Method, Function, Constructor, Field, Variable, Class, Interface, Module, Property, Unit, Value, Enum, Keyword, Snippet, Color, File, Reference, Folder, EnumMember, Constant, Struct, Event, Operator, TypeParameter]) }), context_support: Some(true), insert_text_mode: None, completion_list: Some(CompletionListCapability { item_defaults: Some(["editRange", "insertTextFormat", "insertTextMode", "data"]) }) }), hover: Some(HoverClientCapabilities { dynamic_registration: Some(true), content_format: Some([Markdown, PlainText]) }), signature_help: Some(SignatureHelpClientCapabilities { dynamic_registration: Some(false), signature_information: Some(SignatureInformationSettings { documentation_format: Some([Markdown, PlainText]), parameter_information: Some(ParameterInformationSettings { label_offset_support: Some(true) }), active_parameter_support: Some(true) }), context_support: None }), references: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_highlight: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_symbol: Some(DocumentSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), hierarchical_document_symbol_support: Some(true), tag_support: None }), formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), range_formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), on_type_formatting: None, declaration: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), definition: Some(GotoCapability { dynamic_registration: Some(true), link_support: Some(true) }), type_definition: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), implementation: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), code_action: Some(CodeActionClientCapabilities { dynamic_registration: Some(true), code_action_literal_support: Some(CodeActionLiteralSupport { code_action_kind: CodeActionKindLiteralSupport { value_set: ["", "quickfix", "refactor", "refactor.extract", "refactor.inline", "refactor.rewrite", "source", "source.organizeImports"] } }), is_preferred_support: Some(true), disabled_support: None, data_support: Some(true), resolve_support: Some(CodeActionCapabilityResolveSupport { properties: ["edit", "command"] }), honors_change_annotations: None }), code_lens: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_link: None, color_provider: None, rename: Some(RenameClientCapabilities { dynamic_registration: Some(true), prepare_support: Some(true), prepare_support_default_behavior: None, honors_change_annotations: None }), publish_diagnostics: Some(PublishDiagnosticsClientCapabilities { related_information: Some(true), tag_support: Some(TagSupport { value_set: [Unnecessary, Deprecated] }), version_support: None, code_description_support: None, data_support: Some(true) }), folding_range: Some(FoldingRangeClientCapabilities { dynamic_registration: Some(false), range_limit: None, line_folding_only: Some(true), folding_range_kind: Some(FoldingRangeKindCapability { value_set: Some([Comment, Imports, Region]) }), folding_range: Some(FoldingRangeCapability { collapsed_text: Some(true) }) }), selection_range: None, linked_editing_range: None, call_hierarchy: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), semantic_tokens: Some(SemanticTokensClientCapabilities { dynamic_registration: Some(false), requests: SemanticTokensClientCapabilitiesRequests { range: Some(false), full: Some(Delta { delta: Some(true) }) }, token_types: [SemanticTokenType("namespace"), SemanticTokenType("type"), SemanticTokenType("class"), SemanticTokenType("enum"), SemanticTokenType("interface"), SemanticTokenType("struct"), SemanticTokenType("typeParameter"), SemanticTokenType("parameter"), SemanticTokenType("variable"), SemanticTokenType("property"), SemanticTokenType("enumMember"), SemanticTokenType("event"), SemanticTokenType("function"), SemanticTokenType("method"), SemanticTokenType("macro"), SemanticTokenType("keyword"), SemanticTokenType("modifier"), SemanticTokenType("comment"), SemanticTokenType("string"), SemanticTokenType("number"), SemanticTokenType("regexp"), SemanticTokenType("operator"), SemanticTokenType("decorator")], token_modifiers: [SemanticTokenModifier("declaration"), SemanticTokenModifier("definition"), SemanticTokenModifier("readonly"), SemanticTokenModifier("static"), SemanticTokenModifier("deprecated"), SemanticTokenModifier("abstract"), SemanticTokenModifier("async"), SemanticTokenModifier("modification"), SemanticTokenModifier("documentation"), SemanticTokenModifier("defaultLibrary")], formats: [TokenFormat("relative")], overlapping_token_support: Some(true), multiline_token_support: Some(false), server_cancel_support: Some(false), augments_syntax_tokens: Some(true) }), moniker: None, type_hierarchy: None, inline_value: None, inlay_hint: Some(InlayHintClientCapabilities { dynamic_registration: Some(true), resolve_support: Some(InlayHintResolveClientCapabilities { properties: ["textEdits", "tooltip", "location", "command"] }) }), diagnostic: Some(DiagnosticClientCapabilities { dynamic_registration: Some(false), related_document_support: None }) }), window: Some(WindowClientCapabilities { work_done_progress: Some(true), show_message: Some(ShowMessageRequestClientCapabilities { message_action_item: Some(MessageActionItemCapabilities { additional_properties_support: Some(true) }) }), show_document: Some(ShowDocumentClientCapabilities { support: true }) }), general: Some(GeneralClientCapabilities { regular_expressions: None, markdown: None, stale_request_support: None, position_encodings: Some([PositionEncodingKind("utf-8"), PositionEncodingKind("utf-16"), PositionEncodingKind("utf-32")]) }), experimental: None }, trace: Some(Off), workspace_folders: None, client_info: Some(ClientInfo { name: "Neovim", version: Some("0.11.3") }), locale: None, work_done_progress_params: WorkDoneProgressParams { work_done_token: Some(String("1")) } }
2025-10-08T03:26:16.158437Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"result":{"capabilities":{"definitionProvider":true,"hoverProvider":true,"semanticTokensProvider":{"full":true,"legend":{"tokenModifiers":[],"tokenTypes":["comment","decorator","enumMember","enum","function","interface","keyword","method","modifier","number","operator","parameter","property","string","struct","typeParameter","type","variable"]},"range":false}}}}
2025-10-08T03:26:16.162172Z TRACE async_lsp: incoming msg={"params":{},"jsonrpc":"2.0","method":"initialized"}
2025-10-08T03:26:16.163490Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"method":"textDocument/semanticTokens/full","jsonrpc":"2.0","id":2}
2025-10-08T03:26:16.163627Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"result":{"data":[]}}
2025-10-08T03:26:25.467670Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","jsonrpc":"2.0","id":3}
2025-10-08T03:26:25.467930Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"result":{"data":[]}}
2025-10-08T03:27:20.327554Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","jsonrpc":"2.0","id":4}
2025-10-08T03:27:20.328069Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"result":{"data":[]}}
2025-10-08T03:27:29.087549Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","jsonrpc":"2.0","id":5}
2025-10-08T03:27:29.087853Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":5,"result":{"data":[]}}
2025-10-08T03:27:29.898914Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"jsonrpc":"2.0","method":"textDocument/didSave"}
2025-10-08T03:27:57.077044Z TRACE async_lsp: incoming msg={"method":"shutdown","jsonrpc":"2.0","id":6}
2025-10-08T03:27:57.077251Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":6,"error":{"code":-32601,"message":"No such method shutdown","data":null}}
2025-10-08T03:38:59.354651Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"initialize","id":1,"params":{"capabilities":{"workspace":{"configuration":true,"applyEdit":true,"workspaceFolders":true,"semanticTokens":{"refreshSupport":true},"inlayHint":{"refreshSupport":true},"didChangeWatchedFiles":{"dynamicRegistration":false,"relativePatternSupport":true},"workspaceEdit":{"resourceOperations":["rename","create","delete"]},"symbol":{"dynamicRegistration":false,"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}},"didChangeConfiguration":{"dynamicRegistration":false}},"textDocument":{"semanticTokens":{"multilineTokenSupport":false,"overlappingTokenSupport":true,"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"],"dynamicRegistration":false,"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"requests":{"range":false,"full":{"delta":true}},"formats":["relative"],"augmentsSyntaxTokens":true,"serverCancelSupport":false},"inlayHint":{"dynamicRegistration":true,"resolveSupport":{"properties":["textEdits","tooltip","location","command"]}},"callHierarchy":{"dynamicRegistration":false},"definition":{"dynamicRegistration":true,"linkSupport":true},"rename":{"dynamicRegistration":true,"prepareSupport":true},"rangeFormatting":{"dynamicRegistration":true,"rangesSupport":true},"documentSymbol":{"dynamicRegistration":false,"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"hierarchicalDocumentSymbolSupport":true},"formatting":{"dynamicRegistration":true},"foldingRange":{"lineFoldingOnly":true,"foldingRangeKind":{"valueSet":["comment","imports","region"]},"dynamicRegistration":false,"foldingRange":{"collapsedText":true}},"completion":{"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},"completionItem":{"preselectSupport":false,"commitCharactersSupport":false,"tagSupport":{"valueSet":[1]},"snippetSupport":true,"resolveSupport":{"properties":["additionalTextEdits","command"]},"documentationFormat":["markdown","plaintext"],"deprecatedSupport":true},"completionList":{"itemDefaults":["editRange","insertTextFormat","insertTextMode","data"]},"dynamicRegistration":false,"contextSupport":true},"signatureHelp":{"dynamicRegistration":false,"signatureInformation":{"activeParameterSupport":true,"documentationFormat":["markdown","plaintext"],"parameterInformation":{"labelOffsetSupport":true}}},"hover":{"dynamicRegistration":true,"contentFormat":["markdown","plaintext"]},"codeLens":{"dynamicRegistration":false,"resolveSupport":{"properties":["command"]}},"codeAction":{"resolveSupport":{"properties":["edit","command"]},"dataSupport":true,"isPreferredSupport":true,"dynamicRegistration":true,"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}}},"implementation":{"linkSupport":true},"typeDefinition":{"linkSupport":true},"declaration":{"linkSupport":true},"synchronization":{"willSave":true,"didSave":true,"dynamicRegistration":false,"willSaveWaitUntil":true},"publishDiagnostics":{"relatedInformation":true,"tagSupport":{"valueSet":[1,2]},"dataSupport":true},"references":{"dynamicRegistration":false},"diagnostic":{"dynamicRegistration":false,"tagSupport":{"valueSet":[1,2]}},"documentHighlight":{"dynamicRegistration":false}},"general":{"positionEncodings":["utf-8","utf-16","utf-32"]},"window":{"workDoneProgress":true,"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}},"showDocument":{"support":true}}},"workspaceFolders":null,"rootPath":null,"clientInfo":{"version":"0.11.3","name":"Neovim"},"processId":1595044,"workDoneToken":"1","trace":"off","rootUri":null}}
2025-10-08T03:38:59.355307Z TRACE request{method="initialize"}: talk::lsp::server: Initialize with InitializeParams { process_id: Some(1595044), root_path: None, root_uri: None, initialization_options: None, capabilities: ClientCapabilities { workspace: Some(WorkspaceClientCapabilities { apply_edit: Some(true), workspace_edit: Some(WorkspaceEditClientCapabilities { document_changes: None, resource_operations: Some([Rename, Create, Delete]), failure_handling: None, normalizes_line_endings: None, change_annotation_support: None }), did_change_configuration: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), did_change_watched_files: Some(DidChangeWatchedFilesClientCapabilities { dynamic_registration: Some(false), relative_pattern_support: Some(true) }), symbol: Some(WorkspaceSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), tag_support: None, resolve_support: None }), execute_command: None, workspace_folders: Some(true), configuration: Some(true), semantic_tokens: Some(SemanticTokensWorkspaceClientCapabilities { refresh_support: Some(true) }), code_lens: None, file_operations: None, inline_value: None, inlay_hint: Some(InlayHintWorkspaceClientCapabilities { refresh_support: Some(true) }), diagnostic: None }), text_document: Some(TextDocumentClientCapabilities { synchronization: Some(TextDocumentSyncClientCapabilities { dynamic_registration: Some(false), will_save: Some(true), will_save_wait_until: Some(true), did_save: Some(true) }), completion: Some(CompletionClientCapabilities { dynamic_registration: Some(false), completion_item: Some(CompletionItemCapability { snippet_support: Some(true), commit_characters_support: Some(false), documentation_format: Some([Markdown, PlainText]), deprecated_support: Some(true), preselect_support: Some(false), tag_support: Some(TagSupport { value_set: [Deprecated] }), insert_replace_support: None, resolve_support: Some(CompletionItemCapabilityResolveSupport { properties: ["additionalTextEdits", "command"] }), insert_text_mode_support: None, label_details_support: None }), completion_item_kind: Some(CompletionItemKindCapability { value_set: Some([Text, Method, Function, Constructor, Field, Variable, Class, Interface, Module, Property, Unit, Value, Enum, Keyword, Snippet, Color, File, Reference, Folder, EnumMember, Constant, Struct, Event, Operator, TypeParameter]) }), context_support: Some(true), insert_text_mode: None, completion_list: Some(CompletionListCapability { item_defaults: Some(["editRange", "insertTextFormat", "insertTextMode", "data"]) }) }), hover: Some(HoverClientCapabilities { dynamic_registration: Some(true), content_format: Some([Markdown, PlainText]) }), signature_help: Some(SignatureHelpClientCapabilities { dynamic_registration: Some(false), signature_information: Some(SignatureInformationSettings { documentation_format: Some([Markdown, PlainText]), parameter_information: Some(ParameterInformationSettings { label_offset_support: Some(true) }), active_parameter_support: Some(true) }), context_support: None }), references: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_highlight: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_symbol: Some(DocumentSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), hierarchical_document_symbol_support: Some(true), tag_support: None }), formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), range_formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), on_type_formatting: None, declaration: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), definition: Some(GotoCapability { dynamic_registration: Some(true), link_support: Some(true) }), type_definition: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), implementation: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), code_action: Some(CodeActionClientCapabilities { dynamic_registration: Some(true), code_action_literal_support: Some(CodeActionLiteralSupport { code_action_kind: CodeActionKindLiteralSupport { value_set: ["", "quickfix", "refactor", "refactor.extract", "refactor.inline", "refactor.rewrite", "source", "source.organizeImports"] } }), is_preferred_support: Some(true), disabled_support: None, data_support: Some(true), resolve_support: Some(CodeActionCapabilityResolveSupport { properties: ["edit", "command"] }), honors_change_annotations: None }), code_lens: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_link: None, color_provider: None, rename: Some(RenameClientCapabilities { dynamic_registration: Some(true), prepare_support: Some(true), prepare_support_default_behavior: None, honors_change_annotations: None }), publish_diagnostics: Some(PublishDiagnosticsClientCapabilities { related_information: Some(true), tag_support: Some(TagSupport { value_set: [Unnecessary, Deprecated] }), version_support: None, code_description_support: None, data_support: Some(true) }), folding_range: Some(FoldingRangeClientCapabilities { dynamic_registration: Some(false), range_limit: None, line_folding_only: Some(true), folding_range_kind: Some(FoldingRangeKindCapability { value_set: Some([Comment, Imports, Region]) }), folding_range: Some(FoldingRangeCapability { collapsed_text: Some(true) }) }), selection_range: None, linked_editing_range: None, call_hierarchy: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), semantic_tokens: Some(SemanticTokensClientCapabilities { dynamic_registration: Some(false), requests: SemanticTokensClientCapabilitiesRequests { range: Some(false), full: Some(Delta { delta: Some(true) }) }, token_types: [SemanticTokenType("namespace"), SemanticTokenType("type"), SemanticTokenType("class"), SemanticTokenType("enum"), SemanticTokenType("interface"), SemanticTokenType("struct"), SemanticTokenType("typeParameter"), SemanticTokenType("parameter"), SemanticTokenType("variable"), SemanticTokenType("property"), SemanticTokenType("enumMember"), SemanticTokenType("event"), SemanticTokenType("function"), SemanticTokenType("method"), SemanticTokenType("macro"), SemanticTokenType("keyword"), SemanticTokenType("modifier"), SemanticTokenType("comment"), SemanticTokenType("string"), SemanticTokenType("number"), SemanticTokenType("regexp"), SemanticTokenType("operator"), SemanticTokenType("decorator")], token_modifiers: [SemanticTokenModifier("declaration"), SemanticTokenModifier("definition"), SemanticTokenModifier("readonly"), SemanticTokenModifier("static"), SemanticTokenModifier("deprecated"), SemanticTokenModifier("abstract"), SemanticTokenModifier("async"), SemanticTokenModifier("modification"), SemanticTokenModifier("documentation"), SemanticTokenModifier("defaultLibrary")], formats: [TokenFormat("relative")], overlapping_token_support: Some(true), multiline_token_support: Some(false), server_cancel_support: Some(false), augments_syntax_tokens: Some(true) }), moniker: None, type_hierarchy: None, inline_value: None, inlay_hint: Some(InlayHintClientCapabilities { dynamic_registration: Some(true), resolve_support: Some(InlayHintResolveClientCapabilities { properties: ["textEdits", "tooltip", "location", "command"] }) }), diagnostic: Some(DiagnosticClientCapabilities { dynamic_registration: Some(false), related_document_support: None }) }), window: Some(WindowClientCapabilities { work_done_progress: Some(true), show_message: Some(ShowMessageRequestClientCapabilities { message_action_item: Some(MessageActionItemCapabilities { additional_properties_support: Some(true) }) }), show_document: Some(ShowDocumentClientCapabilities { support: true }) }), general: Some(GeneralClientCapabilities { regular_expressions: None, markdown: None, stale_request_support: None, position_encodings: Some([PositionEncodingKind("utf-8"), PositionEncodingKind("utf-16"), PositionEncodingKind("utf-32")]) }), experimental: None }, trace: Some(Off), workspace_folders: None, client_info: Some(ClientInfo { name: "Neovim", version: Some("0.11.3") }), locale: None, work_done_progress_params: WorkDoneProgressParams { work_done_token: Some(String("1")) } }
2025-10-08T03:38:59.355550Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"result":{"capabilities":{"definitionProvider":true,"hoverProvider":true,"semanticTokensProvider":{"full":true,"legend":{"tokenModifiers":[],"tokenTypes":["comment","decorator","enumMember","enum","function","interface","keyword","method","modifier","number","operator","parameter","property","string","struct","typeParameter","type","variable"]},"range":false},"textDocumentSync":{"change":2,"openClose":true,"save":true}}}}
2025-10-08T03:38:59.363073Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"initialized","params":{}}
2025-10-08T03:38:59.363252Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":0,"languageId":"talktalk","text":"struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n"}}}
2025-10-08T03:38:59.363376Z  INFO notification{method="textDocument/didOpen"}: talk::lsp::server: did open file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T03:38:59.367078Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","id":2,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}}}
2025-10-08T03:38:59.367237Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"result":{"data":[]}}
2025-10-08T03:39:00.355937Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:00.356002Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:00.356039Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T03:39:00.356063Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T03:39:00.356105Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T03:39:00.356153Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T03:39:00.356196Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T03:39:00.356234Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T03:39:00.356306Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T03:39:00.356334Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T03:39:00.356352Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T03:39:00.356379Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T03:39:00.356392Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T03:39:00.356438Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T03:39:00.356474Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T03:39:00.356519Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T03:39:00.356544Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T03:39:00.356567Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T03:39:00.356599Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T03:39:00.356624Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T03:39:00.356688Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T03:39:00.356712Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T03:39:00.356741Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T03:39:00.356764Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T03:39:00.356785Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T03:39:00.356815Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T03:39:00.356839Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T03:39:00.356880Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T03:39:00.356904Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T03:39:00.356931Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T03:39:00.356953Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T03:39:00.356970Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T03:39:00.356999Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T03:39:00.357062Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T03:39:00.357138Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T03:39:00.357184Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T03:39:00.357200Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T03:39:00.357291Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T03:39:00.357314Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:00.357325Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:00.357354Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T03:39:00.357375Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T03:39:00.357403Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T03:39:00.357427Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T03:39:00.357448Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T03:39:00.357475Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T03:39:00.357527Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T03:39:00.357552Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T03:39:00.357573Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T03:39:00.357593Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T03:39:00.357612Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T03:39:00.357661Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T03:39:00.357685Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T03:39:00.357716Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T03:39:00.357740Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T03:39:00.357759Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T03:39:00.357788Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T03:39:00.357813Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T03:39:00.357849Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T03:39:00.357875Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T03:39:00.357905Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T03:39:00.357929Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T03:39:00.357954Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T03:39:00.357980Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T03:39:00.358004Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T03:39:00.358039Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T03:39:00.358062Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T03:39:00.358089Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T03:39:00.358113Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T03:39:00.358131Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T03:39:00.358160Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T03:39:00.358184Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T03:39:00.358215Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T03:39:00.358239Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T03:39:00.358245Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T03:39:00.358321Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T03:39:00.358351Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:00.358361Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T03:39:00.358382Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T03:39:00.358400Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T03:39:00.358413Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T03:39:00.358467Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:00.358503Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:00.358509Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:00.358604Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 36..39 }
2025-10-08T03:39:00.358622Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 56..59 }
2025-10-08T03:39:00.358641Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 74..77 }
2025-10-08T03:39:00.358680Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T03:39:00.358729Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T03:39:00.358745Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T03:39:00.358754Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T03:39:00.358819Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T03:39:00.358838Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T03:39:00.358849Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T03:39:00.358893Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T03:39:00.358907Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T03:39:00.358931Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:00.358957Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:00.358976Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:00.359011Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T03:39:00.359044Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T03:39:00.359057Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T03:39:00.359079Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T03:39:00.359093Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T03:39:00.359172Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T03:39:00.359218Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T03:39:00.359294Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":0}}
2025-10-08T03:39:00.359357Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":0,"method":"workspace/semanticTokens/refresh"}
2025-10-08T03:39:00.360259Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","id":3,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}}}
2025-10-08T03:39:00.360400Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"result":{"data":[0,0,6,6,0,0,12,1,10,0,0,8,1,10,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T03:39:00.360429Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":0,"result":null}
2025-10-08T03:39:43.769751Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk","version":0,"languageId":"talktalk","text":"protocol Equals {\n  associated RHS\n  associated Ret\n\n  func equals(rhs: RHS) -> Bool\n}\n\nextend Int: Equals {\n  func equals(rhs: Int) -> Bool {\n    true\n  }\n}\n\nextend Float: Equals {\n  func equals(rhs: Float) -> Bool {\n    true\n  }\n}\n"}}}
2025-10-08T03:39:43.769984Z  INFO notification{method="textDocument/didOpen"}: talk::lsp::server: did open file:///home/nakajima/apps/talk/core/Equals.tlk
2025-10-08T03:39:43.775191Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","id":4,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}}}
2025-10-08T03:39:43.775434Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"result":{"data":[]}}
2025-10-08T03:39:44.356356Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:44.356476Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:44.356512Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}: talk::parsing::parser: push_source_location: Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:44.356534Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:consume{expected=Protocol}: talk::parsing::parser: advance Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:44.356583Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 9, end: 15, line: 0, col: 15 })
2025-10-08T03:39:44.356614Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:44.356659Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:44.356684Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:44.356710Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:44.356724Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T03:39:44.356746Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T03:39:44.356764Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T03:39:44.356792Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T03:39:44.356813Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 34, end: 35, line: 2, col: 0 })
2025-10-08T03:39:44.356868Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T03:39:44.356888Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T03:39:44.356905Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T03:39:44.356928Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T03:39:44.356950Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 51, end: 53, line: 4, col: 0 })
2025-10-08T03:39:44.356996Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:44.357025Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:44.357043Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:44.357074Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 60, end: 66, line: 4, col: 13 })
2025-10-08T03:39:44.357105Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 66, end: 67, line: 4, col: 14 })
2025-10-08T03:39:44.357137Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 67, end: 70, line: 4, col: 17 })
2025-10-08T03:39:44.357161Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T03:39:44.357177Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T03:39:44.357205Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T03:39:44.357229Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T03:39:44.357261Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 75, end: 76, line: 4, col: 23 })
2025-10-08T03:39:44.357283Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 77, end: 79, line: 4, col: 26 })
2025-10-08T03:39:44.357299Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T03:39:44.357331Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T03:39:44.357347Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 5, col: 0 })
2025-10-08T03:39:44.357371Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 85, end: 86, line: 5, col: 1 })
2025-10-08T03:39:44.357390Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T03:39:44.357396Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T03:39:44.357409Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T03:39:44.357420Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T03:39:44.357437Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 95, end: 98, line: 7, col: 10 })
2025-10-08T03:39:44.357466Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 98, end: 99, line: 7, col: 11 })
2025-10-08T03:39:44.357479Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T03:39:44.357495Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T03:39:44.357517Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T03:39:44.357530Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T03:39:44.357542Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T03:39:44.357550Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T03:39:44.357568Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:44.357580Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:44.357592Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:44.357612Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 116, end: 122, line: 8, col: 13 })
2025-10-08T03:39:44.357646Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 122, end: 123, line: 8, col: 14 })
2025-10-08T03:39:44.357668Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 123, end: 126, line: 8, col: 17 })
2025-10-08T03:39:44.357685Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T03:39:44.357696Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T03:39:44.357709Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T03:39:44.357730Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T03:39:44.357752Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 131, end: 132, line: 8, col: 23 })
2025-10-08T03:39:44.357772Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 133, end: 135, line: 8, col: 26 })
2025-10-08T03:39:44.357787Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T03:39:44.357811Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T03:39:44.357834Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T03:39:44.357851Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T03:39:44.357870Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T03:39:44.357884Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T03:39:44.357938Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 }) with precedence: Assignment
2025-10-08T03:39:44.357964Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T03:39:44.357982Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T03:39:44.358003Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:44.358023Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 151, end: 152, line: 10, col: 0 })
2025-10-08T03:39:44.358046Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 154, end: 155, line: 10, col: 3 })
2025-10-08T03:39:44.358069Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T03:39:44.358083Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T03:39:44.358091Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 156, end: 157, line: 11, col: 1 })
2025-10-08T03:39:44.358110Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T03:39:44.358118Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T03:39:44.358131Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T03:39:44.358144Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T03:39:44.358161Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 166, end: 171, line: 13, col: 12 })
2025-10-08T03:39:44.358181Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 171, end: 172, line: 13, col: 13 })
2025-10-08T03:39:44.358193Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T03:39:44.358211Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T03:39:44.358231Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T03:39:44.358246Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T03:39:44.358258Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T03:39:44.358268Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T03:39:44.358284Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:44.358298Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:44.358310Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:44.358332Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 189, end: 195, line: 14, col: 13 })
2025-10-08T03:39:44.358356Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 195, end: 196, line: 14, col: 14 })
2025-10-08T03:39:44.358381Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 196, end: 199, line: 14, col: 17 })
2025-10-08T03:39:44.358399Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T03:39:44.358412Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T03:39:44.358428Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T03:39:44.358448Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T03:39:44.358479Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 206, end: 207, line: 14, col: 25 })
2025-10-08T03:39:44.358499Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 208, end: 210, line: 14, col: 28 })
2025-10-08T03:39:44.358516Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T03:39:44.358540Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T03:39:44.358563Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T03:39:44.358580Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T03:39:44.358599Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T03:39:44.358611Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T03:39:44.358641Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 }) with precedence: Assignment
2025-10-08T03:39:44.358661Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T03:39:44.358678Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T03:39:44.358697Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:44.358721Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 226, end: 227, line: 16, col: 0 })
2025-10-08T03:39:44.358744Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 229, end: 230, line: 16, col: 3 })
2025-10-08T03:39:44.358774Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T03:39:44.358785Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T03:39:44.358793Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 231, end: 232, line: 17, col: 1 })
2025-10-08T03:39:44.358808Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T03:39:44.358815Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T03:39:44.358903Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("protocol Equals {\n  associated RHS\n  associated Ret\n\n  func equals(rhs: RHS) -> Bool\n}\n\nextend Int: Equals {\n  func equals(rhs: Int) -> Bool {\n    true\n  }\n}\n\nextend Float: Equals {\n  func equals(rhs: Float) -> Bool {\n    true\n  }\n}\n") }
2025-10-08T03:39:44.358919Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:44.358927Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:44.358943Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}: talk::parsing::parser: push_source_location: Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:44.358958Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:consume{expected=Protocol}: talk::parsing::parser: advance Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:44.358977Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 9, end: 15, line: 0, col: 15 })
2025-10-08T03:39:44.358996Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:44.359009Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:44.359022Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:44.359033Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:44.359042Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T03:39:44.359053Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T03:39:44.359067Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T03:39:44.359083Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T03:39:44.359100Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 34, end: 35, line: 2, col: 0 })
2025-10-08T03:39:44.359117Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T03:39:44.359131Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T03:39:44.359149Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T03:39:44.359165Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T03:39:44.359182Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 51, end: 53, line: 4, col: 0 })
2025-10-08T03:39:44.359206Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:44.359220Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:44.359233Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:44.359256Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 60, end: 66, line: 4, col: 13 })
2025-10-08T03:39:44.359278Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 66, end: 67, line: 4, col: 14 })
2025-10-08T03:39:44.359301Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 67, end: 70, line: 4, col: 17 })
2025-10-08T03:39:44.359319Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T03:39:44.359340Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T03:39:44.359354Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T03:39:44.359375Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T03:39:44.359399Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 75, end: 76, line: 4, col: 23 })
2025-10-08T03:39:44.359419Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 77, end: 79, line: 4, col: 26 })
2025-10-08T03:39:44.359436Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T03:39:44.359453Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T03:39:44.359476Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 5, col: 0 })
2025-10-08T03:39:44.359503Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 85, end: 86, line: 5, col: 1 })
2025-10-08T03:39:44.359520Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T03:39:44.359525Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T03:39:44.359538Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T03:39:44.359548Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T03:39:44.359564Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 95, end: 98, line: 7, col: 10 })
2025-10-08T03:39:44.359578Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 98, end: 99, line: 7, col: 11 })
2025-10-08T03:39:44.359590Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T03:39:44.359610Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T03:39:44.359628Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T03:39:44.359655Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T03:39:44.359668Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T03:39:44.359679Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T03:39:44.359699Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:44.359716Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:44.359729Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:44.359750Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 116, end: 122, line: 8, col: 13 })
2025-10-08T03:39:44.359771Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 122, end: 123, line: 8, col: 14 })
2025-10-08T03:39:44.359796Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 123, end: 126, line: 8, col: 17 })
2025-10-08T03:39:44.359813Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T03:39:44.359825Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T03:39:44.359840Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T03:39:44.359858Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T03:39:44.359886Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 131, end: 132, line: 8, col: 23 })
2025-10-08T03:39:44.359906Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 133, end: 135, line: 8, col: 26 })
2025-10-08T03:39:44.359923Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T03:39:44.359942Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T03:39:44.359967Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T03:39:44.359984Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T03:39:44.360001Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T03:39:44.360015Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T03:39:44.360037Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 }) with precedence: Assignment
2025-10-08T03:39:44.360056Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T03:39:44.360073Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T03:39:44.360090Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:44.360111Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 151, end: 152, line: 10, col: 0 })
2025-10-08T03:39:44.360133Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 154, end: 155, line: 10, col: 3 })
2025-10-08T03:39:44.360155Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T03:39:44.360166Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T03:39:44.360179Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 156, end: 157, line: 11, col: 1 })
2025-10-08T03:39:44.360195Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T03:39:44.360204Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T03:39:44.360216Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T03:39:44.360229Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T03:39:44.360246Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 166, end: 171, line: 13, col: 12 })
2025-10-08T03:39:44.360263Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 171, end: 172, line: 13, col: 13 })
2025-10-08T03:39:44.360276Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T03:39:44.360293Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T03:39:44.360314Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T03:39:44.360326Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T03:39:44.360340Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T03:39:44.360348Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T03:39:44.360365Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:44.360381Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:44.360393Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:44.360416Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 189, end: 195, line: 14, col: 13 })
2025-10-08T03:39:44.360436Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 195, end: 196, line: 14, col: 14 })
2025-10-08T03:39:44.360465Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 196, end: 199, line: 14, col: 17 })
2025-10-08T03:39:44.360483Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T03:39:44.360497Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T03:39:44.360511Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T03:39:44.360534Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T03:39:44.360561Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 206, end: 207, line: 14, col: 25 })
2025-10-08T03:39:44.360580Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 208, end: 210, line: 14, col: 28 })
2025-10-08T03:39:44.360597Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T03:39:44.360616Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T03:39:44.360647Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T03:39:44.360679Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T03:39:44.360696Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T03:39:44.360710Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T03:39:44.360735Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 }) with precedence: Assignment
2025-10-08T03:39:44.360754Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T03:39:44.360771Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T03:39:44.360787Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:44.360808Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 226, end: 227, line: 16, col: 0 })
2025-10-08T03:39:44.360830Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 229, end: 230, line: 16, col: 3 })
2025-10-08T03:39:44.360858Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T03:39:44.360870Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T03:39:44.360878Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 231, end: 232, line: 17, col: 1 })
2025-10-08T03:39:44.360897Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T03:39:44.360905Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T03:39:44.360984Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 11), kind: Protocol { name: Raw("Equals"), generics: [], body: Block { id: NodeID(0, 10), args: [], body: [Decl(Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 31..34 } }, span: 20..34 }), Decl(Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 48..51 } }, span: 37..51 }), Decl(Decl { id: NodeID(0, 9), kind: MethodRequirement(FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }), span: 55..84 })], span: 16..86 }, conformances: [] }, span: 0..86 }}: talk::name_resolution::name_resolver: declare type Equals -> Protocol(ProtocolId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T03:39:44.361004Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 11), kind: Protocol { name: Raw("Equals"), generics: [], body: Block { id: NodeID(0, 10), args: [], body: [Decl(Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 31..34 } }, span: 20..34 }), Decl(Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 48..51 } }, span: 37..51 }), Decl(Decl { id: NodeID(0, 9), kind: MethodRequirement(FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }), span: 55..84 })], span: 16..86 }, conformances: [] }, span: 0..86 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 11), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:44.361022Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 31..34 } }, span: 20..34 }}: talk::name_resolution::name_resolver: declare type RHS -> AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 11))
2025-10-08T03:39:44.361039Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 48..51 } }, span: 37..51 }}: talk::name_resolution::name_resolver: declare type Ret -> AssociatedType(AssociatedTypeId { module_id: Current, local_id: 2 }) Some(NodeID(0, 11))
2025-10-08T03:39:44.361069Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 1 }) Some(NodeID(0, 11))
2025-10-08T03:39:44.361082Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 8), parent_id: Some(NodeID(0, 11)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:44.361090Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(1)) Some(NodeID(0, 8))
2025-10-08T03:39:44.361099Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(2)) Some(NodeID(0, 8))
2025-10-08T03:39:44.361123Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 21), kind: Extend { name: Raw("Int"), conformances: [TypeAnnotation { id: NodeID(0, 12), kind: Nominal { name: Raw("Equals"), generics: [] }, span: 100..106 }], generics: [], body: Block { id: NodeID(0, 20), args: [], body: [Decl(Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 })], span: 107..157 } }, span: 88..157 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 21), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:44.361148Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) Some(NodeID(0, 21))
2025-10-08T03:39:44.361169Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 136..140 }), attributes: [] }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 18), parent_id: Some(NodeID(0, 21)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:44.361180Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 136..140 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(3)) Some(NodeID(0, 18))
2025-10-08T03:39:44.361187Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 136..140 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(4)) Some(NodeID(0, 18))
2025-10-08T03:39:44.361218Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 31), kind: Extend { name: Raw("Float"), conformances: [TypeAnnotation { id: NodeID(0, 22), kind: Nominal { name: Raw("Equals"), generics: [] }, span: 173..179 }], generics: [], body: Block { id: NodeID(0, 30), args: [], body: [Decl(Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 })], span: 180..232 } }, span: 159..232 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 31), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:44.361239Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) Some(NodeID(0, 31))
2025-10-08T03:39:44.361256Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 211..215 }), attributes: [] }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 28), parent_id: Some(NodeID(0, 31)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:44.361269Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 211..215 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(5)) Some(NodeID(0, 28))
2025-10-08T03:39:44.361277Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 211..215 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(6)) Some(NodeID(0, 28))
2025-10-08T03:39:44.361354Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:44.361370Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:44.361377Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:44.361465Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Self")), span: 55..84 }
2025-10-08T03:39:44.361482Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 72..75 }
2025-10-08T03:39:44.361489Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 80..84 }
2025-10-08T03:39:44.361514Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 12), kind: Nominal { name: Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Equals"), generics: [] }, span: 100..106 }
2025-10-08T03:39:44.361534Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }
2025-10-08T03:39:44.361541Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }
2025-10-08T03:39:44.361549Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }
2025-10-08T03:39:44.361569Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 22), kind: Nominal { name: Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Equals"), generics: [] }, span: 173..179 }
2025-10-08T03:39:44.361582Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }
2025-10-08T03:39:44.361588Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }
2025-10-08T03:39:44.361595Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }
2025-10-08T03:39:44.361657Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T03:39:44.361752Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T03:39:44.361769Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Protocol(ProtocolId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1))], predicates: [], ty: typeparam(1) })
2025-10-08T03:39:44.361800Z TRACE event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 72..75 }}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T03:39:44.361819Z  WARN event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 72..75 }}: talk::types::term_environment: overriding Protocol(ProtocolId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(2)), Ty(TypeParamId(1))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: typeparam(1) }). existing: Scheme(Scheme { foralls: [Ty(TypeParamId(1))], predicates: [], ty: typeparam(1) })
2025-10-08T03:39:44.361831Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 72..75 }}: talk::types::term_environment: promote Protocol(ProtocolId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(2)), Ty(TypeParamId(1))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: typeparam(1) })
2025-10-08T03:39:44.361855Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(1)), Ty(TypeParamId(2))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: func(typeparam(1)) -> func(typeparam(2)) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) })
2025-10-08T03:39:44.361904Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:44.361938Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:44.361967Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T03:39:44.361991Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T03:39:44.362117Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: inference instantiate: Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:44.362151Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(5)) : Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:44.362165Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(5)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:44.362179Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(6)) : Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:44.362190Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(6)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:44.362221Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::wants: constraining equals Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:44.362254Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:44.362274Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}: talk::types::wants: constraining equals func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:44.362300Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 })
2025-10-08T03:39:44.362324Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })
2025-10-08T03:39:44.362388Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Float -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- func equals(self: Self, rhs: Float) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:44.362712Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:44.362797Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: inference instantiate: Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:44.362825Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(3)) : Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
2025-10-08T03:39:44.362841Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(3)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:44.362853Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(4)) : Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
2025-10-08T03:39:44.362862Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(4)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:44.362893Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::wants: constraining equals Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:44.362920Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:44.362941Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}: talk::types::wants: constraining equals func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:44.362960Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 })
2025-10-08T03:39:44.362978Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })
2025-10-08T03:39:44.363044Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- func equals(self: Self, rhs: Int) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- func equals(self: Self, rhs: Float) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Int -> Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Float -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:44.363482Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:44.363521Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 3
2025-10-08T03:39:44.363613Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk","version":0}}
2025-10-08T03:39:44.363696Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"method":"workspace/semanticTokens/refresh"}
2025-10-08T03:39:44.364160Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","id":5,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}}}
2025-10-08T03:39:44.364302Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":5,"result":{"data":[0,0,8,6,0,1,2,10,16,0,1,2,10,16,0,2,2,4,6,0,0,22,2,6,0,3,0,6,6,0,1,2,4,6,0,0,22,2,6,0,1,4,4,6,0,4,0,6,6,0,1,2,4,6,0,0,24,2,6,0,1,4,4,6,0]}}
2025-10-08T03:39:44.364331Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":1,"result":null}
2025-10-08T03:39:49.855697Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didChange","params":{"contentChanges":[{"text":" ","range":{"start":{"line":1,"character":2},"end":{"line":1,"character":2}},"rangeLength":0}],"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk","version":3}}}
2025-10-08T03:39:49.855996Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Equals.tlk
2025-10-08T03:39:49.905048Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","id":6,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}}}
2025-10-08T03:39:49.905336Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":6,"result":{"data":[0,0,8,6,0,1,2,10,16,0,1,2,10,16,0,2,2,4,6,0,0,22,2,6,0,3,0,6,6,0,1,2,4,6,0,0,22,2,6,0,1,4,4,6,0,4,0,6,6,0,1,2,4,6,0,0,24,2,6,0,1,4,4,6,0]}}
2025-10-08T03:39:50.355980Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:50.356042Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:50.356068Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}: talk::parsing::parser: push_source_location: Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:50.356086Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:consume{expected=Protocol}: talk::parsing::parser: advance Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:50.356122Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 9, end: 15, line: 0, col: 15 })
2025-10-08T03:39:50.356152Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:50.356178Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:50.356195Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:50.356209Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:50.356221Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 21, end: 31, line: 1, col: 13 })
2025-10-08T03:39:50.356252Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 21, end: 31, line: 1, col: 13 })
2025-10-08T03:39:50.356270Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 32, end: 35, line: 1, col: 17 })
2025-10-08T03:39:50.356296Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 32, end: 35, line: 1, col: 17 })
2025-10-08T03:39:50.356320Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 35, end: 36, line: 2, col: 0 })
2025-10-08T03:39:50.356353Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 38, end: 48, line: 2, col: 12 })
2025-10-08T03:39:50.356372Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 38, end: 48, line: 2, col: 12 })
2025-10-08T03:39:50.356389Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Ret"), start: 49, end: 52, line: 2, col: 16 })
2025-10-08T03:39:50.356412Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Ret"), start: 49, end: 52, line: 2, col: 16 })
2025-10-08T03:39:50.356432Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 52, end: 54, line: 4, col: 0 })
2025-10-08T03:39:50.356482Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 56, end: 60, line: 4, col: 6 })
2025-10-08T03:39:50.356550Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 56, end: 60, line: 4, col: 6 })
2025-10-08T03:39:50.356593Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 56, end: 60, line: 4, col: 6 })
2025-10-08T03:39:50.356655Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 61, end: 67, line: 4, col: 13 })
2025-10-08T03:39:50.356691Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 67, end: 68, line: 4, col: 14 })
2025-10-08T03:39:50.356722Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 68, end: 71, line: 4, col: 17 })
2025-10-08T03:39:50.356746Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 71, end: 72, line: 4, col: 18 })
2025-10-08T03:39:50.356762Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 71, end: 72, line: 4, col: 18 })
2025-10-08T03:39:50.356783Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 73, end: 76, line: 4, col: 22 })
2025-10-08T03:39:50.356808Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 73, end: 76, line: 4, col: 22 })
2025-10-08T03:39:50.356844Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 76, end: 77, line: 4, col: 23 })
2025-10-08T03:39:50.356886Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 78, end: 80, line: 4, col: 26 })
2025-10-08T03:39:50.356908Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 81, end: 85, line: 4, col: 31 })
2025-10-08T03:39:50.356937Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 81, end: 85, line: 4, col: 31 })
2025-10-08T03:39:50.356957Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 85, end: 86, line: 5, col: 0 })
2025-10-08T03:39:50.357000Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 86, end: 87, line: 5, col: 1 })
2025-10-08T03:39:50.357030Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 87, end: 89, line: 7, col: 0 })
2025-10-08T03:39:50.357045Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 87, end: 89, line: 7, col: 0 })
2025-10-08T03:39:50.357065Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 89, end: 95, line: 7, col: 6 })
2025-10-08T03:39:50.357084Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 89, end: 95, line: 7, col: 6 })
2025-10-08T03:39:50.357111Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 96, end: 99, line: 7, col: 10 })
2025-10-08T03:39:50.357137Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 99, end: 100, line: 7, col: 11 })
2025-10-08T03:39:50.357157Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 101, end: 107, line: 7, col: 18 })
2025-10-08T03:39:50.357188Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 101, end: 107, line: 7, col: 18 })
2025-10-08T03:39:50.357221Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 108, end: 109, line: 7, col: 20 })
2025-10-08T03:39:50.357241Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 108, end: 109, line: 7, col: 20 })
2025-10-08T03:39:50.357262Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 109, end: 110, line: 8, col: 0 })
2025-10-08T03:39:50.357280Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 109, end: 110, line: 8, col: 0 })
2025-10-08T03:39:50.357307Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 112, end: 116, line: 8, col: 6 })
2025-10-08T03:39:50.357328Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 112, end: 116, line: 8, col: 6 })
2025-10-08T03:39:50.357350Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 112, end: 116, line: 8, col: 6 })
2025-10-08T03:39:50.357383Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 117, end: 123, line: 8, col: 13 })
2025-10-08T03:39:50.357416Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 123, end: 124, line: 8, col: 14 })
2025-10-08T03:39:50.357451Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 124, end: 127, line: 8, col: 17 })
2025-10-08T03:39:50.357490Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 127, end: 128, line: 8, col: 18 })
2025-10-08T03:39:50.357510Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 127, end: 128, line: 8, col: 18 })
2025-10-08T03:39:50.357536Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 129, end: 132, line: 8, col: 22 })
2025-10-08T03:39:50.357566Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 129, end: 132, line: 8, col: 22 })
2025-10-08T03:39:50.357603Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 132, end: 133, line: 8, col: 23 })
2025-10-08T03:39:50.357646Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 134, end: 136, line: 8, col: 26 })
2025-10-08T03:39:50.357676Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 137, end: 141, line: 8, col: 31 })
2025-10-08T03:39:50.357706Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 137, end: 141, line: 8, col: 31 })
2025-10-08T03:39:50.357751Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 142, end: 143, line: 8, col: 33 })
2025-10-08T03:39:50.357780Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 142, end: 143, line: 8, col: 33 })
2025-10-08T03:39:50.357804Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 143, end: 144, line: 9, col: 0 })
2025-10-08T03:39:50.357825Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 143, end: 144, line: 9, col: 0 })
2025-10-08T03:39:50.357860Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 148, end: 152, line: 9, col: 8 }) with precedence: Assignment
2025-10-08T03:39:50.357893Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 148, end: 152, line: 9, col: 8 })
2025-10-08T03:39:50.357920Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 148, end: 152, line: 9, col: 8 })
2025-10-08T03:39:50.357947Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:50.357978Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 152, end: 153, line: 10, col: 0 })
2025-10-08T03:39:50.358005Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 155, end: 156, line: 10, col: 3 })
2025-10-08T03:39:50.358029Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 156, end: 157, line: 11, col: 0 })
2025-10-08T03:39:50.358040Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 156, end: 157, line: 11, col: 0 })
2025-10-08T03:39:50.358048Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 157, end: 158, line: 11, col: 1 })
2025-10-08T03:39:50.358064Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 158, end: 160, line: 13, col: 0 })
2025-10-08T03:39:50.358073Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 158, end: 160, line: 13, col: 0 })
2025-10-08T03:39:50.358086Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 160, end: 166, line: 13, col: 6 })
2025-10-08T03:39:50.358099Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 160, end: 166, line: 13, col: 6 })
2025-10-08T03:39:50.358116Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 167, end: 172, line: 13, col: 12 })
2025-10-08T03:39:50.358133Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 172, end: 173, line: 13, col: 13 })
2025-10-08T03:39:50.358145Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 174, end: 180, line: 13, col: 20 })
2025-10-08T03:39:50.358165Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 174, end: 180, line: 13, col: 20 })
2025-10-08T03:39:50.358187Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 181, end: 182, line: 13, col: 22 })
2025-10-08T03:39:50.358201Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 181, end: 182, line: 13, col: 22 })
2025-10-08T03:39:50.358213Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 182, end: 183, line: 14, col: 0 })
2025-10-08T03:39:50.358223Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 182, end: 183, line: 14, col: 0 })
2025-10-08T03:39:50.358240Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 185, end: 189, line: 14, col: 6 })
2025-10-08T03:39:50.358254Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 185, end: 189, line: 14, col: 6 })
2025-10-08T03:39:50.358266Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 185, end: 189, line: 14, col: 6 })
2025-10-08T03:39:50.358287Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 190, end: 196, line: 14, col: 13 })
2025-10-08T03:39:50.358309Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 196, end: 197, line: 14, col: 14 })
2025-10-08T03:39:50.358332Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 197, end: 200, line: 14, col: 17 })
2025-10-08T03:39:50.358353Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 200, end: 201, line: 14, col: 18 })
2025-10-08T03:39:50.358365Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 200, end: 201, line: 14, col: 18 })
2025-10-08T03:39:50.358379Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Float"), start: 202, end: 207, line: 14, col: 24 })
2025-10-08T03:39:50.358401Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 202, end: 207, line: 14, col: 24 })
2025-10-08T03:39:50.358426Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 207, end: 208, line: 14, col: 25 })
2025-10-08T03:39:50.358445Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 209, end: 211, line: 14, col: 28 })
2025-10-08T03:39:50.358468Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 212, end: 216, line: 14, col: 33 })
2025-10-08T03:39:50.358491Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 212, end: 216, line: 14, col: 33 })
2025-10-08T03:39:50.358516Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 217, end: 218, line: 14, col: 35 })
2025-10-08T03:39:50.358533Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 217, end: 218, line: 14, col: 35 })
2025-10-08T03:39:50.358548Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 218, end: 219, line: 15, col: 0 })
2025-10-08T03:39:50.358562Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 218, end: 219, line: 15, col: 0 })
2025-10-08T03:39:50.358582Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 223, end: 227, line: 15, col: 8 }) with precedence: Assignment
2025-10-08T03:39:50.358601Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 223, end: 227, line: 15, col: 8 })
2025-10-08T03:39:50.358618Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 223, end: 227, line: 15, col: 8 })
2025-10-08T03:39:50.358645Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:50.358668Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 227, end: 228, line: 16, col: 0 })
2025-10-08T03:39:50.358693Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 230, end: 231, line: 16, col: 3 })
2025-10-08T03:39:50.358727Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 231, end: 232, line: 17, col: 0 })
2025-10-08T03:39:50.358740Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 231, end: 232, line: 17, col: 0 })
2025-10-08T03:39:50.358749Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 232, end: 233, line: 17, col: 1 })
2025-10-08T03:39:50.358764Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 233, end: 234, line: 18, col: 0 })
2025-10-08T03:39:50.358773Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 233, end: 234, line: 18, col: 0 })
2025-10-08T03:39:50.358859Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("protocol Equals {\n   associated RHS\n  associated Ret\n\n  func equals(rhs: RHS) -> Bool\n}\n\nextend Int: Equals {\n  func equals(rhs: Int) -> Bool {\n    true\n  }\n}\n\nextend Float: Equals {\n  func equals(rhs: Float) -> Bool {\n    true\n  }\n}\n") }
2025-10-08T03:39:50.358876Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:50.358883Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:50.358899Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}: talk::parsing::parser: push_source_location: Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:50.358913Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:consume{expected=Protocol}: talk::parsing::parser: advance Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:50.358932Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 9, end: 15, line: 0, col: 15 })
2025-10-08T03:39:50.358955Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:50.358968Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:50.358982Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:50.358992Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:50.359002Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 21, end: 31, line: 1, col: 13 })
2025-10-08T03:39:50.359013Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 21, end: 31, line: 1, col: 13 })
2025-10-08T03:39:50.359027Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 32, end: 35, line: 1, col: 17 })
2025-10-08T03:39:50.359042Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 32, end: 35, line: 1, col: 17 })
2025-10-08T03:39:50.359059Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 35, end: 36, line: 2, col: 0 })
2025-10-08T03:39:50.359079Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 38, end: 48, line: 2, col: 12 })
2025-10-08T03:39:50.359092Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 38, end: 48, line: 2, col: 12 })
2025-10-08T03:39:50.359107Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Ret"), start: 49, end: 52, line: 2, col: 16 })
2025-10-08T03:39:50.359124Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Ret"), start: 49, end: 52, line: 2, col: 16 })
2025-10-08T03:39:50.359144Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 52, end: 54, line: 4, col: 0 })
2025-10-08T03:39:50.359168Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 56, end: 60, line: 4, col: 6 })
2025-10-08T03:39:50.359182Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 56, end: 60, line: 4, col: 6 })
2025-10-08T03:39:50.359195Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 56, end: 60, line: 4, col: 6 })
2025-10-08T03:39:50.359216Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 61, end: 67, line: 4, col: 13 })
2025-10-08T03:39:50.359238Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 67, end: 68, line: 4, col: 14 })
2025-10-08T03:39:50.359262Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 68, end: 71, line: 4, col: 17 })
2025-10-08T03:39:50.359279Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 71, end: 72, line: 4, col: 18 })
2025-10-08T03:39:50.359293Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 71, end: 72, line: 4, col: 18 })
2025-10-08T03:39:50.359310Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 73, end: 76, line: 4, col: 22 })
2025-10-08T03:39:50.359329Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 73, end: 76, line: 4, col: 22 })
2025-10-08T03:39:50.359354Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 76, end: 77, line: 4, col: 23 })
2025-10-08T03:39:50.359373Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 78, end: 80, line: 4, col: 26 })
2025-10-08T03:39:50.359392Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 81, end: 85, line: 4, col: 31 })
2025-10-08T03:39:50.359410Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 81, end: 85, line: 4, col: 31 })
2025-10-08T03:39:50.359427Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 85, end: 86, line: 5, col: 0 })
2025-10-08T03:39:50.359449Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 86, end: 87, line: 5, col: 1 })
2025-10-08T03:39:50.359496Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 87, end: 89, line: 7, col: 0 })
2025-10-08T03:39:50.359509Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 87, end: 89, line: 7, col: 0 })
2025-10-08T03:39:50.359523Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 89, end: 95, line: 7, col: 6 })
2025-10-08T03:39:50.359536Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 89, end: 95, line: 7, col: 6 })
2025-10-08T03:39:50.359553Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 96, end: 99, line: 7, col: 10 })
2025-10-08T03:39:50.359571Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 99, end: 100, line: 7, col: 11 })
2025-10-08T03:39:50.359586Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 101, end: 107, line: 7, col: 18 })
2025-10-08T03:39:50.359603Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 101, end: 107, line: 7, col: 18 })
2025-10-08T03:39:50.359627Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 108, end: 109, line: 7, col: 20 })
2025-10-08T03:39:50.359651Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 108, end: 109, line: 7, col: 20 })
2025-10-08T03:39:50.359664Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 109, end: 110, line: 8, col: 0 })
2025-10-08T03:39:50.359674Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 109, end: 110, line: 8, col: 0 })
2025-10-08T03:39:50.359694Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 112, end: 116, line: 8, col: 6 })
2025-10-08T03:39:50.359708Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 112, end: 116, line: 8, col: 6 })
2025-10-08T03:39:50.359723Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 112, end: 116, line: 8, col: 6 })
2025-10-08T03:39:50.359746Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 117, end: 123, line: 8, col: 13 })
2025-10-08T03:39:50.359768Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 123, end: 124, line: 8, col: 14 })
2025-10-08T03:39:50.359792Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 124, end: 127, line: 8, col: 17 })
2025-10-08T03:39:50.359809Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 127, end: 128, line: 8, col: 18 })
2025-10-08T03:39:50.359822Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 127, end: 128, line: 8, col: 18 })
2025-10-08T03:39:50.359835Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 129, end: 132, line: 8, col: 22 })
2025-10-08T03:39:50.359855Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 129, end: 132, line: 8, col: 22 })
2025-10-08T03:39:50.359880Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 132, end: 133, line: 8, col: 23 })
2025-10-08T03:39:50.359900Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 134, end: 136, line: 8, col: 26 })
2025-10-08T03:39:50.359917Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 137, end: 141, line: 8, col: 31 })
2025-10-08T03:39:50.359938Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 137, end: 141, line: 8, col: 31 })
2025-10-08T03:39:50.359963Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 142, end: 143, line: 8, col: 33 })
2025-10-08T03:39:50.359980Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 142, end: 143, line: 8, col: 33 })
2025-10-08T03:39:50.359995Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 143, end: 144, line: 9, col: 0 })
2025-10-08T03:39:50.360009Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 143, end: 144, line: 9, col: 0 })
2025-10-08T03:39:50.360029Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 148, end: 152, line: 9, col: 8 }) with precedence: Assignment
2025-10-08T03:39:50.360053Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 148, end: 152, line: 9, col: 8 })
2025-10-08T03:39:50.360069Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 148, end: 152, line: 9, col: 8 })
2025-10-08T03:39:50.360085Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:50.360106Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 152, end: 153, line: 10, col: 0 })
2025-10-08T03:39:50.360129Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 155, end: 156, line: 10, col: 3 })
2025-10-08T03:39:50.360151Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 156, end: 157, line: 11, col: 0 })
2025-10-08T03:39:50.360162Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 156, end: 157, line: 11, col: 0 })
2025-10-08T03:39:50.360171Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 157, end: 158, line: 11, col: 1 })
2025-10-08T03:39:50.360186Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 158, end: 160, line: 13, col: 0 })
2025-10-08T03:39:50.360196Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 158, end: 160, line: 13, col: 0 })
2025-10-08T03:39:50.360210Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 160, end: 166, line: 13, col: 6 })
2025-10-08T03:39:50.360224Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 160, end: 166, line: 13, col: 6 })
2025-10-08T03:39:50.360240Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 167, end: 172, line: 13, col: 12 })
2025-10-08T03:39:50.360258Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 172, end: 173, line: 13, col: 13 })
2025-10-08T03:39:50.360271Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 174, end: 180, line: 13, col: 20 })
2025-10-08T03:39:50.360289Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 174, end: 180, line: 13, col: 20 })
2025-10-08T03:39:50.360309Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 181, end: 182, line: 13, col: 22 })
2025-10-08T03:39:50.360323Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 181, end: 182, line: 13, col: 22 })
2025-10-08T03:39:50.360337Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 182, end: 183, line: 14, col: 0 })
2025-10-08T03:39:50.360345Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 182, end: 183, line: 14, col: 0 })
2025-10-08T03:39:50.360362Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 185, end: 189, line: 14, col: 6 })
2025-10-08T03:39:50.360376Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 185, end: 189, line: 14, col: 6 })
2025-10-08T03:39:50.360388Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 185, end: 189, line: 14, col: 6 })
2025-10-08T03:39:50.360414Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 190, end: 196, line: 14, col: 13 })
2025-10-08T03:39:50.360436Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 196, end: 197, line: 14, col: 14 })
2025-10-08T03:39:50.360465Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 197, end: 200, line: 14, col: 17 })
2025-10-08T03:39:50.360482Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 200, end: 201, line: 14, col: 18 })
2025-10-08T03:39:50.360494Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 200, end: 201, line: 14, col: 18 })
2025-10-08T03:39:50.360510Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Float"), start: 202, end: 207, line: 14, col: 24 })
2025-10-08T03:39:50.360529Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 202, end: 207, line: 14, col: 24 })
2025-10-08T03:39:50.360554Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 207, end: 208, line: 14, col: 25 })
2025-10-08T03:39:50.360575Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 209, end: 211, line: 14, col: 28 })
2025-10-08T03:39:50.360596Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 212, end: 216, line: 14, col: 33 })
2025-10-08T03:39:50.360615Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 212, end: 216, line: 14, col: 33 })
2025-10-08T03:39:50.360646Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 217, end: 218, line: 14, col: 35 })
2025-10-08T03:39:50.360664Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 217, end: 218, line: 14, col: 35 })
2025-10-08T03:39:50.360679Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 218, end: 219, line: 15, col: 0 })
2025-10-08T03:39:50.360693Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 218, end: 219, line: 15, col: 0 })
2025-10-08T03:39:50.360712Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 223, end: 227, line: 15, col: 8 }) with precedence: Assignment
2025-10-08T03:39:50.360734Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 223, end: 227, line: 15, col: 8 })
2025-10-08T03:39:50.360750Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 223, end: 227, line: 15, col: 8 })
2025-10-08T03:39:50.360767Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:50.360787Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 227, end: 228, line: 16, col: 0 })
2025-10-08T03:39:50.360809Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 230, end: 231, line: 16, col: 3 })
2025-10-08T03:39:50.360837Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 231, end: 232, line: 17, col: 0 })
2025-10-08T03:39:50.360849Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 231, end: 232, line: 17, col: 0 })
2025-10-08T03:39:50.360858Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 232, end: 233, line: 17, col: 1 })
2025-10-08T03:39:50.360873Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 233, end: 234, line: 18, col: 0 })
2025-10-08T03:39:50.360881Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 233, end: 234, line: 18, col: 0 })
2025-10-08T03:39:50.360959Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 11), kind: Protocol { name: Raw("Equals"), generics: [], body: Block { id: NodeID(0, 10), args: [], body: [Decl(Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 32..35 } }, span: 21..35 }), Decl(Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 49..52 } }, span: 38..52 }), Decl(Decl { id: NodeID(0, 9), kind: MethodRequirement(FuncSignature { id: NodeID(0, 8), span: 56..85, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 56..85 }), span: 56..85 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 73..76 }), span: 71..76 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 81..85 }) }), span: 56..85 })], span: 16..87 }, conformances: [] }, span: 0..87 }}: talk::name_resolution::name_resolver: declare type Equals -> Protocol(ProtocolId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T03:39:50.360980Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 11), kind: Protocol { name: Raw("Equals"), generics: [], body: Block { id: NodeID(0, 10), args: [], body: [Decl(Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 32..35 } }, span: 21..35 }), Decl(Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 49..52 } }, span: 38..52 }), Decl(Decl { id: NodeID(0, 9), kind: MethodRequirement(FuncSignature { id: NodeID(0, 8), span: 56..85, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 56..85 }), span: 56..85 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 73..76 }), span: 71..76 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 81..85 }) }), span: 56..85 })], span: 16..87 }, conformances: [] }, span: 0..87 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 11), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:50.360999Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 32..35 } }, span: 21..35 }}: talk::name_resolution::name_resolver: declare type RHS -> AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 11))
2025-10-08T03:39:50.361017Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 49..52 } }, span: 38..52 }}: talk::name_resolution::name_resolver: declare type Ret -> AssociatedType(AssociatedTypeId { module_id: Current, local_id: 2 }) Some(NodeID(0, 11))
2025-10-08T03:39:50.361042Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 56..85, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 56..85 }), span: 56..85 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 73..76 }), span: 71..76 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 81..85 }) }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 1 }) Some(NodeID(0, 11))
2025-10-08T03:39:50.361056Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 56..85, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 56..85 }), span: 56..85 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 73..76 }), span: 71..76 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 81..85 }) }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 8), parent_id: Some(NodeID(0, 11)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:50.361063Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 56..85, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 56..85 }), span: 56..85 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 73..76 }), span: 71..76 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 81..85 }) }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(1)) Some(NodeID(0, 8))
2025-10-08T03:39:50.361071Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 56..85, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 56..85 }), span: 56..85 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 73..76 }), span: 71..76 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 81..85 }) }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(2)) Some(NodeID(0, 8))
2025-10-08T03:39:50.361096Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 21), kind: Extend { name: Raw("Int"), conformances: [TypeAnnotation { id: NodeID(0, 12), kind: Nominal { name: Raw("Equals"), generics: [] }, span: 101..107 }], generics: [], body: Block { id: NodeID(0, 20), args: [], body: [Decl(Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 137..141 }), attributes: [] }, is_static: false }, span: 112..156 })], span: 108..158 } }, span: 89..158 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 21), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:50.361122Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 137..141 }), attributes: [] }, is_static: false }, span: 112..156 }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) Some(NodeID(0, 21))
2025-10-08T03:39:50.361144Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 137..141 }), attributes: [] }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 18), parent_id: Some(NodeID(0, 21)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:50.361155Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 137..141 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(3)) Some(NodeID(0, 18))
2025-10-08T03:39:50.361163Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 137..141 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(4)) Some(NodeID(0, 18))
2025-10-08T03:39:50.361191Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 31), kind: Extend { name: Raw("Float"), conformances: [TypeAnnotation { id: NodeID(0, 22), kind: Nominal { name: Raw("Equals"), generics: [] }, span: 174..180 }], generics: [], body: Block { id: NodeID(0, 30), args: [], body: [Decl(Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 212..216 }), attributes: [] }, is_static: false }, span: 185..231 })], span: 181..233 } }, span: 160..233 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 31), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:50.361214Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 212..216 }), attributes: [] }, is_static: false }, span: 185..231 }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) Some(NodeID(0, 31))
2025-10-08T03:39:50.361232Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 212..216 }), attributes: [] }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 28), parent_id: Some(NodeID(0, 31)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:50.361241Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 212..216 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(5)) Some(NodeID(0, 28))
2025-10-08T03:39:50.361251Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 212..216 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(6)) Some(NodeID(0, 28))
2025-10-08T03:39:50.361333Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:50.361349Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:50.361356Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:50.361436Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Self")), span: 56..85 }
2025-10-08T03:39:50.361453Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 73..76 }
2025-10-08T03:39:50.361468Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 81..85 }
2025-10-08T03:39:50.361494Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 12), kind: Nominal { name: Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Equals"), generics: [] }, span: 101..107 }
2025-10-08T03:39:50.361512Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }
2025-10-08T03:39:50.361519Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }
2025-10-08T03:39:50.361536Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }
2025-10-08T03:39:50.361553Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 22), kind: Nominal { name: Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Equals"), generics: [] }, span: 174..180 }
2025-10-08T03:39:50.361565Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }
2025-10-08T03:39:50.361571Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }
2025-10-08T03:39:50.361578Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }
2025-10-08T03:39:50.361626Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T03:39:50.361730Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T03:39:50.361746Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Protocol(ProtocolId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1))], predicates: [], ty: typeparam(1) })
2025-10-08T03:39:50.361776Z TRACE event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 73..76 }}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T03:39:50.361796Z  WARN event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 73..76 }}: talk::types::term_environment: overriding Protocol(ProtocolId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(2)), Ty(TypeParamId(1))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: typeparam(1) }). existing: Scheme(Scheme { foralls: [Ty(TypeParamId(1))], predicates: [], ty: typeparam(1) })
2025-10-08T03:39:50.361808Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 73..76 }}: talk::types::term_environment: promote Protocol(ProtocolId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(2)), Ty(TypeParamId(1))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: typeparam(1) })
2025-10-08T03:39:50.361826Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(1)), Ty(TypeParamId(2))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: func(typeparam(1)) -> func(typeparam(2)) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) })
2025-10-08T03:39:50.361875Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:50.361910Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:50.361934Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T03:39:50.361957Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T03:39:50.362066Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] }, is_static: false }, span: 185..231 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: inference instantiate: Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:50.362100Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] }, is_static: false }, span: 185..231 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(5)) : Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:50.362113Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] }, is_static: false }, span: 185..231 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(5)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:50.362126Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] }, is_static: false }, span: 185..231 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(6)) : Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:50.362138Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] }, is_static: false }, span: 185..231 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(6)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:50.362169Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] }, is_static: false }, span: 185..231 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::wants: constraining equals Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:50.362201Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 185..231 }), span: 185..231 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 202..207 }), span: 200..207 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 223..227 })], span: 217..231 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 212..216 }), attributes: [] }, is_static: false }, span: 185..231 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:50.362221Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}: talk::types::wants: constraining equals func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:50.362240Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 212..216 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 185..231 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 212..216 })
2025-10-08T03:39:50.362266Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 212..216 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 185..231 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 185..231 })
2025-10-08T03:39:50.362324Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 212..216 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 185..231 })], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Float -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- func equals(self: Self, rhs: Float) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:50.362707Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:50.362807Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] }, is_static: false }, span: 112..156 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: inference instantiate: Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:50.362846Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] }, is_static: false }, span: 112..156 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(3)) : Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
2025-10-08T03:39:50.362872Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] }, is_static: false }, span: 112..156 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(3)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:50.362888Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] }, is_static: false }, span: 112..156 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(4)) : Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
2025-10-08T03:39:50.362906Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] }, is_static: false }, span: 112..156 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(4)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:50.362950Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] }, is_static: false }, span: 112..156 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::wants: constraining equals Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:50.362987Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 112..156 }), span: 112..156 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 129..132 }), span: 127..132 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 148..152 })], span: 142..156 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 137..141 }), attributes: [] }, is_static: false }, span: 112..156 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:50.363020Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}: talk::types::wants: constraining equals func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:50.363056Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 137..141 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 112..156 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 137..141 })
2025-10-08T03:39:50.363084Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 137..141 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 112..156 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 112..156 })
2025-10-08T03:39:50.363161Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 137..141 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 112..156 })], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- func equals(self: Self, rhs: Int) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- func equals(self: Self, rhs: Float) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Int -> Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Float -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:50.363615Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:50.363676Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 3
2025-10-08T03:39:50.363804Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk","version":3}}
2025-10-08T03:39:50.363883Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"method":"workspace/semanticTokens/refresh"}
2025-10-08T03:39:50.364236Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","id":7,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}}}
2025-10-08T03:39:50.364372Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":7,"result":{"data":[0,0,8,6,0,1,3,10,16,0,1,2,10,16,0,2,2,4,6,0,0,22,2,6,0,3,0,6,6,0,1,2,4,6,0,0,22,2,6,0,1,4,4,6,0,4,0,6,6,0,1,2,4,6,0,0,24,2,6,0,1,4,4,6,0]}}
2025-10-08T03:39:50.364402Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":2,"result":null}
2025-10-08T03:39:50.480233Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didChange","params":{"contentChanges":[{"text":"","range":{"start":{"line":1,"character":2},"end":{"line":1,"character":3}},"rangeLength":1}],"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk","version":4}}}
2025-10-08T03:39:50.480470Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Equals.tlk
2025-10-08T03:39:50.629363Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didChange","params":{"contentChanges":[{"text":"","range":{"start":{"line":1,"character":1},"end":{"line":1,"character":2}},"rangeLength":1}],"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk","version":5}}}
2025-10-08T03:39:50.629769Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Equals.tlk
2025-10-08T03:39:50.681052Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","id":8,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}}}
2025-10-08T03:39:50.681481Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":8,"result":{"data":[0,0,8,6,0,1,3,10,16,0,1,2,10,16,0,2,2,4,6,0,0,22,2,6,0,3,0,6,6,0,1,2,4,6,0,0,22,2,6,0,1,4,4,6,0,4,0,6,6,0,1,2,4,6,0,0,24,2,6,0,1,4,4,6,0]}}
2025-10-08T03:39:51.356889Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:51.356946Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:51.356968Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}: talk::parsing::parser: push_source_location: Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:51.356983Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:consume{expected=Protocol}: talk::parsing::parser: advance Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:51.357014Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 9, end: 15, line: 0, col: 15 })
2025-10-08T03:39:51.357034Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:51.357047Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:51.357063Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:51.357072Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:51.357082Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 19, end: 29, line: 1, col: 11 })
2025-10-08T03:39:51.357104Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 19, end: 29, line: 1, col: 11 })
2025-10-08T03:39:51.357118Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 30, end: 33, line: 1, col: 15 })
2025-10-08T03:39:51.357135Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 30, end: 33, line: 1, col: 15 })
2025-10-08T03:39:51.357155Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 33, end: 34, line: 2, col: 0 })
2025-10-08T03:39:51.357184Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 36, end: 46, line: 2, col: 12 })
2025-10-08T03:39:51.357198Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 36, end: 46, line: 2, col: 12 })
2025-10-08T03:39:51.357211Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Ret"), start: 47, end: 50, line: 2, col: 16 })
2025-10-08T03:39:51.357228Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Ret"), start: 47, end: 50, line: 2, col: 16 })
2025-10-08T03:39:51.357243Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 50, end: 52, line: 4, col: 0 })
2025-10-08T03:39:51.357274Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 54, end: 58, line: 4, col: 6 })
2025-10-08T03:39:51.357289Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 54, end: 58, line: 4, col: 6 })
2025-10-08T03:39:51.357302Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 54, end: 58, line: 4, col: 6 })
2025-10-08T03:39:51.357334Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 59, end: 65, line: 4, col: 13 })
2025-10-08T03:39:51.357354Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 65, end: 66, line: 4, col: 14 })
2025-10-08T03:39:51.357378Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 66, end: 69, line: 4, col: 17 })
2025-10-08T03:39:51.357393Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 69, end: 70, line: 4, col: 18 })
2025-10-08T03:39:51.357407Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 69, end: 70, line: 4, col: 18 })
2025-10-08T03:39:51.357421Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 71, end: 74, line: 4, col: 22 })
2025-10-08T03:39:51.357442Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 71, end: 74, line: 4, col: 22 })
2025-10-08T03:39:51.357473Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 74, end: 75, line: 4, col: 23 })
2025-10-08T03:39:51.357498Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 76, end: 78, line: 4, col: 26 })
2025-10-08T03:39:51.357514Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 79, end: 83, line: 4, col: 31 })
2025-10-08T03:39:51.357532Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 79, end: 83, line: 4, col: 31 })
2025-10-08T03:39:51.357548Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 83, end: 84, line: 5, col: 0 })
2025-10-08T03:39:51.357572Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 84, end: 85, line: 5, col: 1 })
2025-10-08T03:39:51.357592Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 85, end: 87, line: 7, col: 0 })
2025-10-08T03:39:51.357598Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 85, end: 87, line: 7, col: 0 })
2025-10-08T03:39:51.357611Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 87, end: 93, line: 7, col: 6 })
2025-10-08T03:39:51.357625Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 87, end: 93, line: 7, col: 6 })
2025-10-08T03:39:51.357652Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 94, end: 97, line: 7, col: 10 })
2025-10-08T03:39:51.357668Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 97, end: 98, line: 7, col: 11 })
2025-10-08T03:39:51.357682Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 99, end: 105, line: 7, col: 18 })
2025-10-08T03:39:51.357702Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 99, end: 105, line: 7, col: 18 })
2025-10-08T03:39:51.357723Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 106, end: 107, line: 7, col: 20 })
2025-10-08T03:39:51.357739Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 106, end: 107, line: 7, col: 20 })
2025-10-08T03:39:51.357750Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 107, end: 108, line: 8, col: 0 })
2025-10-08T03:39:51.357761Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 107, end: 108, line: 8, col: 0 })
2025-10-08T03:39:51.357778Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 110, end: 114, line: 8, col: 6 })
2025-10-08T03:39:51.357791Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 110, end: 114, line: 8, col: 6 })
2025-10-08T03:39:51.357803Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 110, end: 114, line: 8, col: 6 })
2025-10-08T03:39:51.357824Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 115, end: 121, line: 8, col: 13 })
2025-10-08T03:39:51.357846Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 121, end: 122, line: 8, col: 14 })
2025-10-08T03:39:51.357868Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 122, end: 125, line: 8, col: 17 })
2025-10-08T03:39:51.357887Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 125, end: 126, line: 8, col: 18 })
2025-10-08T03:39:51.357902Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 125, end: 126, line: 8, col: 18 })
2025-10-08T03:39:51.357915Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 127, end: 130, line: 8, col: 22 })
2025-10-08T03:39:51.357933Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 127, end: 130, line: 8, col: 22 })
2025-10-08T03:39:51.357959Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 130, end: 131, line: 8, col: 23 })
2025-10-08T03:39:51.357977Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 132, end: 134, line: 8, col: 26 })
2025-10-08T03:39:51.357993Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 135, end: 139, line: 8, col: 31 })
2025-10-08T03:39:51.358011Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 135, end: 139, line: 8, col: 31 })
2025-10-08T03:39:51.358040Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 140, end: 141, line: 8, col: 33 })
2025-10-08T03:39:51.358057Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 140, end: 141, line: 8, col: 33 })
2025-10-08T03:39:51.358073Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 141, end: 142, line: 9, col: 0 })
2025-10-08T03:39:51.358088Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 141, end: 142, line: 9, col: 0 })
2025-10-08T03:39:51.358113Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 146, end: 150, line: 9, col: 8 }) with precedence: Assignment
2025-10-08T03:39:51.358135Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 146, end: 150, line: 9, col: 8 })
2025-10-08T03:39:51.358155Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 146, end: 150, line: 9, col: 8 })
2025-10-08T03:39:51.358171Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:51.358195Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 150, end: 151, line: 10, col: 0 })
2025-10-08T03:39:51.358219Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 153, end: 154, line: 10, col: 3 })
2025-10-08T03:39:51.358244Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 154, end: 155, line: 11, col: 0 })
2025-10-08T03:39:51.358257Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 154, end: 155, line: 11, col: 0 })
2025-10-08T03:39:51.358265Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 155, end: 156, line: 11, col: 1 })
2025-10-08T03:39:51.358281Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 156, end: 158, line: 13, col: 0 })
2025-10-08T03:39:51.358291Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 156, end: 158, line: 13, col: 0 })
2025-10-08T03:39:51.358303Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 158, end: 164, line: 13, col: 6 })
2025-10-08T03:39:51.358316Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 158, end: 164, line: 13, col: 6 })
2025-10-08T03:39:51.358333Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 165, end: 170, line: 13, col: 12 })
2025-10-08T03:39:51.358350Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 170, end: 171, line: 13, col: 13 })
2025-10-08T03:39:51.358362Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 172, end: 178, line: 13, col: 20 })
2025-10-08T03:39:51.358380Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 172, end: 178, line: 13, col: 20 })
2025-10-08T03:39:51.358405Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 179, end: 180, line: 13, col: 22 })
2025-10-08T03:39:51.358420Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 179, end: 180, line: 13, col: 22 })
2025-10-08T03:39:51.358432Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 180, end: 181, line: 14, col: 0 })
2025-10-08T03:39:51.358442Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 180, end: 181, line: 14, col: 0 })
2025-10-08T03:39:51.358464Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 183, end: 187, line: 14, col: 6 })
2025-10-08T03:39:51.358478Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 183, end: 187, line: 14, col: 6 })
2025-10-08T03:39:51.358491Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 183, end: 187, line: 14, col: 6 })
2025-10-08T03:39:51.358514Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 188, end: 194, line: 14, col: 13 })
2025-10-08T03:39:51.358536Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 194, end: 195, line: 14, col: 14 })
2025-10-08T03:39:51.358560Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 195, end: 198, line: 14, col: 17 })
2025-10-08T03:39:51.358580Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 198, end: 199, line: 14, col: 18 })
2025-10-08T03:39:51.358592Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 198, end: 199, line: 14, col: 18 })
2025-10-08T03:39:51.358606Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Float"), start: 200, end: 205, line: 14, col: 24 })
2025-10-08T03:39:51.358626Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 200, end: 205, line: 14, col: 24 })
2025-10-08T03:39:51.358661Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 205, end: 206, line: 14, col: 25 })
2025-10-08T03:39:51.358680Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 207, end: 209, line: 14, col: 28 })
2025-10-08T03:39:51.358699Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 210, end: 214, line: 14, col: 33 })
2025-10-08T03:39:51.358717Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 210, end: 214, line: 14, col: 33 })
2025-10-08T03:39:51.358739Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 215, end: 216, line: 14, col: 35 })
2025-10-08T03:39:51.358758Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 215, end: 216, line: 14, col: 35 })
2025-10-08T03:39:51.358774Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 216, end: 217, line: 15, col: 0 })
2025-10-08T03:39:51.358788Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 216, end: 217, line: 15, col: 0 })
2025-10-08T03:39:51.358808Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 221, end: 225, line: 15, col: 8 }) with precedence: Assignment
2025-10-08T03:39:51.358827Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 221, end: 225, line: 15, col: 8 })
2025-10-08T03:39:51.358844Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 221, end: 225, line: 15, col: 8 })
2025-10-08T03:39:51.358862Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:51.358884Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 225, end: 226, line: 16, col: 0 })
2025-10-08T03:39:51.358909Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 228, end: 229, line: 16, col: 3 })
2025-10-08T03:39:51.358939Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 229, end: 230, line: 17, col: 0 })
2025-10-08T03:39:51.358950Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 229, end: 230, line: 17, col: 0 })
2025-10-08T03:39:51.358958Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 230, end: 231, line: 17, col: 1 })
2025-10-08T03:39:51.358973Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 231, end: 232, line: 18, col: 0 })
2025-10-08T03:39:51.358985Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 231, end: 232, line: 18, col: 0 })
2025-10-08T03:39:51.359071Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("protocol Equals {\n associated RHS\n  associated Ret\n\n  func equals(rhs: RHS) -> Bool\n}\n\nextend Int: Equals {\n  func equals(rhs: Int) -> Bool {\n    true\n  }\n}\n\nextend Float: Equals {\n  func equals(rhs: Float) -> Bool {\n    true\n  }\n}\n") }
2025-10-08T03:39:51.359087Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:51.359094Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:51.359110Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}: talk::parsing::parser: push_source_location: Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:51.359124Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:consume{expected=Protocol}: talk::parsing::parser: advance Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:51.359143Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 9, end: 15, line: 0, col: 15 })
2025-10-08T03:39:51.359162Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:51.359180Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:51.359193Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:51.359204Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:51.359212Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 19, end: 29, line: 1, col: 11 })
2025-10-08T03:39:51.359223Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 19, end: 29, line: 1, col: 11 })
2025-10-08T03:39:51.359240Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 30, end: 33, line: 1, col: 15 })
2025-10-08T03:39:51.359258Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 30, end: 33, line: 1, col: 15 })
2025-10-08T03:39:51.359274Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 33, end: 34, line: 2, col: 0 })
2025-10-08T03:39:51.359293Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 36, end: 46, line: 2, col: 12 })
2025-10-08T03:39:51.359306Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 36, end: 46, line: 2, col: 12 })
2025-10-08T03:39:51.359321Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Ret"), start: 47, end: 50, line: 2, col: 16 })
2025-10-08T03:39:51.359337Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Ret"), start: 47, end: 50, line: 2, col: 16 })
2025-10-08T03:39:51.359357Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 50, end: 52, line: 4, col: 0 })
2025-10-08T03:39:51.359381Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 54, end: 58, line: 4, col: 6 })
2025-10-08T03:39:51.359395Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 54, end: 58, line: 4, col: 6 })
2025-10-08T03:39:51.359408Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 54, end: 58, line: 4, col: 6 })
2025-10-08T03:39:51.359432Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 59, end: 65, line: 4, col: 13 })
2025-10-08T03:39:51.359459Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 65, end: 66, line: 4, col: 14 })
2025-10-08T03:39:51.359483Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 66, end: 69, line: 4, col: 17 })
2025-10-08T03:39:51.359500Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 69, end: 70, line: 4, col: 18 })
2025-10-08T03:39:51.359513Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 69, end: 70, line: 4, col: 18 })
2025-10-08T03:39:51.359531Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 71, end: 74, line: 4, col: 22 })
2025-10-08T03:39:51.359551Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 71, end: 74, line: 4, col: 22 })
2025-10-08T03:39:51.359576Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 74, end: 75, line: 4, col: 23 })
2025-10-08T03:39:51.359596Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 76, end: 78, line: 4, col: 26 })
2025-10-08T03:39:51.359614Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 79, end: 83, line: 4, col: 31 })
2025-10-08T03:39:51.359642Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 79, end: 83, line: 4, col: 31 })
2025-10-08T03:39:51.359660Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 83, end: 84, line: 5, col: 0 })
2025-10-08T03:39:51.359684Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 84, end: 85, line: 5, col: 1 })
2025-10-08T03:39:51.359703Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 85, end: 87, line: 7, col: 0 })
2025-10-08T03:39:51.359710Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 85, end: 87, line: 7, col: 0 })
2025-10-08T03:39:51.359726Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 87, end: 93, line: 7, col: 6 })
2025-10-08T03:39:51.359739Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 87, end: 93, line: 7, col: 6 })
2025-10-08T03:39:51.359756Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 94, end: 97, line: 7, col: 10 })
2025-10-08T03:39:51.359773Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 97, end: 98, line: 7, col: 11 })
2025-10-08T03:39:51.359785Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 99, end: 105, line: 7, col: 18 })
2025-10-08T03:39:51.359802Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 99, end: 105, line: 7, col: 18 })
2025-10-08T03:39:51.359824Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 106, end: 107, line: 7, col: 20 })
2025-10-08T03:39:51.359840Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 106, end: 107, line: 7, col: 20 })
2025-10-08T03:39:51.359854Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 107, end: 108, line: 8, col: 0 })
2025-10-08T03:39:51.359866Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 107, end: 108, line: 8, col: 0 })
2025-10-08T03:39:51.359882Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 110, end: 114, line: 8, col: 6 })
2025-10-08T03:39:51.359895Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 110, end: 114, line: 8, col: 6 })
2025-10-08T03:39:51.359908Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 110, end: 114, line: 8, col: 6 })
2025-10-08T03:39:51.359933Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 115, end: 121, line: 8, col: 13 })
2025-10-08T03:39:51.359956Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 121, end: 122, line: 8, col: 14 })
2025-10-08T03:39:51.359979Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 122, end: 125, line: 8, col: 17 })
2025-10-08T03:39:51.360000Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 125, end: 126, line: 8, col: 18 })
2025-10-08T03:39:51.360012Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 125, end: 126, line: 8, col: 18 })
2025-10-08T03:39:51.360030Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 127, end: 130, line: 8, col: 22 })
2025-10-08T03:39:51.360051Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 127, end: 130, line: 8, col: 22 })
2025-10-08T03:39:51.360076Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 130, end: 131, line: 8, col: 23 })
2025-10-08T03:39:51.360099Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 132, end: 134, line: 8, col: 26 })
2025-10-08T03:39:51.360118Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 135, end: 139, line: 8, col: 31 })
2025-10-08T03:39:51.360137Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 135, end: 139, line: 8, col: 31 })
2025-10-08T03:39:51.360162Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 140, end: 141, line: 8, col: 33 })
2025-10-08T03:39:51.360179Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 140, end: 141, line: 8, col: 33 })
2025-10-08T03:39:51.360194Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 141, end: 142, line: 9, col: 0 })
2025-10-08T03:39:51.360209Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 141, end: 142, line: 9, col: 0 })
2025-10-08T03:39:51.360229Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 146, end: 150, line: 9, col: 8 }) with precedence: Assignment
2025-10-08T03:39:51.360251Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 146, end: 150, line: 9, col: 8 })
2025-10-08T03:39:51.360268Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 146, end: 150, line: 9, col: 8 })
2025-10-08T03:39:51.360288Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:51.360308Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 150, end: 151, line: 10, col: 0 })
2025-10-08T03:39:51.360334Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 153, end: 154, line: 10, col: 3 })
2025-10-08T03:39:51.360357Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 154, end: 155, line: 11, col: 0 })
2025-10-08T03:39:51.360368Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 154, end: 155, line: 11, col: 0 })
2025-10-08T03:39:51.360376Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 155, end: 156, line: 11, col: 1 })
2025-10-08T03:39:51.360392Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 156, end: 158, line: 13, col: 0 })
2025-10-08T03:39:51.360401Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 156, end: 158, line: 13, col: 0 })
2025-10-08T03:39:51.360416Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 158, end: 164, line: 13, col: 6 })
2025-10-08T03:39:51.360428Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 158, end: 164, line: 13, col: 6 })
2025-10-08T03:39:51.360445Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 165, end: 170, line: 13, col: 12 })
2025-10-08T03:39:51.360467Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 170, end: 171, line: 13, col: 13 })
2025-10-08T03:39:51.360480Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 172, end: 178, line: 13, col: 20 })
2025-10-08T03:39:51.360497Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 172, end: 178, line: 13, col: 20 })
2025-10-08T03:39:51.360518Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 179, end: 180, line: 13, col: 22 })
2025-10-08T03:39:51.360532Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 179, end: 180, line: 13, col: 22 })
2025-10-08T03:39:51.360544Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 180, end: 181, line: 14, col: 0 })
2025-10-08T03:39:51.360555Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 180, end: 181, line: 14, col: 0 })
2025-10-08T03:39:51.360571Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 183, end: 187, line: 14, col: 6 })
2025-10-08T03:39:51.360585Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 183, end: 187, line: 14, col: 6 })
2025-10-08T03:39:51.360598Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 183, end: 187, line: 14, col: 6 })
2025-10-08T03:39:51.360623Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 188, end: 194, line: 14, col: 13 })
2025-10-08T03:39:51.360655Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 194, end: 195, line: 14, col: 14 })
2025-10-08T03:39:51.360682Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 195, end: 198, line: 14, col: 17 })
2025-10-08T03:39:51.360701Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 198, end: 199, line: 14, col: 18 })
2025-10-08T03:39:51.360713Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 198, end: 199, line: 14, col: 18 })
2025-10-08T03:39:51.360727Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Float"), start: 200, end: 205, line: 14, col: 24 })
2025-10-08T03:39:51.360747Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 200, end: 205, line: 14, col: 24 })
2025-10-08T03:39:51.360771Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 205, end: 206, line: 14, col: 25 })
2025-10-08T03:39:51.360793Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 207, end: 209, line: 14, col: 28 })
2025-10-08T03:39:51.360812Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 210, end: 214, line: 14, col: 33 })
2025-10-08T03:39:51.360830Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 210, end: 214, line: 14, col: 33 })
2025-10-08T03:39:51.360853Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 215, end: 216, line: 14, col: 35 })
2025-10-08T03:39:51.360869Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 215, end: 216, line: 14, col: 35 })
2025-10-08T03:39:51.360885Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 216, end: 217, line: 15, col: 0 })
2025-10-08T03:39:51.360899Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 216, end: 217, line: 15, col: 0 })
2025-10-08T03:39:51.360919Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 221, end: 225, line: 15, col: 8 }) with precedence: Assignment
2025-10-08T03:39:51.360938Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 221, end: 225, line: 15, col: 8 })
2025-10-08T03:39:51.360958Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 221, end: 225, line: 15, col: 8 })
2025-10-08T03:39:51.360975Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:51.360995Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 225, end: 226, line: 16, col: 0 })
2025-10-08T03:39:51.361018Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 228, end: 229, line: 16, col: 3 })
2025-10-08T03:39:51.361047Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 229, end: 230, line: 17, col: 0 })
2025-10-08T03:39:51.361058Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 229, end: 230, line: 17, col: 0 })
2025-10-08T03:39:51.361067Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 230, end: 231, line: 17, col: 1 })
2025-10-08T03:39:51.361081Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 231, end: 232, line: 18, col: 0 })
2025-10-08T03:39:51.361088Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 231, end: 232, line: 18, col: 0 })
2025-10-08T03:39:51.361165Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 11), kind: Protocol { name: Raw("Equals"), generics: [], body: Block { id: NodeID(0, 10), args: [], body: [Decl(Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 30..33 } }, span: 19..33 }), Decl(Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 47..50 } }, span: 36..50 }), Decl(Decl { id: NodeID(0, 9), kind: MethodRequirement(FuncSignature { id: NodeID(0, 8), span: 54..83, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 54..83 }), span: 54..83 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 71..74 }), span: 69..74 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 79..83 }) }), span: 54..83 })], span: 16..85 }, conformances: [] }, span: 0..85 }}: talk::name_resolution::name_resolver: declare type Equals -> Protocol(ProtocolId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T03:39:51.361189Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 11), kind: Protocol { name: Raw("Equals"), generics: [], body: Block { id: NodeID(0, 10), args: [], body: [Decl(Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 30..33 } }, span: 19..33 }), Decl(Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 47..50 } }, span: 36..50 }), Decl(Decl { id: NodeID(0, 9), kind: MethodRequirement(FuncSignature { id: NodeID(0, 8), span: 54..83, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 54..83 }), span: 54..83 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 71..74 }), span: 69..74 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 79..83 }) }), span: 54..83 })], span: 16..85 }, conformances: [] }, span: 0..85 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 11), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:51.361212Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 30..33 } }, span: 19..33 }}: talk::name_resolution::name_resolver: declare type RHS -> AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 11))
2025-10-08T03:39:51.361230Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 47..50 } }, span: 36..50 }}: talk::name_resolution::name_resolver: declare type Ret -> AssociatedType(AssociatedTypeId { module_id: Current, local_id: 2 }) Some(NodeID(0, 11))
2025-10-08T03:39:51.361253Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 54..83, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 54..83 }), span: 54..83 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 71..74 }), span: 69..74 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 79..83 }) }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 1 }) Some(NodeID(0, 11))
2025-10-08T03:39:51.361267Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 54..83, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 54..83 }), span: 54..83 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 71..74 }), span: 69..74 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 79..83 }) }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 8), parent_id: Some(NodeID(0, 11)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:51.361275Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 54..83, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 54..83 }), span: 54..83 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 71..74 }), span: 69..74 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 79..83 }) }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(1)) Some(NodeID(0, 8))
2025-10-08T03:39:51.361283Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 54..83, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 54..83 }), span: 54..83 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 71..74 }), span: 69..74 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 79..83 }) }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(2)) Some(NodeID(0, 8))
2025-10-08T03:39:51.361309Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 21), kind: Extend { name: Raw("Int"), conformances: [TypeAnnotation { id: NodeID(0, 12), kind: Nominal { name: Raw("Equals"), generics: [] }, span: 99..105 }], generics: [], body: Block { id: NodeID(0, 20), args: [], body: [Decl(Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 135..139 }), attributes: [] }, is_static: false }, span: 110..154 })], span: 106..156 } }, span: 87..156 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 21), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:51.361334Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 135..139 }), attributes: [] }, is_static: false }, span: 110..154 }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) Some(NodeID(0, 21))
2025-10-08T03:39:51.361355Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 135..139 }), attributes: [] }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 18), parent_id: Some(NodeID(0, 21)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:51.361367Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 135..139 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(3)) Some(NodeID(0, 18))
2025-10-08T03:39:51.361375Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 135..139 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(4)) Some(NodeID(0, 18))
2025-10-08T03:39:51.361404Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 31), kind: Extend { name: Raw("Float"), conformances: [TypeAnnotation { id: NodeID(0, 22), kind: Nominal { name: Raw("Equals"), generics: [] }, span: 172..178 }], generics: [], body: Block { id: NodeID(0, 30), args: [], body: [Decl(Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 210..214 }), attributes: [] }, is_static: false }, span: 183..229 })], span: 179..231 } }, span: 158..231 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 31), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:51.361425Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 210..214 }), attributes: [] }, is_static: false }, span: 183..229 }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) Some(NodeID(0, 31))
2025-10-08T03:39:51.361443Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 210..214 }), attributes: [] }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 28), parent_id: Some(NodeID(0, 31)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:51.361459Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 210..214 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(5)) Some(NodeID(0, 28))
2025-10-08T03:39:51.361477Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 210..214 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(6)) Some(NodeID(0, 28))
2025-10-08T03:39:51.361559Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:51.361575Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:51.361581Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:51.361676Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Self")), span: 54..83 }
2025-10-08T03:39:51.361695Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 71..74 }
2025-10-08T03:39:51.361704Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 79..83 }
2025-10-08T03:39:51.361731Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 12), kind: Nominal { name: Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Equals"), generics: [] }, span: 99..105 }
2025-10-08T03:39:51.361743Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }
2025-10-08T03:39:51.361750Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }
2025-10-08T03:39:51.361763Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }
2025-10-08T03:39:51.361781Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 22), kind: Nominal { name: Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Equals"), generics: [] }, span: 172..178 }
2025-10-08T03:39:51.361793Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }
2025-10-08T03:39:51.361799Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }
2025-10-08T03:39:51.361808Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }
2025-10-08T03:39:51.361855Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T03:39:51.361939Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T03:39:51.361955Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Protocol(ProtocolId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1))], predicates: [], ty: typeparam(1) })
2025-10-08T03:39:51.361986Z TRACE event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 71..74 }}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T03:39:51.362006Z  WARN event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 71..74 }}: talk::types::term_environment: overriding Protocol(ProtocolId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(2)), Ty(TypeParamId(1))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: typeparam(1) }). existing: Scheme(Scheme { foralls: [Ty(TypeParamId(1))], predicates: [], ty: typeparam(1) })
2025-10-08T03:39:51.362017Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 71..74 }}: talk::types::term_environment: promote Protocol(ProtocolId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(2)), Ty(TypeParamId(1))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: typeparam(1) })
2025-10-08T03:39:51.362035Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(1)), Ty(TypeParamId(2))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: func(typeparam(1)) -> func(typeparam(2)) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) })
2025-10-08T03:39:51.362084Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:51.362119Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:51.362142Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T03:39:51.362167Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T03:39:51.362281Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] }, is_static: false }, span: 183..229 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: inference instantiate: Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:51.362316Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] }, is_static: false }, span: 183..229 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(5)) : Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:51.362330Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] }, is_static: false }, span: 183..229 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(5)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:51.362344Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] }, is_static: false }, span: 183..229 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(6)) : Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:51.362359Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] }, is_static: false }, span: 183..229 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(6)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:51.362389Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] }, is_static: false }, span: 183..229 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::wants: constraining equals Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:51.362420Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 183..229 }), span: 183..229 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 200..205 }), span: 198..205 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 221..225 })], span: 215..229 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 210..214 }), attributes: [] }, is_static: false }, span: 183..229 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:51.362441Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}: talk::types::wants: constraining equals func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:51.362469Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 210..214 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 183..229 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 210..214 })
2025-10-08T03:39:51.362501Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 210..214 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 183..229 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 183..229 })
2025-10-08T03:39:51.362565Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 210..214 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 183..229 })], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Float -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- func equals(self: Self, rhs: Float) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:51.362873Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:51.362949Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] }, is_static: false }, span: 110..154 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: inference instantiate: Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:51.362981Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] }, is_static: false }, span: 110..154 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(3)) : Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
2025-10-08T03:39:51.362996Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] }, is_static: false }, span: 110..154 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(3)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:51.363008Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] }, is_static: false }, span: 110..154 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(4)) : Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
2025-10-08T03:39:51.363017Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] }, is_static: false }, span: 110..154 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(4)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:51.363048Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] }, is_static: false }, span: 110..154 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::wants: constraining equals Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:51.363072Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 110..154 }), span: 110..154 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 127..130 }), span: 125..130 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 146..150 })], span: 140..154 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 135..139 }), attributes: [] }, is_static: false }, span: 110..154 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:51.363095Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}: talk::types::wants: constraining equals func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:51.363115Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 135..139 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 110..154 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 135..139 })
2025-10-08T03:39:51.363134Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 135..139 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 110..154 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 110..154 })
2025-10-08T03:39:51.363193Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 135..139 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 110..154 })], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- func equals(self: Self, rhs: Int) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- func equals(self: Self, rhs: Float) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Int -> Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Float -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:51.363717Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:51.363783Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 3
2025-10-08T03:39:51.363908Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk","version":5}}
2025-10-08T03:39:51.363988Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"method":"workspace/semanticTokens/refresh"}
2025-10-08T03:39:51.364443Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","id":9,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}}}
2025-10-08T03:39:51.364603Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":9,"result":{"data":[0,0,8,6,0,1,1,10,16,0,1,2,10,16,0,2,2,4,6,0,0,22,2,6,0,3,0,6,6,0,1,2,4,6,0,0,22,2,6,0,1,4,4,6,0,4,0,6,6,0,1,2,4,6,0,0,24,2,6,0,1,4,4,6,0]}}
2025-10-08T03:39:51.364659Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":3,"result":null}
2025-10-08T03:39:52.139787Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didChange","params":{"contentChanges":[{"text":" ","range":{"start":{"line":1,"character":1},"end":{"line":1,"character":1}},"rangeLength":0}],"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk","version":6}}}
2025-10-08T03:39:52.140145Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Equals.tlk
2025-10-08T03:39:52.340446Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","id":10,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}}}
2025-10-08T03:39:52.340972Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":10,"result":{"data":[0,0,8,6,0,1,1,10,16,0,1,2,10,16,0,2,2,4,6,0,0,22,2,6,0,3,0,6,6,0,1,2,4,6,0,0,22,2,6,0,1,4,4,6,0,4,0,6,6,0,1,2,4,6,0,0,24,2,6,0,1,4,4,6,0]}}
2025-10-08T03:39:52.355543Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:52.355581Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:52.355606Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}: talk::parsing::parser: push_source_location: Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:52.355623Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:consume{expected=Protocol}: talk::parsing::parser: advance Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:52.355672Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 9, end: 15, line: 0, col: 15 })
2025-10-08T03:39:52.355702Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:52.355720Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:52.355740Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:52.355753Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:52.355767Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T03:39:52.355782Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T03:39:52.355803Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T03:39:52.355838Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T03:39:52.355860Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 34, end: 35, line: 2, col: 0 })
2025-10-08T03:39:52.355891Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T03:39:52.355916Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T03:39:52.355933Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T03:39:52.355956Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T03:39:52.355977Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 51, end: 53, line: 4, col: 0 })
2025-10-08T03:39:52.356015Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:52.356035Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:52.356053Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:52.356081Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 60, end: 66, line: 4, col: 13 })
2025-10-08T03:39:52.356114Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 66, end: 67, line: 4, col: 14 })
2025-10-08T03:39:52.356144Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 67, end: 70, line: 4, col: 17 })
2025-10-08T03:39:52.356167Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T03:39:52.356186Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T03:39:52.356204Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T03:39:52.356232Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T03:39:52.356267Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 75, end: 76, line: 4, col: 23 })
2025-10-08T03:39:52.356291Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 77, end: 79, line: 4, col: 26 })
2025-10-08T03:39:52.356333Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T03:39:52.356358Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T03:39:52.356381Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 5, col: 0 })
2025-10-08T03:39:52.356413Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 85, end: 86, line: 5, col: 1 })
2025-10-08T03:39:52.356439Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T03:39:52.356459Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T03:39:52.356477Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T03:39:52.356493Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T03:39:52.356515Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 95, end: 98, line: 7, col: 10 })
2025-10-08T03:39:52.356538Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 98, end: 99, line: 7, col: 11 })
2025-10-08T03:39:52.356554Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T03:39:52.356576Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T03:39:52.356607Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T03:39:52.356644Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T03:39:52.356665Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T03:39:52.356679Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T03:39:52.356702Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:52.356721Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:52.356738Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:52.356766Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 116, end: 122, line: 8, col: 13 })
2025-10-08T03:39:52.356795Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 122, end: 123, line: 8, col: 14 })
2025-10-08T03:39:52.356826Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 123, end: 126, line: 8, col: 17 })
2025-10-08T03:39:52.356851Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T03:39:52.356871Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T03:39:52.356888Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T03:39:52.356914Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T03:39:52.356947Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 131, end: 132, line: 8, col: 23 })
2025-10-08T03:39:52.356972Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 133, end: 135, line: 8, col: 26 })
2025-10-08T03:39:52.356994Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T03:39:52.357017Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T03:39:52.357051Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T03:39:52.357077Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T03:39:52.357102Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T03:39:52.357118Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T03:39:52.357150Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 }) with precedence: Assignment
2025-10-08T03:39:52.357182Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T03:39:52.357207Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T03:39:52.357233Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:52.357260Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 151, end: 152, line: 10, col: 0 })
2025-10-08T03:39:52.357297Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 154, end: 155, line: 10, col: 3 })
2025-10-08T03:39:52.357326Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T03:39:52.357342Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T03:39:52.357354Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 156, end: 157, line: 11, col: 1 })
2025-10-08T03:39:52.357374Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T03:39:52.357385Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T03:39:52.357401Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T03:39:52.357422Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T03:39:52.357440Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 166, end: 171, line: 13, col: 12 })
2025-10-08T03:39:52.357462Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 171, end: 172, line: 13, col: 13 })
2025-10-08T03:39:52.357476Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T03:39:52.357493Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T03:39:52.357515Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T03:39:52.357532Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T03:39:52.357546Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T03:39:52.357557Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T03:39:52.357574Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:52.357588Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:52.357601Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:52.357622Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 189, end: 195, line: 14, col: 13 })
2025-10-08T03:39:52.357656Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 195, end: 196, line: 14, col: 14 })
2025-10-08T03:39:52.357682Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 196, end: 199, line: 14, col: 17 })
2025-10-08T03:39:52.357702Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T03:39:52.357723Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T03:39:52.357738Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T03:39:52.357756Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T03:39:52.357783Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 206, end: 207, line: 14, col: 25 })
2025-10-08T03:39:52.357804Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 208, end: 210, line: 14, col: 28 })
2025-10-08T03:39:52.357820Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T03:39:52.357838Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T03:39:52.357859Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T03:39:52.357877Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T03:39:52.357896Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T03:39:52.357909Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T03:39:52.357930Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 }) with precedence: Assignment
2025-10-08T03:39:52.357949Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T03:39:52.357968Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T03:39:52.357986Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:52.358007Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 226, end: 227, line: 16, col: 0 })
2025-10-08T03:39:52.358035Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 229, end: 230, line: 16, col: 3 })
2025-10-08T03:39:52.358067Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T03:39:52.358081Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T03:39:52.358090Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 231, end: 232, line: 17, col: 1 })
2025-10-08T03:39:52.358107Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T03:39:52.358115Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T03:39:52.358194Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("protocol Equals {\n  associated RHS\n  associated Ret\n\n  func equals(rhs: RHS) -> Bool\n}\n\nextend Int: Equals {\n  func equals(rhs: Int) -> Bool {\n    true\n  }\n}\n\nextend Float: Equals {\n  func equals(rhs: Float) -> Bool {\n    true\n  }\n}\n") }
2025-10-08T03:39:52.358211Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:52.358219Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T03:39:52.358235Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}: talk::parsing::parser: push_source_location: Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:52.358248Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:consume{expected=Protocol}: talk::parsing::parser: advance Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T03:39:52.358266Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 9, end: 15, line: 0, col: 15 })
2025-10-08T03:39:52.358286Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:52.358300Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T03:39:52.358318Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:52.358329Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T03:39:52.358340Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T03:39:52.358351Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T03:39:52.358368Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T03:39:52.358383Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T03:39:52.358400Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 34, end: 35, line: 2, col: 0 })
2025-10-08T03:39:52.358419Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T03:39:52.358435Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T03:39:52.358449Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T03:39:52.358472Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T03:39:52.358490Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 51, end: 53, line: 4, col: 0 })
2025-10-08T03:39:52.358517Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:52.358535Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:52.358550Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T03:39:52.358570Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 60, end: 66, line: 4, col: 13 })
2025-10-08T03:39:52.358592Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 66, end: 67, line: 4, col: 14 })
2025-10-08T03:39:52.358616Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 67, end: 70, line: 4, col: 17 })
2025-10-08T03:39:52.358646Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T03:39:52.358660Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T03:39:52.358674Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T03:39:52.358697Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T03:39:52.358722Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 75, end: 76, line: 4, col: 23 })
2025-10-08T03:39:52.358741Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 77, end: 79, line: 4, col: 26 })
2025-10-08T03:39:52.358758Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T03:39:52.358776Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T03:39:52.358793Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 5, col: 0 })
2025-10-08T03:39:52.358815Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 85, end: 86, line: 5, col: 1 })
2025-10-08T03:39:52.358834Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T03:39:52.358841Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T03:39:52.358854Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T03:39:52.358866Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T03:39:52.358888Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 95, end: 98, line: 7, col: 10 })
2025-10-08T03:39:52.358904Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 98, end: 99, line: 7, col: 11 })
2025-10-08T03:39:52.358918Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T03:39:52.358934Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T03:39:52.358955Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T03:39:52.358968Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T03:39:52.358980Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T03:39:52.358992Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T03:39:52.359008Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:52.359022Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:52.359035Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T03:39:52.359056Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 116, end: 122, line: 8, col: 13 })
2025-10-08T03:39:52.359080Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 122, end: 123, line: 8, col: 14 })
2025-10-08T03:39:52.359105Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 123, end: 126, line: 8, col: 17 })
2025-10-08T03:39:52.359123Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T03:39:52.359135Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T03:39:52.359149Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T03:39:52.359169Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T03:39:52.359193Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 131, end: 132, line: 8, col: 23 })
2025-10-08T03:39:52.359213Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 133, end: 135, line: 8, col: 26 })
2025-10-08T03:39:52.359233Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T03:39:52.359253Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T03:39:52.359279Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T03:39:52.359296Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T03:39:52.359312Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T03:39:52.359326Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T03:39:52.359346Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 }) with precedence: Assignment
2025-10-08T03:39:52.359365Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T03:39:52.359386Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T03:39:52.359405Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:52.359426Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 151, end: 152, line: 10, col: 0 })
2025-10-08T03:39:52.359449Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 154, end: 155, line: 10, col: 3 })
2025-10-08T03:39:52.359477Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T03:39:52.359487Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T03:39:52.359496Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 156, end: 157, line: 11, col: 1 })
2025-10-08T03:39:52.359512Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T03:39:52.359521Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T03:39:52.359533Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T03:39:52.359545Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T03:39:52.359569Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 166, end: 171, line: 13, col: 12 })
2025-10-08T03:39:52.359586Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 171, end: 172, line: 13, col: 13 })
2025-10-08T03:39:52.359599Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T03:39:52.359614Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T03:39:52.359649Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T03:39:52.359666Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T03:39:52.359678Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T03:39:52.359688Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T03:39:52.359705Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:52.359718Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:52.359731Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T03:39:52.359752Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 189, end: 195, line: 14, col: 13 })
2025-10-08T03:39:52.359780Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 195, end: 196, line: 14, col: 14 })
2025-10-08T03:39:52.359802Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 196, end: 199, line: 14, col: 17 })
2025-10-08T03:39:52.359821Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T03:39:52.359835Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T03:39:52.359848Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T03:39:52.359870Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T03:39:52.359896Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 206, end: 207, line: 14, col: 25 })
2025-10-08T03:39:52.359916Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 208, end: 210, line: 14, col: 28 })
2025-10-08T03:39:52.359933Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T03:39:52.359956Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T03:39:52.359977Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T03:39:52.359994Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T03:39:52.360011Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T03:39:52.360024Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T03:39:52.360044Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 }) with precedence: Assignment
2025-10-08T03:39:52.360064Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T03:39:52.360084Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T03:39:52.360100Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T03:39:52.360122Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 226, end: 227, line: 16, col: 0 })
2025-10-08T03:39:52.360144Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 229, end: 230, line: 16, col: 3 })
2025-10-08T03:39:52.360172Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T03:39:52.360187Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T03:39:52.360196Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 231, end: 232, line: 17, col: 1 })
2025-10-08T03:39:52.360211Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T03:39:52.360220Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T03:39:52.360294Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 11), kind: Protocol { name: Raw("Equals"), generics: [], body: Block { id: NodeID(0, 10), args: [], body: [Decl(Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 31..34 } }, span: 20..34 }), Decl(Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 48..51 } }, span: 37..51 }), Decl(Decl { id: NodeID(0, 9), kind: MethodRequirement(FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }), span: 55..84 })], span: 16..86 }, conformances: [] }, span: 0..86 }}: talk::name_resolution::name_resolver: declare type Equals -> Protocol(ProtocolId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T03:39:52.360317Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 11), kind: Protocol { name: Raw("Equals"), generics: [], body: Block { id: NodeID(0, 10), args: [], body: [Decl(Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 31..34 } }, span: 20..34 }), Decl(Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 48..51 } }, span: 37..51 }), Decl(Decl { id: NodeID(0, 9), kind: MethodRequirement(FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }), span: 55..84 })], span: 16..86 }, conformances: [] }, span: 0..86 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 11), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:52.360336Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), generics: [], conformances: [], span: 31..34 } }, span: 20..34 }}: talk::name_resolution::name_resolver: declare type RHS -> AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 11))
2025-10-08T03:39:52.360353Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), generics: [], conformances: [], span: 48..51 } }, span: 37..51 }}: talk::name_resolution::name_resolver: declare type Ret -> AssociatedType(AssociatedTypeId { module_id: Current, local_id: 2 }) Some(NodeID(0, 11))
2025-10-08T03:39:52.360377Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 1 }) Some(NodeID(0, 11))
2025-10-08T03:39:52.360388Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 8), parent_id: Some(NodeID(0, 11)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:52.360398Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(1)) Some(NodeID(0, 8))
2025-10-08T03:39:52.360406Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 80..84 }) }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(2)) Some(NodeID(0, 8))
2025-10-08T03:39:52.360430Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 21), kind: Extend { name: Raw("Int"), conformances: [TypeAnnotation { id: NodeID(0, 12), kind: Nominal { name: Raw("Equals"), generics: [] }, span: 100..106 }], generics: [], body: Block { id: NodeID(0, 20), args: [], body: [Decl(Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 })], span: 107..157 } }, span: 88..157 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 21), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:52.360460Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) Some(NodeID(0, 21))
2025-10-08T03:39:52.360485Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 136..140 }), attributes: [] }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 18), parent_id: Some(NodeID(0, 21)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:52.360500Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 136..140 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(3)) Some(NodeID(0, 18))
2025-10-08T03:39:52.360507Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 136..140 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(4)) Some(NodeID(0, 18))
2025-10-08T03:39:52.360535Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 31), kind: Extend { name: Raw("Float"), conformances: [TypeAnnotation { id: NodeID(0, 22), kind: Nominal { name: Raw("Equals"), generics: [] }, span: 173..179 }], generics: [], body: Block { id: NodeID(0, 30), args: [], body: [Decl(Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 })], span: 180..232 } }, span: 159..232 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 31), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T03:39:52.360568Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Raw("equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) Some(NodeID(0, 31))
2025-10-08T03:39:52.360590Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 211..215 }), attributes: [] }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 28), parent_id: Some(NodeID(0, 31)), values: {}, types: {}, depth: 3 }
2025-10-08T03:39:52.360602Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 211..215 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(5)) Some(NodeID(0, 28))
2025-10-08T03:39:52.360612Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), generics: [] }, span: 211..215 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(6)) Some(NodeID(0, 28))
2025-10-08T03:39:52.360713Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:52.360735Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:52.360742Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:52.360826Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Self")), span: 55..84 }
2025-10-08T03:39:52.360843Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 72..75 }
2025-10-08T03:39:52.360851Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 80..84 }
2025-10-08T03:39:52.360877Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 12), kind: Nominal { name: Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Equals"), generics: [] }, span: 100..106 }
2025-10-08T03:39:52.360890Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }
2025-10-08T03:39:52.360898Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }
2025-10-08T03:39:52.360909Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }
2025-10-08T03:39:52.360926Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 22), kind: Nominal { name: Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Equals"), generics: [] }, span: 173..179 }
2025-10-08T03:39:52.360942Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }
2025-10-08T03:39:52.360948Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }
2025-10-08T03:39:52.360957Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }
2025-10-08T03:39:52.361010Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T03:39:52.361098Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T03:39:52.361121Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Protocol(ProtocolId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1))], predicates: [], ty: typeparam(1) })
2025-10-08T03:39:52.361152Z TRACE event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 72..75 }}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T03:39:52.361172Z  WARN event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 72..75 }}: talk::types::term_environment: overriding Protocol(ProtocolId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(2)), Ty(TypeParamId(1))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: typeparam(1) }). existing: Scheme(Scheme { foralls: [Ty(TypeParamId(1))], predicates: [], ty: typeparam(1) })
2025-10-08T03:39:52.361185Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), generics: [] }, span: 72..75 }}: talk::types::term_environment: promote Protocol(ProtocolId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(2)), Ty(TypeParamId(1))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: typeparam(1) })
2025-10-08T03:39:52.361204Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(1)), Ty(TypeParamId(2))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: func(typeparam(1)) -> func(typeparam(2)) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) })
2025-10-08T03:39:52.361258Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:52.361301Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:52.361326Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T03:39:52.361350Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T03:39:52.361469Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: inference instantiate: Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:52.361500Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(5)) : Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:52.361517Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(5)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:52.361531Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(6)) : Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:52.361541Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(6)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T03:39:52.361574Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::wants: constraining equals Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:52.361608Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:52.361641Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}: talk::types::wants: constraining equals func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:52.361668Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 })
2025-10-08T03:39:52.361695Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })
2025-10-08T03:39:52.361756Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Float -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- func equals(self: Self, rhs: Float) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:52.362054Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:52.362129Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: inference instantiate: Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:52.362161Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(3)) : Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
2025-10-08T03:39:52.362176Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(3)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:52.362186Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(4)) : Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
2025-10-08T03:39:52.362196Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(4)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T03:39:52.362226Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::wants: constraining equals Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:52.362251Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:52.362273Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}: talk::types::wants: constraining equals func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T03:39:52.362290Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 })
2025-10-08T03:39:52.362308Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })
2025-10-08T03:39:52.362361Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- func equals(self: Self, rhs: Int) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- func equals(self: Self, rhs: Float) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Int -> Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Float -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T03:39:52.362813Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T03:39:52.362855Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 3
2025-10-08T03:39:52.362945Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk","version":6}}
2025-10-08T03:39:52.363001Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"method":"workspace/semanticTokens/refresh"}
2025-10-08T03:39:52.363335Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","id":11,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}}}
2025-10-08T03:39:52.363438Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":11,"result":{"data":[0,0,8,6,0,1,2,10,16,0,1,2,10,16,0,2,2,4,6,0,0,22,2,6,0,3,0,6,6,0,1,2,4,6,0,0,22,2,6,0,1,4,4,6,0,4,0,6,6,0,1,2,4,6,0,0,24,2,6,0,1,4,4,6,0]}}
2025-10-08T03:39:52.363478Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":4,"result":null}
2025-10-08T03:39:53.700680Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didSave","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}}}
2025-10-08T04:28:03.385945Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"shutdown","id":12}
2025-10-08T04:28:03.386250Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":12,"error":{"code":-32601,"message":"No such method shutdown","data":null}}
2025-10-08T05:02:08.703390Z TRACE async_lsp: incoming msg={"id":1,"method":"initialize","jsonrpc":"2.0","params":{"rootUri":null,"rootPath":null,"clientInfo":{"version":"0.11.3","name":"Neovim"},"workspaceFolders":null,"processId":1626705,"workDoneToken":"1","trace":"off","capabilities":{"textDocument":{"rename":{"prepareSupport":true,"dynamicRegistration":true},"implementation":{"linkSupport":true},"typeDefinition":{"linkSupport":true},"declaration":{"linkSupport":true},"semanticTokens":{"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"dynamicRegistration":false,"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"],"requests":{"full":{"delta":true},"range":false},"augmentsSyntaxTokens":true,"serverCancelSupport":false,"multilineTokenSupport":false,"overlappingTokenSupport":true,"formats":["relative"]},"inlayHint":{"resolveSupport":{"properties":["textEdits","tooltip","location","command"]},"dynamicRegistration":true},"callHierarchy":{"dynamicRegistration":false},"hover":{"contentFormat":["markdown","plaintext"],"dynamicRegistration":true},"rangeFormatting":{"rangesSupport":true,"dynamicRegistration":true},"completion":{"contextSupport":true,"dynamicRegistration":false,"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},"completionList":{"itemDefaults":["editRange","insertTextFormat","insertTextMode","data"]},"completionItem":{"tagSupport":{"valueSet":[1]},"deprecatedSupport":true,"snippetSupport":true,"documentationFormat":["markdown","plaintext"],"preselectSupport":false,"commitCharactersSupport":false,"resolveSupport":{"properties":["additionalTextEdits","command"]}}},"documentSymbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"dynamicRegistration":false,"hierarchicalDocumentSymbolSupport":true},"foldingRange":{"foldingRange":{"collapsedText":true},"dynamicRegistration":false,"foldingRangeKind":{"valueSet":["comment","imports","region"]},"lineFoldingOnly":true},"documentHighlight":{"dynamicRegistration":false},"signatureHelp":{"signatureInformation":{"documentationFormat":["markdown","plaintext"],"parameterInformation":{"labelOffsetSupport":true},"activeParameterSupport":true},"dynamicRegistration":false},"publishDiagnostics":{"tagSupport":{"valueSet":[1,2]},"dataSupport":true,"relatedInformation":true},"definition":{"dynamicRegistration":true,"linkSupport":true},"codeLens":{"resolveSupport":{"properties":["command"]},"dynamicRegistration":false},"codeAction":{"dynamicRegistration":true,"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"isPreferredSupport":true,"dataSupport":true,"resolveSupport":{"properties":["edit","command"]}},"formatting":{"dynamicRegistration":true},"references":{"dynamicRegistration":false},"diagnostic":{"tagSupport":{"valueSet":[1,2]},"dynamicRegistration":false},"synchronization":{"willSaveWaitUntil":true,"didSave":true,"dynamicRegistration":false,"willSave":true}},"window":{"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}},"showDocument":{"support":true},"workDoneProgress":true},"general":{"positionEncodings":["utf-8","utf-16","utf-32"]},"workspace":{"didChangeWatchedFiles":{"relativePatternSupport":true,"dynamicRegistration":false},"workspaceEdit":{"resourceOperations":["rename","create","delete"]},"didChangeConfiguration":{"dynamicRegistration":false},"configuration":true,"applyEdit":true,"semanticTokens":{"refreshSupport":true},"inlayHint":{"refreshSupport":true},"symbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"dynamicRegistration":false},"workspaceFolders":true}}}}
2025-10-08T05:02:08.704198Z TRACE request{method="initialize"}: talk::lsp::server: Initialize with InitializeParams { process_id: Some(1626705), root_path: None, root_uri: None, initialization_options: None, capabilities: ClientCapabilities { workspace: Some(WorkspaceClientCapabilities { apply_edit: Some(true), workspace_edit: Some(WorkspaceEditClientCapabilities { document_changes: None, resource_operations: Some([Rename, Create, Delete]), failure_handling: None, normalizes_line_endings: None, change_annotation_support: None }), did_change_configuration: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), did_change_watched_files: Some(DidChangeWatchedFilesClientCapabilities { dynamic_registration: Some(false), relative_pattern_support: Some(true) }), symbol: Some(WorkspaceSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), tag_support: None, resolve_support: None }), execute_command: None, workspace_folders: Some(true), configuration: Some(true), semantic_tokens: Some(SemanticTokensWorkspaceClientCapabilities { refresh_support: Some(true) }), code_lens: None, file_operations: None, inline_value: None, inlay_hint: Some(InlayHintWorkspaceClientCapabilities { refresh_support: Some(true) }), diagnostic: None }), text_document: Some(TextDocumentClientCapabilities { synchronization: Some(TextDocumentSyncClientCapabilities { dynamic_registration: Some(false), will_save: Some(true), will_save_wait_until: Some(true), did_save: Some(true) }), completion: Some(CompletionClientCapabilities { dynamic_registration: Some(false), completion_item: Some(CompletionItemCapability { snippet_support: Some(true), commit_characters_support: Some(false), documentation_format: Some([Markdown, PlainText]), deprecated_support: Some(true), preselect_support: Some(false), tag_support: Some(TagSupport { value_set: [Deprecated] }), insert_replace_support: None, resolve_support: Some(CompletionItemCapabilityResolveSupport { properties: ["additionalTextEdits", "command"] }), insert_text_mode_support: None, label_details_support: None }), completion_item_kind: Some(CompletionItemKindCapability { value_set: Some([Text, Method, Function, Constructor, Field, Variable, Class, Interface, Module, Property, Unit, Value, Enum, Keyword, Snippet, Color, File, Reference, Folder, EnumMember, Constant, Struct, Event, Operator, TypeParameter]) }), context_support: Some(true), insert_text_mode: None, completion_list: Some(CompletionListCapability { item_defaults: Some(["editRange", "insertTextFormat", "insertTextMode", "data"]) }) }), hover: Some(HoverClientCapabilities { dynamic_registration: Some(true), content_format: Some([Markdown, PlainText]) }), signature_help: Some(SignatureHelpClientCapabilities { dynamic_registration: Some(false), signature_information: Some(SignatureInformationSettings { documentation_format: Some([Markdown, PlainText]), parameter_information: Some(ParameterInformationSettings { label_offset_support: Some(true) }), active_parameter_support: Some(true) }), context_support: None }), references: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_highlight: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_symbol: Some(DocumentSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), hierarchical_document_symbol_support: Some(true), tag_support: None }), formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), range_formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), on_type_formatting: None, declaration: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), definition: Some(GotoCapability { dynamic_registration: Some(true), link_support: Some(true) }), type_definition: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), implementation: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), code_action: Some(CodeActionClientCapabilities { dynamic_registration: Some(true), code_action_literal_support: Some(CodeActionLiteralSupport { code_action_kind: CodeActionKindLiteralSupport { value_set: ["", "quickfix", "refactor", "refactor.extract", "refactor.inline", "refactor.rewrite", "source", "source.organizeImports"] } }), is_preferred_support: Some(true), disabled_support: None, data_support: Some(true), resolve_support: Some(CodeActionCapabilityResolveSupport { properties: ["edit", "command"] }), honors_change_annotations: None }), code_lens: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_link: None, color_provider: None, rename: Some(RenameClientCapabilities { dynamic_registration: Some(true), prepare_support: Some(true), prepare_support_default_behavior: None, honors_change_annotations: None }), publish_diagnostics: Some(PublishDiagnosticsClientCapabilities { related_information: Some(true), tag_support: Some(TagSupport { value_set: [Unnecessary, Deprecated] }), version_support: None, code_description_support: None, data_support: Some(true) }), folding_range: Some(FoldingRangeClientCapabilities { dynamic_registration: Some(false), range_limit: None, line_folding_only: Some(true), folding_range_kind: Some(FoldingRangeKindCapability { value_set: Some([Comment, Imports, Region]) }), folding_range: Some(FoldingRangeCapability { collapsed_text: Some(true) }) }), selection_range: None, linked_editing_range: None, call_hierarchy: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), semantic_tokens: Some(SemanticTokensClientCapabilities { dynamic_registration: Some(false), requests: SemanticTokensClientCapabilitiesRequests { range: Some(false), full: Some(Delta { delta: Some(true) }) }, token_types: [SemanticTokenType("namespace"), SemanticTokenType("type"), SemanticTokenType("class"), SemanticTokenType("enum"), SemanticTokenType("interface"), SemanticTokenType("struct"), SemanticTokenType("typeParameter"), SemanticTokenType("parameter"), SemanticTokenType("variable"), SemanticTokenType("property"), SemanticTokenType("enumMember"), SemanticTokenType("event"), SemanticTokenType("function"), SemanticTokenType("method"), SemanticTokenType("macro"), SemanticTokenType("keyword"), SemanticTokenType("modifier"), SemanticTokenType("comment"), SemanticTokenType("string"), SemanticTokenType("number"), SemanticTokenType("regexp"), SemanticTokenType("operator"), SemanticTokenType("decorator")], token_modifiers: [SemanticTokenModifier("declaration"), SemanticTokenModifier("definition"), SemanticTokenModifier("readonly"), SemanticTokenModifier("static"), SemanticTokenModifier("deprecated"), SemanticTokenModifier("abstract"), SemanticTokenModifier("async"), SemanticTokenModifier("modification"), SemanticTokenModifier("documentation"), SemanticTokenModifier("defaultLibrary")], formats: [TokenFormat("relative")], overlapping_token_support: Some(true), multiline_token_support: Some(false), server_cancel_support: Some(false), augments_syntax_tokens: Some(true) }), moniker: None, type_hierarchy: None, inline_value: None, inlay_hint: Some(InlayHintClientCapabilities { dynamic_registration: Some(true), resolve_support: Some(InlayHintResolveClientCapabilities { properties: ["textEdits", "tooltip", "location", "command"] }) }), diagnostic: Some(DiagnosticClientCapabilities { dynamic_registration: Some(false), related_document_support: None }) }), window: Some(WindowClientCapabilities { work_done_progress: Some(true), show_message: Some(ShowMessageRequestClientCapabilities { message_action_item: Some(MessageActionItemCapabilities { additional_properties_support: Some(true) }) }), show_document: Some(ShowDocumentClientCapabilities { support: true }) }), general: Some(GeneralClientCapabilities { regular_expressions: None, markdown: None, stale_request_support: None, position_encodings: Some([PositionEncodingKind("utf-8"), PositionEncodingKind("utf-16"), PositionEncodingKind("utf-32")]) }), experimental: None }, trace: Some(Off), workspace_folders: None, client_info: Some(ClientInfo { name: "Neovim", version: Some("0.11.3") }), locale: None, work_done_progress_params: WorkDoneProgressParams { work_done_token: Some(String("1")) } }
2025-10-08T05:02:08.704465Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"result":{"capabilities":{"definitionProvider":true,"hoverProvider":true,"semanticTokensProvider":{"full":true,"legend":{"tokenModifiers":[],"tokenTypes":["comment","decorator","enumMember","enum","function","interface","keyword","method","modifier","number","operator","parameter","property","string","struct","typeParameter","type","variable"]},"range":false},"textDocumentSync":{"change":2,"openClose":true,"save":true}}}}
2025-10-08T05:02:08.708893Z TRACE async_lsp: incoming msg={"params":{},"jsonrpc":"2.0","method":"initialized"}
2025-10-08T05:02:08.709006Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"languageId":"talktalk","version":0,"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","text":"struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n"}},"jsonrpc":"2.0","method":"textDocument/didOpen"}
2025-10-08T05:02:08.709121Z  INFO notification{method="textDocument/didOpen"}: talk::lsp::server: did open file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:02:08.710434Z TRACE async_lsp: incoming msg={"id":2,"method":"textDocument/semanticTokens/full","jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}}}
2025-10-08T05:02:08.710565Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"result":{"data":[]}}
2025-10-08T05:02:09.704387Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:02:09.704450Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:02:09.704493Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:02:09.704522Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:02:09.704581Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:02:09.704628Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:02:09.704679Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:02:09.704722Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:02:09.704813Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:02:09.704869Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:02:09.704903Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:02:09.704922Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:02:09.704932Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:02:09.704964Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:02:09.705030Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:02:09.705070Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:02:09.705097Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:02:09.705118Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:02:09.705164Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:02:09.705195Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:02:09.705252Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:02:09.705290Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:02:09.705319Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:02:09.705337Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:02:09.705361Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:02:09.705395Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:02:09.705421Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:02:09.705475Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:02:09.705508Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:02:09.705538Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:02:09.705559Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:02:09.705583Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:02:09.705617Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:02:09.705658Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:02:09.705691Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:02:09.705726Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:02:09.705741Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:02:09.705862Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:02:09.705884Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:02:09.705892Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:02:09.705909Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:02:09.705925Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:02:09.705956Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:02:09.705982Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:02:09.706002Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:02:09.706033Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:02:09.706081Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:02:09.706111Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:02:09.706132Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:02:09.706173Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:02:09.706190Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:02:09.706214Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:02:09.706237Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:02:09.706272Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:02:09.706298Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:02:09.706324Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:02:09.706357Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:02:09.706382Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:02:09.706432Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:02:09.706459Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:02:09.706494Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:02:09.706521Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:02:09.706545Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:02:09.706576Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:02:09.706604Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:02:09.706665Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:02:09.706691Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:02:09.706717Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:02:09.706748Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:02:09.706772Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:02:09.706804Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:02:09.706831Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:02:09.706862Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:02:09.706896Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:02:09.706911Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:02:09.707003Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:02:09.707033Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:02:09.707052Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T05:02:09.707084Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T05:02:09.707112Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T05:02:09.707138Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T05:02:09.707205Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:02:09.707229Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:02:09.707241Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:02:09.707342Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 36..39, generics: [] }, span: 36..39 }
2025-10-08T05:02:09.707370Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 56..59, generics: [] }, span: 56..59 }
2025-10-08T05:02:09.707380Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 74..77, generics: [] }, span: 74..77 }
2025-10-08T05:02:09.707430Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:02:09.707496Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:02:09.707527Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:02:09.707539Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:02:09.707622Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:02:09.707668Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:02:09.707683Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:02:09.707753Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:02:09.707783Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:02:09.707826Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:02:09.707863Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:02:09.707894Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:02:09.707953Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:02:09.707999Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:02:09.708037Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:02:09.708078Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:02:09.708098Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:02:09.708196Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:02:09.708249Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:02:09.708344Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":0}}
2025-10-08T05:02:09.708415Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":0,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:02:09.709397Z TRACE async_lsp: incoming msg={"id":3,"method":"textDocument/semanticTokens/full","jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}}}
2025-10-08T05:02:09.709537Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"result":{"data":[0,0,6,6,0,0,12,1,10,0,0,1,7,15,0,0,7,1,10,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:02:09.709570Z TRACE async_lsp: incoming msg={"id":0,"jsonrpc":"2.0","result":null}
2025-10-08T05:07:27.063993Z TRACE async_lsp: incoming msg={"id":4,"method":"shutdown","jsonrpc":"2.0"}
2025-10-08T05:07:27.064201Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"error":{"code":-32601,"message":"No such method shutdown","data":null}}
2025-10-08T05:07:41.103471Z TRACE async_lsp: incoming msg={"id":1,"params":{"rootPath":null,"clientInfo":{"name":"Neovim","version":"0.11.3"},"capabilities":{"general":{"positionEncodings":["utf-8","utf-16","utf-32"]},"window":{"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}},"showDocument":{"support":true},"workDoneProgress":true},"workspace":{"workspaceEdit":{"resourceOperations":["rename","create","delete"]},"didChangeConfiguration":{"dynamicRegistration":false},"configuration":true,"symbol":{"dynamicRegistration":false,"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}},"didChangeWatchedFiles":{"dynamicRegistration":false,"relativePatternSupport":true},"semanticTokens":{"refreshSupport":true},"inlayHint":{"refreshSupport":true},"workspaceFolders":true,"applyEdit":true},"textDocument":{"rangeFormatting":{"dynamicRegistration":true,"rangesSupport":true},"documentSymbol":{"dynamicRegistration":false,"hierarchicalDocumentSymbolSupport":true,"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}},"formatting":{"dynamicRegistration":true},"rename":{"dynamicRegistration":true,"prepareSupport":true},"documentHighlight":{"dynamicRegistration":false},"signatureHelp":{"dynamicRegistration":false,"signatureInformation":{"parameterInformation":{"labelOffsetSupport":true},"activeParameterSupport":true,"documentationFormat":["markdown","plaintext"]}},"implementation":{"linkSupport":true},"codeLens":{"dynamicRegistration":false,"resolveSupport":{"properties":["command"]}},"codeAction":{"dataSupport":true,"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"isPreferredSupport":true,"dynamicRegistration":true,"resolveSupport":{"properties":["edit","command"]}},"typeDefinition":{"linkSupport":true},"declaration":{"linkSupport":true},"synchronization":{"dynamicRegistration":false,"willSave":true,"didSave":true,"willSaveWaitUntil":true},"hover":{"dynamicRegistration":true,"contentFormat":["markdown","plaintext"]},"completion":{"completionList":{"itemDefaults":["editRange","insertTextFormat","insertTextMode","data"]},"dynamicRegistration":false,"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},"completionItem":{"resolveSupport":{"properties":["additionalTextEdits","command"]},"preselectSupport":false,"documentationFormat":["markdown","plaintext"],"deprecatedSupport":true,"snippetSupport":true,"commitCharactersSupport":false,"tagSupport":{"valueSet":[1]}},"contextSupport":true},"semanticTokens":{"dynamicRegistration":false,"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"requests":{"full":{"delta":true},"range":false},"formats":["relative"],"multilineTokenSupport":false,"augmentsSyntaxTokens":true,"serverCancelSupport":false,"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"],"overlappingTokenSupport":true},"inlayHint":{"dynamicRegistration":true,"resolveSupport":{"properties":["textEdits","tooltip","location","command"]}},"definition":{"linkSupport":true,"dynamicRegistration":true},"foldingRange":{"dynamicRegistration":false,"lineFoldingOnly":true,"foldingRangeKind":{"valueSet":["comment","imports","region"]},"foldingRange":{"collapsedText":true}},"callHierarchy":{"dynamicRegistration":false},"publishDiagnostics":{"dataSupport":true,"relatedInformation":true,"tagSupport":{"valueSet":[1,2]}},"references":{"dynamicRegistration":false},"diagnostic":{"dynamicRegistration":false,"tagSupport":{"valueSet":[1,2]}}}},"processId":1629148,"workDoneToken":"1","workspaceFolders":null,"trace":"off","rootUri":null},"method":"initialize","jsonrpc":"2.0"}
2025-10-08T05:07:41.104155Z TRACE request{method="initialize"}: talk::lsp::server: Initialize with InitializeParams { process_id: Some(1629148), root_path: None, root_uri: None, initialization_options: None, capabilities: ClientCapabilities { workspace: Some(WorkspaceClientCapabilities { apply_edit: Some(true), workspace_edit: Some(WorkspaceEditClientCapabilities { document_changes: None, resource_operations: Some([Rename, Create, Delete]), failure_handling: None, normalizes_line_endings: None, change_annotation_support: None }), did_change_configuration: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), did_change_watched_files: Some(DidChangeWatchedFilesClientCapabilities { dynamic_registration: Some(false), relative_pattern_support: Some(true) }), symbol: Some(WorkspaceSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), tag_support: None, resolve_support: None }), execute_command: None, workspace_folders: Some(true), configuration: Some(true), semantic_tokens: Some(SemanticTokensWorkspaceClientCapabilities { refresh_support: Some(true) }), code_lens: None, file_operations: None, inline_value: None, inlay_hint: Some(InlayHintWorkspaceClientCapabilities { refresh_support: Some(true) }), diagnostic: None }), text_document: Some(TextDocumentClientCapabilities { synchronization: Some(TextDocumentSyncClientCapabilities { dynamic_registration: Some(false), will_save: Some(true), will_save_wait_until: Some(true), did_save: Some(true) }), completion: Some(CompletionClientCapabilities { dynamic_registration: Some(false), completion_item: Some(CompletionItemCapability { snippet_support: Some(true), commit_characters_support: Some(false), documentation_format: Some([Markdown, PlainText]), deprecated_support: Some(true), preselect_support: Some(false), tag_support: Some(TagSupport { value_set: [Deprecated] }), insert_replace_support: None, resolve_support: Some(CompletionItemCapabilityResolveSupport { properties: ["additionalTextEdits", "command"] }), insert_text_mode_support: None, label_details_support: None }), completion_item_kind: Some(CompletionItemKindCapability { value_set: Some([Text, Method, Function, Constructor, Field, Variable, Class, Interface, Module, Property, Unit, Value, Enum, Keyword, Snippet, Color, File, Reference, Folder, EnumMember, Constant, Struct, Event, Operator, TypeParameter]) }), context_support: Some(true), insert_text_mode: None, completion_list: Some(CompletionListCapability { item_defaults: Some(["editRange", "insertTextFormat", "insertTextMode", "data"]) }) }), hover: Some(HoverClientCapabilities { dynamic_registration: Some(true), content_format: Some([Markdown, PlainText]) }), signature_help: Some(SignatureHelpClientCapabilities { dynamic_registration: Some(false), signature_information: Some(SignatureInformationSettings { documentation_format: Some([Markdown, PlainText]), parameter_information: Some(ParameterInformationSettings { label_offset_support: Some(true) }), active_parameter_support: Some(true) }), context_support: None }), references: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_highlight: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_symbol: Some(DocumentSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), hierarchical_document_symbol_support: Some(true), tag_support: None }), formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), range_formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), on_type_formatting: None, declaration: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), definition: Some(GotoCapability { dynamic_registration: Some(true), link_support: Some(true) }), type_definition: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), implementation: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), code_action: Some(CodeActionClientCapabilities { dynamic_registration: Some(true), code_action_literal_support: Some(CodeActionLiteralSupport { code_action_kind: CodeActionKindLiteralSupport { value_set: ["", "quickfix", "refactor", "refactor.extract", "refactor.inline", "refactor.rewrite", "source", "source.organizeImports"] } }), is_preferred_support: Some(true), disabled_support: None, data_support: Some(true), resolve_support: Some(CodeActionCapabilityResolveSupport { properties: ["edit", "command"] }), honors_change_annotations: None }), code_lens: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_link: None, color_provider: None, rename: Some(RenameClientCapabilities { dynamic_registration: Some(true), prepare_support: Some(true), prepare_support_default_behavior: None, honors_change_annotations: None }), publish_diagnostics: Some(PublishDiagnosticsClientCapabilities { related_information: Some(true), tag_support: Some(TagSupport { value_set: [Unnecessary, Deprecated] }), version_support: None, code_description_support: None, data_support: Some(true) }), folding_range: Some(FoldingRangeClientCapabilities { dynamic_registration: Some(false), range_limit: None, line_folding_only: Some(true), folding_range_kind: Some(FoldingRangeKindCapability { value_set: Some([Comment, Imports, Region]) }), folding_range: Some(FoldingRangeCapability { collapsed_text: Some(true) }) }), selection_range: None, linked_editing_range: None, call_hierarchy: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), semantic_tokens: Some(SemanticTokensClientCapabilities { dynamic_registration: Some(false), requests: SemanticTokensClientCapabilitiesRequests { range: Some(false), full: Some(Delta { delta: Some(true) }) }, token_types: [SemanticTokenType("namespace"), SemanticTokenType("type"), SemanticTokenType("class"), SemanticTokenType("enum"), SemanticTokenType("interface"), SemanticTokenType("struct"), SemanticTokenType("typeParameter"), SemanticTokenType("parameter"), SemanticTokenType("variable"), SemanticTokenType("property"), SemanticTokenType("enumMember"), SemanticTokenType("event"), SemanticTokenType("function"), SemanticTokenType("method"), SemanticTokenType("macro"), SemanticTokenType("keyword"), SemanticTokenType("modifier"), SemanticTokenType("comment"), SemanticTokenType("string"), SemanticTokenType("number"), SemanticTokenType("regexp"), SemanticTokenType("operator"), SemanticTokenType("decorator")], token_modifiers: [SemanticTokenModifier("declaration"), SemanticTokenModifier("definition"), SemanticTokenModifier("readonly"), SemanticTokenModifier("static"), SemanticTokenModifier("deprecated"), SemanticTokenModifier("abstract"), SemanticTokenModifier("async"), SemanticTokenModifier("modification"), SemanticTokenModifier("documentation"), SemanticTokenModifier("defaultLibrary")], formats: [TokenFormat("relative")], overlapping_token_support: Some(true), multiline_token_support: Some(false), server_cancel_support: Some(false), augments_syntax_tokens: Some(true) }), moniker: None, type_hierarchy: None, inline_value: None, inlay_hint: Some(InlayHintClientCapabilities { dynamic_registration: Some(true), resolve_support: Some(InlayHintResolveClientCapabilities { properties: ["textEdits", "tooltip", "location", "command"] }) }), diagnostic: Some(DiagnosticClientCapabilities { dynamic_registration: Some(false), related_document_support: None }) }), window: Some(WindowClientCapabilities { work_done_progress: Some(true), show_message: Some(ShowMessageRequestClientCapabilities { message_action_item: Some(MessageActionItemCapabilities { additional_properties_support: Some(true) }) }), show_document: Some(ShowDocumentClientCapabilities { support: true }) }), general: Some(GeneralClientCapabilities { regular_expressions: None, markdown: None, stale_request_support: None, position_encodings: Some([PositionEncodingKind("utf-8"), PositionEncodingKind("utf-16"), PositionEncodingKind("utf-32")]) }), experimental: None }, trace: Some(Off), workspace_folders: None, client_info: Some(ClientInfo { name: "Neovim", version: Some("0.11.3") }), locale: None, work_done_progress_params: WorkDoneProgressParams { work_done_token: Some(String("1")) } }
2025-10-08T05:07:41.104380Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"result":{"capabilities":{"definitionProvider":true,"hoverProvider":true,"semanticTokensProvider":{"full":true,"legend":{"tokenModifiers":[],"tokenTypes":["comment","decorator","enumMember","enum","function","interface","keyword","method","modifier","number","operator","parameter","property","string","struct","typeParameter","type","variable"]},"range":false},"textDocumentSync":{"change":2,"openClose":true,"save":true}}}}
2025-10-08T05:07:41.110569Z TRACE async_lsp: incoming msg={"method":"initialized","params":{},"jsonrpc":"2.0"}
2025-10-08T05:07:41.110745Z TRACE async_lsp: incoming msg={"method":"textDocument/didOpen","params":{"textDocument":{"version":0,"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","languageId":"talktalk","text":"struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n"}},"jsonrpc":"2.0"}
2025-10-08T05:07:41.110843Z  INFO notification{method="textDocument/didOpen"}: talk::lsp::server: did open file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:07:41.116187Z TRACE async_lsp: incoming msg={"id":2,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"method":"textDocument/semanticTokens/full","jsonrpc":"2.0"}
2025-10-08T05:07:41.116353Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"result":{"data":[]}}
2025-10-08T05:07:42.104294Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:07:42.104353Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:07:42.104390Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:07:42.104412Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:07:42.104451Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:07:42.104483Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:07:42.104506Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:07:42.104541Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:07:42.104644Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:07:42.104721Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:07:42.104757Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:07:42.104803Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:07:42.104829Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:07:42.104892Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:07:42.104931Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:07:42.104976Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:07:42.105007Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:07:42.105048Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:07:42.105111Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:07:42.105152Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:07:42.105219Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:07:42.105248Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:07:42.105303Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:07:42.105335Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:07:42.105407Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:07:42.105444Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:07:42.105460Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:07:42.105504Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:07:42.105521Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:07:42.105541Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:07:42.105558Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:07:42.105570Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:07:42.105593Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:07:42.105610Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:07:42.105628Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:07:42.105667Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:07:42.105674Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:07:42.105794Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:07:42.105813Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:07:42.105820Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:07:42.105837Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:07:42.105849Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:07:42.105867Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:07:42.105883Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:07:42.105896Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:07:42.105912Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:07:42.105940Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:07:42.105958Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:07:42.105974Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:07:42.105986Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:07:42.105997Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:07:42.106010Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:07:42.106024Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:07:42.106043Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:07:42.106059Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:07:42.106078Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:07:42.106096Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:07:42.106112Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:07:42.106138Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:07:42.106157Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:07:42.106177Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:07:42.106192Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:07:42.106205Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:07:42.106224Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:07:42.106239Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:07:42.106263Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:07:42.106278Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:07:42.106299Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:07:42.106315Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:07:42.106327Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:07:42.106350Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:07:42.106364Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:07:42.106382Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:07:42.106401Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:07:42.106410Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:07:42.106511Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:07:42.106531Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:07:42.106546Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T05:07:42.106568Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T05:07:42.106585Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T05:07:42.106603Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T05:07:42.106663Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:07:42.106691Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:07:42.106698Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:07:42.106793Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 36..39, generics: [] }, span: 36..39 }
2025-10-08T05:07:42.106819Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 56..59, generics: [] }, span: 56..59 }
2025-10-08T05:07:42.106827Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 74..77, generics: [] }, span: 74..77 }
2025-10-08T05:07:42.106863Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:07:42.106909Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:07:42.106924Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:07:42.106932Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:07:42.106992Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:07:42.107010Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:07:42.107021Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:07:42.107069Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:07:42.107098Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:07:42.107125Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:07:42.107147Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:07:42.107165Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:07:42.107204Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:07:42.107240Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:07:42.107256Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:07:42.107279Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:07:42.107293Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:07:42.107377Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:07:42.107418Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:07:42.107491Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":0}}
2025-10-08T05:07:42.107553Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":0,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:07:42.108378Z TRACE async_lsp: incoming msg={"id":3,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"method":"textDocument/semanticTokens/full","jsonrpc":"2.0"}
2025-10-08T05:07:42.108505Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:07:42.108534Z TRACE async_lsp: incoming msg={"id":0,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:07:45.261479Z TRACE async_lsp: incoming msg={"method":"textDocument/didOpen","params":{"textDocument":{"version":0,"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk","languageId":"talktalk","text":"protocol Equals {\n  associated RHS\n  associated Ret\n\n  func equals(rhs: RHS) -> Bool\n}\n\nextend Int: Equals {\n  func equals(rhs: Int) -> Bool {\n    true\n  }\n}\n\nextend Float: Equals {\n  func equals(rhs: Float) -> Bool {\n    true\n  }\n}\n"}},"jsonrpc":"2.0"}
2025-10-08T05:07:45.261696Z  INFO notification{method="textDocument/didOpen"}: talk::lsp::server: did open file:///home/nakajima/apps/talk/core/Equals.tlk
2025-10-08T05:07:45.269245Z TRACE async_lsp: incoming msg={"id":4,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","jsonrpc":"2.0"}
2025-10-08T05:07:45.269451Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"result":{"data":[]}}
2025-10-08T05:07:46.105338Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:07:46.105432Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:07:46.105465Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}: talk::parsing::parser: push_source_location: Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T05:07:46.105502Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:consume{expected=Protocol}: talk::parsing::parser: advance Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T05:07:46.105552Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 9, end: 15, line: 0, col: 15 })
2025-10-08T05:07:46.105583Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T05:07:46.105609Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T05:07:46.105667Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T05:07:46.105692Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T05:07:46.105714Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T05:07:46.105745Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T05:07:46.105771Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T05:07:46.105813Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T05:07:46.105850Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 34, end: 35, line: 2, col: 0 })
2025-10-08T05:07:46.105912Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T05:07:46.105946Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T05:07:46.105982Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T05:07:46.106020Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T05:07:46.106054Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 51, end: 53, line: 4, col: 0 })
2025-10-08T05:07:46.106197Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T05:07:46.106245Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T05:07:46.106261Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T05:07:46.106290Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 60, end: 66, line: 4, col: 13 })
2025-10-08T05:07:46.106315Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 66, end: 67, line: 4, col: 14 })
2025-10-08T05:07:46.106341Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 67, end: 70, line: 4, col: 17 })
2025-10-08T05:07:46.106361Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T05:07:46.106378Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T05:07:46.106405Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T05:07:46.106431Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T05:07:46.106461Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 75, end: 76, line: 4, col: 23 })
2025-10-08T05:07:46.106497Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 77, end: 79, line: 4, col: 26 })
2025-10-08T05:07:46.106526Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T05:07:46.106560Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T05:07:46.106587Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 5, col: 0 })
2025-10-08T05:07:46.106645Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 85, end: 86, line: 5, col: 1 })
2025-10-08T05:07:46.106672Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T05:07:46.106685Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T05:07:46.106709Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T05:07:46.106724Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T05:07:46.106746Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 95, end: 98, line: 7, col: 10 })
2025-10-08T05:07:46.106771Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 98, end: 99, line: 7, col: 11 })
2025-10-08T05:07:46.106795Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T05:07:46.106823Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T05:07:46.106857Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T05:07:46.106879Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T05:07:46.106895Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T05:07:46.106912Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T05:07:46.106933Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T05:07:46.106956Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T05:07:46.106970Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T05:07:46.107002Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 116, end: 122, line: 8, col: 13 })
2025-10-08T05:07:46.107034Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 122, end: 123, line: 8, col: 14 })
2025-10-08T05:07:46.107068Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 123, end: 126, line: 8, col: 17 })
2025-10-08T05:07:46.107102Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T05:07:46.107118Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T05:07:46.107144Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T05:07:46.107172Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T05:07:46.107208Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 131, end: 132, line: 8, col: 23 })
2025-10-08T05:07:46.107237Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 133, end: 135, line: 8, col: 26 })
2025-10-08T05:07:46.107264Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T05:07:46.107296Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T05:07:46.107339Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T05:07:46.107366Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T05:07:46.107393Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T05:07:46.107415Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T05:07:46.107492Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 }) with precedence: Assignment
2025-10-08T05:07:46.107524Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T05:07:46.107557Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T05:07:46.107584Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T05:07:46.107617Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 151, end: 152, line: 10, col: 0 })
2025-10-08T05:07:46.107663Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 154, end: 155, line: 10, col: 3 })
2025-10-08T05:07:46.107698Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T05:07:46.107720Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T05:07:46.107736Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 156, end: 157, line: 11, col: 1 })
2025-10-08T05:07:46.107765Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T05:07:46.107780Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T05:07:46.107799Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T05:07:46.107817Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T05:07:46.107845Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 166, end: 171, line: 13, col: 12 })
2025-10-08T05:07:46.107866Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 171, end: 172, line: 13, col: 13 })
2025-10-08T05:07:46.107881Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T05:07:46.107898Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T05:07:46.107922Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T05:07:46.107936Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T05:07:46.107950Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T05:07:46.107965Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T05:07:46.107990Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T05:07:46.108007Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T05:07:46.108020Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T05:07:46.108046Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 189, end: 195, line: 14, col: 13 })
2025-10-08T05:07:46.108068Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 195, end: 196, line: 14, col: 14 })
2025-10-08T05:07:46.108098Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 196, end: 199, line: 14, col: 17 })
2025-10-08T05:07:46.108116Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T05:07:46.108128Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T05:07:46.108142Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T05:07:46.108165Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T05:07:46.108194Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 206, end: 207, line: 14, col: 25 })
2025-10-08T05:07:46.108214Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 208, end: 210, line: 14, col: 28 })
2025-10-08T05:07:46.108232Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T05:07:46.108250Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T05:07:46.108272Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T05:07:46.108290Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T05:07:46.108308Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T05:07:46.108321Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T05:07:46.108346Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 }) with precedence: Assignment
2025-10-08T05:07:46.108365Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T05:07:46.108382Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T05:07:46.108398Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T05:07:46.108419Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 226, end: 227, line: 16, col: 0 })
2025-10-08T05:07:46.108443Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 229, end: 230, line: 16, col: 3 })
2025-10-08T05:07:46.108478Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T05:07:46.108490Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T05:07:46.108505Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 231, end: 232, line: 17, col: 1 })
2025-10-08T05:07:46.108526Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T05:07:46.108541Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T05:07:46.108688Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("protocol Equals {\n  associated RHS\n  associated Ret\n\n  func equals(rhs: RHS) -> Bool\n}\n\nextend Int: Equals {\n  func equals(rhs: Int) -> Bool {\n    true\n  }\n}\n\nextend Float: Equals {\n  func equals(rhs: Float) -> Bool {\n    true\n  }\n}\n") }
2025-10-08T05:07:46.108718Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:07:46.108727Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:07:46.108754Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}: talk::parsing::parser: push_source_location: Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T05:07:46.108772Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:consume{expected=Protocol}: talk::parsing::parser: advance Some(Token { kind: Protocol, start: 0, end: 8, line: 0, col: 8 })
2025-10-08T05:07:46.108800Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 9, end: 15, line: 0, col: 15 })
2025-10-08T05:07:46.108822Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T05:07:46.108844Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 16, end: 17, line: 0, col: 17 })
2025-10-08T05:07:46.108869Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T05:07:46.108886Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 17, end: 18, line: 1, col: 0 })
2025-10-08T05:07:46.108901Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T05:07:46.108923Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 20, end: 30, line: 1, col: 12 })
2025-10-08T05:07:46.108952Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T05:07:46.108981Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 31, end: 34, line: 1, col: 16 })
2025-10-08T05:07:46.109008Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 34, end: 35, line: 2, col: 0 })
2025-10-08T05:07:46.109040Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T05:07:46.109062Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:consume{expected=Associated}: talk::parsing::parser: advance Some(Token { kind: Associated, start: 37, end: 47, line: 2, col: 12 })
2025-10-08T05:07:46.109091Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T05:07:46.109121Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Ret"), start: 48, end: 51, line: 2, col: 16 })
2025-10-08T05:07:46.109147Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:generic:generics: talk::parsing::parser: advance Some(Token { kind: Newline, start: 51, end: 53, line: 4, col: 0 })
2025-10-08T05:07:46.109191Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T05:07:46.109210Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T05:07:46.109228Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 55, end: 59, line: 4, col: 6 })
2025-10-08T05:07:46.109261Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 60, end: 66, line: 4, col: 13 })
2025-10-08T05:07:46.109285Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 66, end: 67, line: 4, col: 14 })
2025-10-08T05:07:46.109308Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 67, end: 70, line: 4, col: 17 })
2025-10-08T05:07:46.109325Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T05:07:46.109337Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 70, end: 71, line: 4, col: 18 })
2025-10-08T05:07:46.109353Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T05:07:46.109373Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("RHS"), start: 72, end: 75, line: 4, col: 22 })
2025-10-08T05:07:46.109398Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 75, end: 76, line: 4, col: 23 })
2025-10-08T05:07:46.109417Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 77, end: 79, line: 4, col: 26 })
2025-10-08T05:07:46.109439Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T05:07:46.109459Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 80, end: 84, line: 4, col: 31 })
2025-10-08T05:07:46.109476Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}:decl{context=Protocol is_static=false}:method_decl{context=Protocol is_static=false}:func_decl{context=Protocol consume_func_keyword=true}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 5, col: 0 })
2025-10-08T05:07:46.109498Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Protocol context=Protocol}:block{context=Protocol consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 85, end: 86, line: 5, col: 1 })
2025-10-08T05:07:46.109518Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T05:07:46.109525Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 88, line: 7, col: 0 })
2025-10-08T05:07:46.109541Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T05:07:46.109560Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 88, end: 94, line: 7, col: 6 })
2025-10-08T05:07:46.109586Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 95, end: 98, line: 7, col: 10 })
2025-10-08T05:07:46.109606Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 98, end: 99, line: 7, col: 11 })
2025-10-08T05:07:46.109619Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T05:07:46.109648Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 100, end: 106, line: 7, col: 18 })
2025-10-08T05:07:46.109676Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T05:07:46.109691Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 107, end: 108, line: 7, col: 20 })
2025-10-08T05:07:46.109705Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T05:07:46.109714Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 108, end: 109, line: 8, col: 0 })
2025-10-08T05:07:46.109730Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T05:07:46.109742Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T05:07:46.109756Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 111, end: 115, line: 8, col: 6 })
2025-10-08T05:07:46.109778Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 116, end: 122, line: 8, col: 13 })
2025-10-08T05:07:46.109800Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 122, end: 123, line: 8, col: 14 })
2025-10-08T05:07:46.109823Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 123, end: 126, line: 8, col: 17 })
2025-10-08T05:07:46.109841Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T05:07:46.109856Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 126, end: 127, line: 8, col: 18 })
2025-10-08T05:07:46.109870Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T05:07:46.109891Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 128, end: 131, line: 8, col: 22 })
2025-10-08T05:07:46.109916Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 131, end: 132, line: 8, col: 23 })
2025-10-08T05:07:46.109935Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 133, end: 135, line: 8, col: 26 })
2025-10-08T05:07:46.109952Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T05:07:46.109970Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 136, end: 140, line: 8, col: 31 })
2025-10-08T05:07:46.109996Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T05:07:46.110015Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 141, end: 142, line: 8, col: 33 })
2025-10-08T05:07:46.110034Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T05:07:46.110047Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 142, end: 143, line: 9, col: 0 })
2025-10-08T05:07:46.110067Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 }) with precedence: Assignment
2025-10-08T05:07:46.110092Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T05:07:46.110110Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 147, end: 151, line: 9, col: 8 })
2025-10-08T05:07:46.110127Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T05:07:46.110147Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 151, end: 152, line: 10, col: 0 })
2025-10-08T05:07:46.110174Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 154, end: 155, line: 10, col: 3 })
2025-10-08T05:07:46.110198Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T05:07:46.110209Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 155, end: 156, line: 11, col: 0 })
2025-10-08T05:07:46.110217Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 156, end: 157, line: 11, col: 1 })
2025-10-08T05:07:46.110233Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T05:07:46.110243Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 157, end: 159, line: 13, col: 0 })
2025-10-08T05:07:46.110255Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: push_source_location: Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T05:07:46.110268Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:consume{expected=Extend}: talk::parsing::parser: advance Some(Token { kind: Extend, start: 159, end: 165, line: 13, col: 6 })
2025-10-08T05:07:46.110285Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 166, end: 171, line: 13, col: 12 })
2025-10-08T05:07:46.110302Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 171, end: 172, line: 13, col: 13 })
2025-10-08T05:07:46.110313Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T05:07:46.110331Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:conformances:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Equals"), start: 173, end: 179, line: 13, col: 20 })
2025-10-08T05:07:46.110351Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T05:07:46.110367Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 180, end: 181, line: 13, col: 22 })
2025-10-08T05:07:46.110379Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T05:07:46.110389Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 181, end: 182, line: 14, col: 0 })
2025-10-08T05:07:46.110405Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T05:07:46.110418Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T05:07:46.110431Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Func}: talk::parsing::parser: advance Some(Token { kind: Func, start: 184, end: 188, line: 14, col: 6 })
2025-10-08T05:07:46.110454Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("equals"), start: 189, end: 195, line: 14, col: 13 })
2025-10-08T05:07:46.110476Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=LeftParen}: talk::parsing::parser: advance Some(Token { kind: LeftParen, start: 195, end: 196, line: 14, col: 14 })
2025-10-08T05:07:46.110500Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("rhs"), start: 196, end: 199, line: 14, col: 17 })
2025-10-08T05:07:46.110517Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: push_source_location: Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T05:07:46.110533Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters: talk::parsing::parser: advance Some(Token { kind: Colon, start: 199, end: 200, line: 14, col: 18 })
2025-10-08T05:07:46.110547Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T05:07:46.110568Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:parameters:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Float"), start: 201, end: 206, line: 14, col: 24 })
2025-10-08T05:07:46.110593Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=RightParen}: talk::parsing::parser: advance Some(Token { kind: RightParen, start: 206, end: 207, line: 14, col: 25 })
2025-10-08T05:07:46.110612Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:consume{expected=Arrow}: talk::parsing::parser: advance Some(Token { kind: Arrow, start: 208, end: 210, line: 14, col: 28 })
2025-10-08T05:07:46.110640Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T05:07:46.110661Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Bool"), start: 211, end: 215, line: 14, col: 33 })
2025-10-08T05:07:46.110685Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T05:07:46.110704Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 216, end: 217, line: 14, col: 35 })
2025-10-08T05:07:46.110719Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T05:07:46.110739Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 217, end: 218, line: 15, col: 0 })
2025-10-08T05:07:46.110774Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 }) with precedence: Assignment
2025-10-08T05:07:46.110802Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T05:07:46.110825Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: advance Some(Token { kind: True, start: 222, end: 226, line: 15, col: 8 })
2025-10-08T05:07:46.110852Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:literal{_can_assign=true}: talk::parsing::parser: add expr [FileID(0)] LiteralTrue
2025-10-08T05:07:46.110881Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}:decl{context=Func is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 226, end: 227, line: 16, col: 0 })
2025-10-08T05:07:46.110918Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}:decl{context=Extend is_static=false}:method_decl{context=Extend is_static=false}:func_decl{context=Extend consume_func_keyword=true}:block{context=Func consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 229, end: 230, line: 16, col: 3 })
2025-10-08T05:07:46.110962Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T05:07:46.110980Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 230, end: 231, line: 17, col: 0 })
2025-10-08T05:07:46.110990Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Extend context=Extend}:block{context=Extend consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 231, end: 232, line: 17, col: 1 })
2025-10-08T05:07:46.111015Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T05:07:46.111030Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 232, end: 233, line: 18, col: 0 })
2025-10-08T05:07:46.111122Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 11), kind: Protocol { name: Raw("Equals"), name_span: 9..15, generics: [], body: Block { id: NodeID(0, 10), args: [], body: [Decl(Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), name_span: 31..34, generics: [], conformances: [], span: 31..34 } }, span: 20..34 }), Decl(Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), name_span: 48..51, generics: [], conformances: [], span: 48..51 } }, span: 37..51 }), Decl(Decl { id: NodeID(0, 9), kind: MethodRequirement(FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), name_span: 55..84, type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), name_span: 67..70, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), name_span: 72..75, generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), name_span: 80..84, generics: [] }, span: 80..84 }) }), span: 55..84 })], span: 16..86 }, conformances: [] }, span: 0..86 }}: talk::name_resolution::name_resolver: declare type Equals -> Protocol(ProtocolId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:07:46.111146Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 11), kind: Protocol { name: Raw("Equals"), name_span: 9..15, generics: [], body: Block { id: NodeID(0, 10), args: [], body: [Decl(Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), name_span: 31..34, generics: [], conformances: [], span: 31..34 } }, span: 20..34 }), Decl(Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), name_span: 48..51, generics: [], conformances: [], span: 48..51 } }, span: 37..51 }), Decl(Decl { id: NodeID(0, 9), kind: MethodRequirement(FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), name_span: 55..84, type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), name_span: 67..70, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), name_span: 72..75, generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), name_span: 80..84, generics: [] }, span: 80..84 }) }), span: 55..84 })], span: 16..86 }, conformances: [] }, span: 0..86 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 11), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:07:46.111184Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 2), kind: Associated { generic: GenericDecl { id: NodeID(0, 1), name: Raw("RHS"), name_span: 31..34, generics: [], conformances: [], span: 31..34 } }, span: 20..34 }}: talk::name_resolution::name_resolver: declare type RHS -> AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 11))
2025-10-08T05:07:46.111209Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Associated { generic: GenericDecl { id: NodeID(0, 3), name: Raw("Ret"), name_span: 48..51, generics: [], conformances: [], span: 48..51 } }, span: 37..51 }}: talk::name_resolution::name_resolver: declare type Ret -> AssociatedType(AssociatedTypeId { module_id: Current, local_id: 2 }) Some(NodeID(0, 11))
2025-10-08T05:07:46.111253Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), name_span: 55..84, type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), name_span: 67..70, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), name_span: 72..75, generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), name_span: 80..84, generics: [] }, span: 80..84 }) }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 1 }) Some(NodeID(0, 11))
2025-10-08T05:07:46.111269Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), name_span: 55..84, type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), name_span: 67..70, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), name_span: 72..75, generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), name_span: 80..84, generics: [] }, span: 80..84 }) }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 8), parent_id: Some(NodeID(0, 11)), values: {}, types: {}, depth: 3 }
2025-10-08T05:07:46.111279Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), name_span: 55..84, type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), name_span: 67..70, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), name_span: 72..75, generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), name_span: 80..84, generics: [] }, span: 80..84 }) }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(1)) Some(NodeID(0, 8))
2025-10-08T05:07:46.111299Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func_signature{func=FuncSignature { id: NodeID(0, 8), span: 55..84, name: Raw("equals"), params: [Parameter { id: NodeID(0, 32), name: Raw("self"), name_span: 55..84, type_annotation: Some(TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Raw("Self")), span: 55..84 }), span: 55..84 }, Parameter { id: NodeID(0, 6), name: Raw("rhs"), name_span: 67..70, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("RHS"), name_span: 72..75, generics: [] }, span: 72..75 }), span: 70..75 }], generics: [], ret: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Bool"), name_span: 80..84, generics: [] }, span: 80..84 }) }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(2)) Some(NodeID(0, 8))
2025-10-08T05:07:46.111335Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 21), kind: Extend { name: Raw("Int"), name_span: 95..98, conformances: [TypeAnnotation { id: NodeID(0, 12), kind: Nominal { name: Raw("Equals"), name_span: 100..106, generics: [] }, span: 100..106 }], generics: [], body: Block { id: NodeID(0, 20), args: [], body: [Decl(Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Raw("equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 })], span: 107..157 } }, span: 88..157 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 21), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:07:46.111364Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Raw("equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) Some(NodeID(0, 21))
2025-10-08T05:07:46.111404Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 18), parent_id: Some(NodeID(0, 21)), values: {}, types: {}, depth: 3 }
2025-10-08T05:07:46.111426Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(3)) Some(NodeID(0, 18))
2025-10-08T05:07:46.111440Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Raw("self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Raw("Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Raw("rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Raw("Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Raw("Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(4)) Some(NodeID(0, 18))
2025-10-08T05:07:46.111483Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 31), kind: Extend { name: Raw("Float"), name_span: 166..171, conformances: [TypeAnnotation { id: NodeID(0, 22), kind: Nominal { name: Raw("Equals"), name_span: 173..179, generics: [] }, span: 173..179 }], generics: [], body: Block { id: NodeID(0, 30), args: [], body: [Decl(Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Raw("equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 })], span: 180..232 } }, span: 159..232 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 31), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:07:46.111518Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Raw("equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 }}: talk::name_resolution::name_resolver: declare type equals -> InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) Some(NodeID(0, 31))
2025-10-08T05:07:46.111549Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 28), parent_id: Some(NodeID(0, 31)), values: {}, types: {}, depth: 3 }
2025-10-08T05:07:46.111568Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type self -> ParamLocal(ParamLocalId(5)) Some(NodeID(0, 28))
2025-10-08T05:07:46.111585Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Raw("self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Raw("Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Raw("rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Raw("Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Raw("Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }}: talk::name_resolution::name_resolver: declare type rhs -> ParamLocal(ParamLocalId(6)) Some(NodeID(0, 28))
2025-10-08T05:07:46.111687Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:07:46.111713Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:07:46.111721Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:07:46.111815Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 33), kind: SelfType(Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Self")), span: 55..84 }
2025-10-08T05:07:46.111838Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), name_span: 72..75, generics: [] }, span: 72..75 }
2025-10-08T05:07:46.111847Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 80..84, generics: [] }, span: 80..84 }
2025-10-08T05:07:46.111892Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 12), kind: Nominal { name: Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Equals"), name_span: 100..106, generics: [] }, span: 100..106 }
2025-10-08T05:07:46.111913Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }
2025-10-08T05:07:46.111922Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }
2025-10-08T05:07:46.111942Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }
2025-10-08T05:07:46.111973Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 22), kind: Nominal { name: Resolved(Protocol(ProtocolId { module_id: Current, local_id: 1 }), "Equals"), name_span: 173..179, generics: [] }, span: 173..179 }
2025-10-08T05:07:46.111990Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }
2025-10-08T05:07:46.111998Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }
2025-10-08T05:07:46.112011Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }
2025-10-08T05:07:46.112078Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:07:46.112185Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:07:46.112205Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Protocol(ProtocolId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1))], predicates: [], ty: typeparam(1) })
2025-10-08T05:07:46.112247Z TRACE event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), name_span: 72..75, generics: [] }, span: 72..75 }}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:07:46.112277Z  WARN event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), name_span: 72..75, generics: [] }, span: 72..75 }}: talk::types::term_environment: overriding Protocol(ProtocolId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(2)), Ty(TypeParamId(1))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: typeparam(1) }). existing: Scheme(Scheme { foralls: [Ty(TypeParamId(1))], predicates: [], ty: typeparam(1) })
2025-10-08T05:07:46.112296Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(AssociatedType(AssociatedTypeId { module_id: Current, local_id: 1 }), "RHS"), name_span: 72..75, generics: [] }, span: 72..75 }}: talk::types::term_environment: promote Protocol(ProtocolId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(2)), Ty(TypeParamId(1))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: typeparam(1) })
2025-10-08T05:07:46.112331Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Ty(TypeParamId(1)), Ty(TypeParamId(2))], predicates: [*associatedequals(typeparam(1), ProtocolId { module_id: Current, local_id: 1 }, AssociatedTypeId { module_id: Current, local_id: 1 } = typeparam(2))], ty: func(typeparam(1)) -> func(typeparam(2)) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) })
2025-10-08T05:07:46.112392Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:07:46.112442Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:07:46.112473Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:07:46.112512Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:07:46.112659Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: inference instantiate: Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:07:46.112714Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(5)) : Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T05:07:46.112734Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(5)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:07:46.112753Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(6)) : Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T05:07:46.112773Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(6)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:07:46.112826Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::wants: constraining equals Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T05:07:46.112887Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 28), kind: Method { func: Func { id: NodeID(0, 28), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }), "equals"), name_span: 189..195, generics: [], params: [Parameter { id: NodeID(0, 36), name: Resolved(ParamLocal(ParamLocalId(5)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 37), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Self")), span: 184..230 }), span: 184..230 }, Parameter { id: NodeID(0, 24), name: Resolved(ParamLocal(ParamLocalId(6)), "rhs"), name_span: 196..199, type_annotation: Some(TypeAnnotation { id: NodeID(0, 23), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }), "Float"), name_span: 201..206, generics: [] }, span: 201..206 }), span: 199..206 }], body: Block { id: NodeID(0, 27), args: [], body: [Stmt(Stmt { id: NodeID(0, 26), kind: Expr(Expr(id: NodeID(0, 26), kind: LiteralTrue)), span: 222..226 })], span: 216..230 }, ret: Some(TypeAnnotation { id: NodeID(0, 25), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 211..215, generics: [] }, span: 211..215 }), attributes: [] }, is_static: false }, span: 184..230 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:07:46.112936Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 })], level: Level(1) }}: talk::types::wants: constraining equals func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T05:07:46.112973Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 })
2025-10-08T05:07:46.113009Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })
2025-10-08T05:07:46.113128Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 211..215 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 184..230 })], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Float -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- func equals(self: Self, rhs: Float) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T05:07:46.113467Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 3 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:07:46.113550Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_type_annotation{annotation=TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: inference instantiate: Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:07:46.113598Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(3)) : Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
2025-10-08T05:07:46.113610Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(3)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:07:46.113621Z  INFO event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: inserting mono: ParamLocal(ParamLocalId(4)) : Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
2025-10-08T05:07:46.113642Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote ParamLocal(ParamLocalId(4)) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:07:46.113675Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}:infer_func{func=Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::wants: constraining equals Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T05:07:46.113709Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}:infer_decl{decl=Decl { id: NodeID(0, 18), kind: Method { func: Func { id: NodeID(0, 18), name: Resolved(InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }), "equals"), name_span: 116..122, generics: [], params: [Parameter { id: NodeID(0, 34), name: Resolved(ParamLocal(ParamLocalId(3)), "self"), name_span: 4294967295..4294967295, type_annotation: Some(TypeAnnotation { id: NodeID(0, 35), kind: SelfType(Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Self")), span: 111..155 }), span: 111..155 }, Parameter { id: NodeID(0, 14), name: Resolved(ParamLocal(ParamLocalId(4)), "rhs"), name_span: 123..126, type_annotation: Some(TypeAnnotation { id: NodeID(0, 13), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 128..131, generics: [] }, span: 128..131 }), span: 126..131 }], body: Block { id: NodeID(0, 17), args: [], body: [Stmt(Stmt { id: NodeID(0, 16), kind: Expr(Expr(id: NodeID(0, 16), kind: LiteralTrue)), span: 147..151 })], span: 141..155 }, ret: Some(TypeAnnotation { id: NodeID(0, 15), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), "Bool"), name_span: 136..140, generics: [] }, span: 136..140 }), attributes: [] }, is_static: false }, span: 111..155 } level=Level(2) wants=Wants { simple: [], defer: [] }}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:07:46.113731Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:infer_group{group=BindingGroup { binders: [InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 })], level: Level(1) }}: talk::types::wants: constraining equals func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
2025-10-08T05:07:46.113752Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 })
2025-10-08T05:07:46.113771Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })], defer: [] }}: talk::types::passes::inference_pass: solving Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })
2025-10-08T05:07:46.113832Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [Equals(Equals { lhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 136..140 }), Equals(Equals { lhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), rhs: func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }), cause: Internal, span: 111..155 })], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- func equals(self: Self, rhs: Int) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- func equals(self: Self, rhs: Float) -> Bool { true } -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 2 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Int -> Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 1 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- { true } -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- true -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Float -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
- Bool -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 })
- Self -> Builtin(BuiltinId { module_id: Prelude, local_id: 2 })
2025-10-08T05:07:46.114284Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote InstanceMethod(InstanceMethodId { module_id: Current, local_id: 2 }) = Mono(func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:07:46.114324Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 3
2025-10-08T05:07:46.114424Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk","version":0}}
2025-10-08T05:07:46.114496Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:07:46.114894Z TRACE async_lsp: incoming msg={"id":5,"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Equals.tlk"}},"method":"textDocument/semanticTokens/full","jsonrpc":"2.0"}
2025-10-08T05:07:46.115028Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":5,"result":{"data":[0,0,8,6,0,0,9,6,5,0,1,2,10,16,0,1,2,10,16,0,2,2,4,6,0,0,22,2,6,0,3,0,6,6,0,0,7,3,16,0,0,5,6,16,0,1,2,4,6,0,0,22,2,6,0,1,4,4,6,0,4,0,6,6,0,0,7,5,16,0,0,7,6,16,0,1,2,4,6,0,0,24,2,6,0,1,4,4,6,0]}}
2025-10-08T05:07:46.115062Z TRACE async_lsp: incoming msg={"id":1,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:09:33.923217Z TRACE async_lsp: incoming msg={"id":6,"method":"shutdown","jsonrpc":"2.0"}
2025-10-08T05:09:33.923424Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":6,"error":{"code":-32601,"message":"No such method shutdown","data":null}}
2025-10-08T05:09:59.749063Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"initialize","params":{"trace":"off","rootUri":null,"rootPath":null,"clientInfo":{"name":"Neovim","version":"0.11.3"},"processId":1629928,"workDoneToken":"1","workspaceFolders":null,"capabilities":{"general":{"positionEncodings":["utf-8","utf-16","utf-32"]},"workspace":{"didChangeWatchedFiles":{"relativePatternSupport":true,"dynamicRegistration":false},"inlayHint":{"refreshSupport":true},"semanticTokens":{"refreshSupport":true},"workspaceEdit":{"resourceOperations":["rename","create","delete"]},"applyEdit":true,"workspaceFolders":true,"configuration":true,"symbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"dynamicRegistration":false},"didChangeConfiguration":{"dynamicRegistration":false}},"textDocument":{"typeDefinition":{"linkSupport":true},"synchronization":{"willSaveWaitUntil":true,"willSave":true,"didSave":true,"dynamicRegistration":false},"rename":{"prepareSupport":true,"dynamicRegistration":true},"completion":{"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},"dynamicRegistration":false,"completionList":{"itemDefaults":["editRange","insertTextFormat","insertTextMode","data"]},"completionItem":{"documentationFormat":["markdown","plaintext"],"deprecatedSupport":true,"preselectSupport":false,"commitCharactersSupport":false,"snippetSupport":true,"resolveSupport":{"properties":["additionalTextEdits","command"]},"tagSupport":{"valueSet":[1]}},"contextSupport":true},"semanticTokens":{"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"],"dynamicRegistration":false,"formats":["relative"],"serverCancelSupport":false,"multilineTokenSupport":false,"overlappingTokenSupport":true,"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"augmentsSyntaxTokens":true,"requests":{"full":{"delta":true},"range":false}},"inlayHint":{"resolveSupport":{"properties":["textEdits","tooltip","location","command"]},"dynamicRegistration":true},"hover":{"contentFormat":["markdown","plaintext"],"dynamicRegistration":true},"callHierarchy":{"dynamicRegistration":false},"publishDiagnostics":{"tagSupport":{"valueSet":[1,2]},"dataSupport":true,"relatedInformation":true},"foldingRange":{"foldingRangeKind":{"valueSet":["comment","imports","region"]},"foldingRange":{"collapsedText":true},"lineFoldingOnly":true,"dynamicRegistration":false},"references":{"dynamicRegistration":false},"declaration":{"linkSupport":true},"rangeFormatting":{"rangesSupport":true,"dynamicRegistration":true},"documentSymbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"hierarchicalDocumentSymbolSupport":true,"dynamicRegistration":false},"formatting":{"dynamicRegistration":true},"definition":{"dynamicRegistration":true,"linkSupport":true},"documentHighlight":{"dynamicRegistration":false},"signatureHelp":{"signatureInformation":{"documentationFormat":["markdown","plaintext"],"parameterInformation":{"labelOffsetSupport":true},"activeParameterSupport":true},"dynamicRegistration":false},"implementation":{"linkSupport":true},"diagnostic":{"tagSupport":{"valueSet":[1,2]},"dynamicRegistration":false},"codeLens":{"resolveSupport":{"properties":["command"]},"dynamicRegistration":false},"codeAction":{"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"dynamicRegistration":true,"resolveSupport":{"properties":["edit","command"]},"dataSupport":true,"isPreferredSupport":true}},"window":{"showDocument":{"support":true},"workDoneProgress":true,"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}}}}},"id":1}
2025-10-08T05:09:59.749837Z TRACE request{method="initialize"}: talk::lsp::server: Initialize with InitializeParams { process_id: Some(1629928), root_path: None, root_uri: None, initialization_options: None, capabilities: ClientCapabilities { workspace: Some(WorkspaceClientCapabilities { apply_edit: Some(true), workspace_edit: Some(WorkspaceEditClientCapabilities { document_changes: None, resource_operations: Some([Rename, Create, Delete]), failure_handling: None, normalizes_line_endings: None, change_annotation_support: None }), did_change_configuration: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), did_change_watched_files: Some(DidChangeWatchedFilesClientCapabilities { dynamic_registration: Some(false), relative_pattern_support: Some(true) }), symbol: Some(WorkspaceSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), tag_support: None, resolve_support: None }), execute_command: None, workspace_folders: Some(true), configuration: Some(true), semantic_tokens: Some(SemanticTokensWorkspaceClientCapabilities { refresh_support: Some(true) }), code_lens: None, file_operations: None, inline_value: None, inlay_hint: Some(InlayHintWorkspaceClientCapabilities { refresh_support: Some(true) }), diagnostic: None }), text_document: Some(TextDocumentClientCapabilities { synchronization: Some(TextDocumentSyncClientCapabilities { dynamic_registration: Some(false), will_save: Some(true), will_save_wait_until: Some(true), did_save: Some(true) }), completion: Some(CompletionClientCapabilities { dynamic_registration: Some(false), completion_item: Some(CompletionItemCapability { snippet_support: Some(true), commit_characters_support: Some(false), documentation_format: Some([Markdown, PlainText]), deprecated_support: Some(true), preselect_support: Some(false), tag_support: Some(TagSupport { value_set: [Deprecated] }), insert_replace_support: None, resolve_support: Some(CompletionItemCapabilityResolveSupport { properties: ["additionalTextEdits", "command"] }), insert_text_mode_support: None, label_details_support: None }), completion_item_kind: Some(CompletionItemKindCapability { value_set: Some([Text, Method, Function, Constructor, Field, Variable, Class, Interface, Module, Property, Unit, Value, Enum, Keyword, Snippet, Color, File, Reference, Folder, EnumMember, Constant, Struct, Event, Operator, TypeParameter]) }), context_support: Some(true), insert_text_mode: None, completion_list: Some(CompletionListCapability { item_defaults: Some(["editRange", "insertTextFormat", "insertTextMode", "data"]) }) }), hover: Some(HoverClientCapabilities { dynamic_registration: Some(true), content_format: Some([Markdown, PlainText]) }), signature_help: Some(SignatureHelpClientCapabilities { dynamic_registration: Some(false), signature_information: Some(SignatureInformationSettings { documentation_format: Some([Markdown, PlainText]), parameter_information: Some(ParameterInformationSettings { label_offset_support: Some(true) }), active_parameter_support: Some(true) }), context_support: None }), references: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_highlight: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_symbol: Some(DocumentSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), hierarchical_document_symbol_support: Some(true), tag_support: None }), formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), range_formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), on_type_formatting: None, declaration: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), definition: Some(GotoCapability { dynamic_registration: Some(true), link_support: Some(true) }), type_definition: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), implementation: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), code_action: Some(CodeActionClientCapabilities { dynamic_registration: Some(true), code_action_literal_support: Some(CodeActionLiteralSupport { code_action_kind: CodeActionKindLiteralSupport { value_set: ["", "quickfix", "refactor", "refactor.extract", "refactor.inline", "refactor.rewrite", "source", "source.organizeImports"] } }), is_preferred_support: Some(true), disabled_support: None, data_support: Some(true), resolve_support: Some(CodeActionCapabilityResolveSupport { properties: ["edit", "command"] }), honors_change_annotations: None }), code_lens: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_link: None, color_provider: None, rename: Some(RenameClientCapabilities { dynamic_registration: Some(true), prepare_support: Some(true), prepare_support_default_behavior: None, honors_change_annotations: None }), publish_diagnostics: Some(PublishDiagnosticsClientCapabilities { related_information: Some(true), tag_support: Some(TagSupport { value_set: [Unnecessary, Deprecated] }), version_support: None, code_description_support: None, data_support: Some(true) }), folding_range: Some(FoldingRangeClientCapabilities { dynamic_registration: Some(false), range_limit: None, line_folding_only: Some(true), folding_range_kind: Some(FoldingRangeKindCapability { value_set: Some([Comment, Imports, Region]) }), folding_range: Some(FoldingRangeCapability { collapsed_text: Some(true) }) }), selection_range: None, linked_editing_range: None, call_hierarchy: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), semantic_tokens: Some(SemanticTokensClientCapabilities { dynamic_registration: Some(false), requests: SemanticTokensClientCapabilitiesRequests { range: Some(false), full: Some(Delta { delta: Some(true) }) }, token_types: [SemanticTokenType("namespace"), SemanticTokenType("type"), SemanticTokenType("class"), SemanticTokenType("enum"), SemanticTokenType("interface"), SemanticTokenType("struct"), SemanticTokenType("typeParameter"), SemanticTokenType("parameter"), SemanticTokenType("variable"), SemanticTokenType("property"), SemanticTokenType("enumMember"), SemanticTokenType("event"), SemanticTokenType("function"), SemanticTokenType("method"), SemanticTokenType("macro"), SemanticTokenType("keyword"), SemanticTokenType("modifier"), SemanticTokenType("comment"), SemanticTokenType("string"), SemanticTokenType("number"), SemanticTokenType("regexp"), SemanticTokenType("operator"), SemanticTokenType("decorator")], token_modifiers: [SemanticTokenModifier("declaration"), SemanticTokenModifier("definition"), SemanticTokenModifier("readonly"), SemanticTokenModifier("static"), SemanticTokenModifier("deprecated"), SemanticTokenModifier("abstract"), SemanticTokenModifier("async"), SemanticTokenModifier("modification"), SemanticTokenModifier("documentation"), SemanticTokenModifier("defaultLibrary")], formats: [TokenFormat("relative")], overlapping_token_support: Some(true), multiline_token_support: Some(false), server_cancel_support: Some(false), augments_syntax_tokens: Some(true) }), moniker: None, type_hierarchy: None, inline_value: None, inlay_hint: Some(InlayHintClientCapabilities { dynamic_registration: Some(true), resolve_support: Some(InlayHintResolveClientCapabilities { properties: ["textEdits", "tooltip", "location", "command"] }) }), diagnostic: Some(DiagnosticClientCapabilities { dynamic_registration: Some(false), related_document_support: None }) }), window: Some(WindowClientCapabilities { work_done_progress: Some(true), show_message: Some(ShowMessageRequestClientCapabilities { message_action_item: Some(MessageActionItemCapabilities { additional_properties_support: Some(true) }) }), show_document: Some(ShowDocumentClientCapabilities { support: true }) }), general: Some(GeneralClientCapabilities { regular_expressions: None, markdown: None, stale_request_support: None, position_encodings: Some([PositionEncodingKind("utf-8"), PositionEncodingKind("utf-16"), PositionEncodingKind("utf-32")]) }), experimental: None }, trace: Some(Off), workspace_folders: None, client_info: Some(ClientInfo { name: "Neovim", version: Some("0.11.3") }), locale: None, work_done_progress_params: WorkDoneProgressParams { work_done_token: Some(String("1")) } }
2025-10-08T05:09:59.750087Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"result":{"capabilities":{"definitionProvider":true,"hoverProvider":true,"semanticTokensProvider":{"full":true,"legend":{"tokenModifiers":[],"tokenTypes":["comment","decorator","enumMember","enum","function","interface","keyword","method","modifier","number","operator","parameter","property","string","struct","typeParameter","type","variable"]},"range":false},"textDocumentSync":{"change":2,"openClose":true,"save":true}}}}
2025-10-08T05:09:59.753462Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"initialized","params":{}}
2025-10-08T05:09:59.753596Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"languageId":"talktalk","uri":"file:///home/nakajima/apps/talk/core/Array.tlk","text":"struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n","version":0}}}
2025-10-08T05:09:59.753756Z  INFO notification{method="textDocument/didOpen"}: talk::lsp::server: did open file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:09:59.755580Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":2}
2025-10-08T05:09:59.755736Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"result":{"data":[]}}
2025-10-08T05:09:59.949678Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:09:59.949753Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:09:59.949798Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:09:59.949820Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:09:59.949871Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:09:59.949918Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:09:59.949942Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:09:59.949982Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:09:59.950081Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:09:59.950126Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:09:59.950144Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:09:59.950172Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:09:59.950198Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:09:59.950282Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:09:59.950327Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:09:59.950368Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:09:59.950390Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:09:59.950429Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:09:59.950483Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:09:59.950526Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:09:59.950602Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:09:59.950663Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:09:59.950730Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:09:59.950774Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:09:59.950809Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:09:59.950859Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:09:59.950899Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:09:59.950973Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:09:59.951010Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:09:59.951049Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:09:59.951076Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:09:59.951099Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:09:59.951135Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:09:59.951161Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:09:59.951194Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:09:59.951229Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:09:59.951244Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:09:59.951342Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:09:59.951374Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:09:59.951382Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:09:59.951404Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:09:59.951425Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:09:59.951458Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:09:59.951485Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:09:59.951508Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:09:59.951537Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:09:59.951580Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:09:59.951608Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:09:59.951645Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:09:59.951671Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:09:59.951689Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:09:59.951719Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:09:59.951742Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:09:59.951777Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:09:59.951802Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:09:59.951828Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:09:59.951860Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:09:59.951886Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:09:59.951932Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:09:59.951960Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:09:59.951989Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:09:59.952014Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:09:59.952038Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:09:59.952069Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:09:59.952096Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:09:59.952141Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:09:59.952167Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:09:59.952201Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:09:59.952228Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:09:59.952255Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:09:59.952288Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:09:59.952315Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:09:59.952347Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:09:59.952390Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:09:59.952407Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:09:59.952509Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:09:59.952535Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:09:59.952556Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T05:09:59.952587Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T05:09:59.952608Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T05:09:59.952631Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T05:09:59.952719Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:09:59.952754Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:09:59.952764Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:09:59.952870Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 36..39, generics: [] }, span: 36..39 }
2025-10-08T05:09:59.952899Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 56..59, generics: [] }, span: 56..59 }
2025-10-08T05:09:59.952908Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 74..77, generics: [] }, span: 74..77 }
2025-10-08T05:09:59.952952Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:09:59.953012Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:09:59.953042Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:09:59.953051Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:09:59.953115Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:09:59.953144Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:09:59.953162Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:09:59.953207Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:09:59.953226Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:09:59.953261Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:09:59.953283Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:09:59.953304Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:09:59.953345Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:09:59.953389Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:09:59.953406Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:09:59.953433Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:09:59.953447Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:09:59.953547Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:09:59.953590Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:09:59.953696Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":0}}
2025-10-08T05:09:59.953790Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":0,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:09:59.954857Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":3}
2025-10-08T05:09:59.954999Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:09:59.955028Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":0,"result":null}
2025-10-08T05:10:01.311375Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"version":3,"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"},"contentChanges":[{"range":{"start":{"character":23,"line":0},"end":{"character":0,"line":1}},"rangeLength":1,"text":"\n\n"}]}}
2025-10-08T05:10:01.311726Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:10:01.350260Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:10:01.350317Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:10:01.350343Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:10:01.350367Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:10:01.350420Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:10:01.350443Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:10:01.350461Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:10:01.350481Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:10:01.350528Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:10:01.350551Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:10:01.350566Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:10:01.350584Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:10:01.350595Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:10:01.350617Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:10:01.350660Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:10:01.350703Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 30, end: 35, line: 2, col: 10 })
2025-10-08T05:10:01.350726Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 35, end: 36, line: 2, col: 11 })
2025-10-08T05:10:01.350750Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:10:01.350777Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:10:01.350797Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 41, end: 42, line: 3, col: 0 })
2025-10-08T05:10:01.350833Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:10:01.350853Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:10:01.350877Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 47, end: 55, line: 3, col: 13 })
2025-10-08T05:10:01.350899Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 55, end: 56, line: 3, col: 14 })
2025-10-08T05:10:01.350915Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:10:01.350940Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:10:01.350965Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 60, end: 61, line: 4, col: 0 })
2025-10-08T05:10:01.351000Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:10:01.351020Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:10:01.351044Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 66, end: 73, line: 4, col: 12 })
2025-10-08T05:10:01.351065Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 73, end: 74, line: 4, col: 13 })
2025-10-08T05:10:01.351081Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:10:01.351104Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:10:01.351124Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 78, end: 79, line: 5, col: 0 })
2025-10-08T05:10:01.351148Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 79, end: 80, line: 5, col: 1 })
2025-10-08T05:10:01.351177Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:10:01.351188Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:10:01.351267Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:10:01.351287Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:10:01.351296Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:10:01.351314Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:10:01.351335Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:10:01.351435Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:10:01.351491Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:10:01.351512Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:10:01.351552Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:10:01.351612Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:10:01.351675Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:10:01.351700Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:10:01.351724Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:10:01.351740Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:10:01.351764Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:10:01.351786Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:10:01.351824Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 30, end: 35, line: 2, col: 10 })
2025-10-08T05:10:01.351867Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 35, end: 36, line: 2, col: 11 })
2025-10-08T05:10:01.351889Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:10:01.351920Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:10:01.351944Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 41, end: 42, line: 3, col: 0 })
2025-10-08T05:10:01.351987Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:10:01.352025Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:10:01.352054Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 47, end: 55, line: 3, col: 13 })
2025-10-08T05:10:01.352079Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 55, end: 56, line: 3, col: 14 })
2025-10-08T05:10:01.352101Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:10:01.352136Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:10:01.352168Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 60, end: 61, line: 4, col: 0 })
2025-10-08T05:10:01.352214Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:10:01.352250Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:10:01.352284Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 66, end: 73, line: 4, col: 12 })
2025-10-08T05:10:01.352308Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 73, end: 74, line: 4, col: 13 })
2025-10-08T05:10:01.352331Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:10:01.352400Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:10:01.352439Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 78, end: 79, line: 5, col: 0 })
2025-10-08T05:10:01.352461Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 79, end: 80, line: 5, col: 1 })
2025-10-08T05:10:01.352484Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:10:01.352491Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:10:01.352556Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:10:01.352578Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:10:01.352589Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T05:10:01.352609Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T05:10:01.352642Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T05:10:01.352661Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T05:10:01.352714Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:10:01.352734Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:10:01.352740Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:10:01.352833Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 37..40, generics: [] }, span: 37..40 }
2025-10-08T05:10:01.352852Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 57..60, generics: [] }, span: 57..60 }
2025-10-08T05:10:01.352860Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 75..78, generics: [] }, span: 75..78 }
2025-10-08T05:10:01.352897Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:10:01.352939Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:10:01.352956Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:10:01.352963Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:10:01.353022Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:10:01.353050Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:10:01.353065Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:10:01.353107Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:10:01.353121Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:10:01.353146Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:10:01.353167Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:10:01.353189Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:10:01.353221Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:10:01.353253Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:10:01.353267Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:10:01.353288Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:10:01.353301Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:10:01.353387Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:10:01.353425Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:10:01.353515Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":3}}
2025-10-08T05:10:01.353597Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:10:01.354150Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":4}
2025-10-08T05:10:01.354298Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:10:01.354333Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":1,"result":null}
2025-10-08T05:10:02.032299Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"version":4,"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"},"contentChanges":[{"range":{"start":{"character":0,"line":1},"end":{"character":0,"line":1}},"rangeLength":0,"text":"d"}]}}
2025-10-08T05:10:02.032575Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:10:02.150207Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:10:02.150284Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:10:02.150349Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:10:02.150395Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:10:02.150440Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:10:02.150467Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:10:02.150489Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:10:02.150514Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:10:02.150566Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:10:02.150592Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:10:02.150613Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:10:02.150647Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:10:02.150668Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:10:02.150694Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 }) with precedence: Assignment
2025-10-08T05:10:02.150726Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:10:02.150752Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:10:02.150782Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("d"))
2025-10-08T05:10:02.150796Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 25, end: 26, line: 2, col: 0 })
2025-10-08T05:10:02.150833Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:10:02.150849Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:10:02.150868Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 31, end: 36, line: 2, col: 10 })
2025-10-08T05:10:02.150883Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 36, end: 37, line: 2, col: 11 })
2025-10-08T05:10:02.150899Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:10:02.150917Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:10:02.150936Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 42, end: 43, line: 3, col: 0 })
2025-10-08T05:10:02.150963Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:10:02.150980Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:10:02.150998Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 48, end: 56, line: 3, col: 13 })
2025-10-08T05:10:02.151012Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 56, end: 57, line: 3, col: 14 })
2025-10-08T05:10:02.151024Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:10:02.151045Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:10:02.151061Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 61, end: 62, line: 4, col: 0 })
2025-10-08T05:10:02.151082Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:10:02.151100Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:10:02.151119Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 67, end: 74, line: 4, col: 12 })
2025-10-08T05:10:02.151136Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 74, end: 75, line: 4, col: 13 })
2025-10-08T05:10:02.151148Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:10:02.151169Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:10:02.151185Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:10:02.151205Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 80, end: 81, line: 5, col: 1 })
2025-10-08T05:10:02.151223Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:10:02.151230Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:10:02.151302Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\nd\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:10:02.151317Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:10:02.151324Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:10:02.151338Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:10:02.151351Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:10:02.151377Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:10:02.151393Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:10:02.151404Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:10:02.151420Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:10:02.151445Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:10:02.151462Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:10:02.151472Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:10:02.151487Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:10:02.151495Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:10:02.151512Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 }) with precedence: Assignment
2025-10-08T05:10:02.151528Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:10:02.151545Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:10:02.151567Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("d"))
2025-10-08T05:10:02.151579Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 25, end: 26, line: 2, col: 0 })
2025-10-08T05:10:02.151612Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:10:02.151627Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:10:02.151682Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 31, end: 36, line: 2, col: 10 })
2025-10-08T05:10:02.151701Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 36, end: 37, line: 2, col: 11 })
2025-10-08T05:10:02.151714Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:10:02.151732Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:10:02.151748Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 42, end: 43, line: 3, col: 0 })
2025-10-08T05:10:02.151772Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:10:02.151790Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:10:02.151808Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 48, end: 56, line: 3, col: 13 })
2025-10-08T05:10:02.151822Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 56, end: 57, line: 3, col: 14 })
2025-10-08T05:10:02.151837Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:10:02.151855Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:10:02.151871Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 61, end: 62, line: 4, col: 0 })
2025-10-08T05:10:02.151894Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:10:02.151909Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:10:02.151929Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 67, end: 74, line: 4, col: 12 })
2025-10-08T05:10:02.151945Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 74, end: 75, line: 4, col: 13 })
2025-10-08T05:10:02.151959Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:10:02.151980Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:10:02.151995Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:10:02.152017Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 80, end: 81, line: 5, col: 1 })
2025-10-08T05:10:02.152035Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:10:02.152043Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:10:02.152109Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("d")))), span: 24..25 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 })], span: 22..81 } }, span: 0..81 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:10:02.152126Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("d")))), span: 24..25 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 })], span: 22..81 } }, span: 0..81 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:10:02.152139Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("d")))), span: 24..25 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 })], span: 22..81 } }, span: 0..81 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:10:02.152166Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:10:02.152184Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:10:02.152199Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:10:02.152255Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:10:02.152269Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:10:02.152278Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:10:02.152376Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 38..41, generics: [] }, span: 38..41 }
2025-10-08T05:10:02.152396Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 58..61, generics: [] }, span: 58..61 }
2025-10-08T05:10:02.152403Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 76..79, generics: [] }, span: 76..79 }
2025-10-08T05:10:02.152443Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:10:02.152484Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:10:02.152499Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:10:02.152511Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:10:02.152569Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:10:02.152586Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:10:02.152602Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:10:02.152658Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:10:02.152677Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:10:02.152707Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:10:02.152730Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:10:02.152749Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:10:02.152782Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:10:02.152813Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:10:02.152829Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:10:02.152852Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:10:02.152866Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:11:57.888814Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":1,"method":"initialize","params":{"workDoneToken":"1","capabilities":{"window":{"workDoneProgress":true,"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}},"showDocument":{"support":true}},"textDocument":{"rename":{"prepareSupport":true,"dynamicRegistration":true},"semanticTokens":{"formats":["relative"],"dynamicRegistration":false,"requests":{"full":{"delta":true},"range":false},"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"augmentsSyntaxTokens":true,"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"],"multilineTokenSupport":false,"overlappingTokenSupport":true,"serverCancelSupport":false},"inlayHint":{"resolveSupport":{"properties":["textEdits","tooltip","location","command"]},"dynamicRegistration":true},"completion":{"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},"completionItem":{"documentationFormat":["markdown","plaintext"],"deprecatedSupport":true,"preselectSupport":false,"commitCharactersSupport":false,"tagSupport":{"valueSet":[1]},"snippetSupport":true,"resolveSupport":{"properties":["additionalTextEdits","command"]}},"dynamicRegistration":false,"completionList":{"itemDefaults":["editRange","insertTextFormat","insertTextMode","data"]},"contextSupport":true},"callHierarchy":{"dynamicRegistration":false},"references":{"dynamicRegistration":false},"implementation":{"linkSupport":true},"rangeFormatting":{"rangesSupport":true,"dynamicRegistration":true},"documentSymbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"hierarchicalDocumentSymbolSupport":true,"dynamicRegistration":false},"diagnostic":{"tagSupport":{"valueSet":[1,2]},"dynamicRegistration":false},"hover":{"contentFormat":["markdown","plaintext"],"dynamicRegistration":true},"documentHighlight":{"dynamicRegistration":false},"signatureHelp":{"signatureInformation":{"activeParameterSupport":true,"documentationFormat":["markdown","plaintext"],"parameterInformation":{"labelOffsetSupport":true}},"dynamicRegistration":false},"codeLens":{"resolveSupport":{"properties":["command"]},"dynamicRegistration":false},"codeAction":{"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"isPreferredSupport":true,"dynamicRegistration":true,"dataSupport":true,"resolveSupport":{"properties":["edit","command"]}},"publishDiagnostics":{"relatedInformation":true,"tagSupport":{"valueSet":[1,2]},"dataSupport":true},"foldingRange":{"foldingRangeKind":{"valueSet":["comment","imports","region"]},"dynamicRegistration":false,"foldingRange":{"collapsedText":true},"lineFoldingOnly":true},"typeDefinition":{"linkSupport":true},"definition":{"linkSupport":true,"dynamicRegistration":true},"synchronization":{"dynamicRegistration":false,"willSave":true,"didSave":true,"willSaveWaitUntil":true},"formatting":{"dynamicRegistration":true},"declaration":{"linkSupport":true}},"general":{"positionEncodings":["utf-8","utf-16","utf-32"]},"workspace":{"workspaceEdit":{"resourceOperations":["rename","create","delete"]},"didChangeConfiguration":{"dynamicRegistration":false},"configuration":true,"applyEdit":true,"didChangeWatchedFiles":{"relativePatternSupport":true,"dynamicRegistration":false},"inlayHint":{"refreshSupport":true},"symbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"dynamicRegistration":false},"semanticTokens":{"refreshSupport":true},"workspaceFolders":true}},"workspaceFolders":null,"trace":"off","rootUri":null,"rootPath":null,"clientInfo":{"version":"0.11.3","name":"Neovim"},"processId":1631136}}
2025-10-08T05:11:57.889447Z TRACE request{method="initialize"}: talk::lsp::server: Initialize with InitializeParams { process_id: Some(1631136), root_path: None, root_uri: None, initialization_options: None, capabilities: ClientCapabilities { workspace: Some(WorkspaceClientCapabilities { apply_edit: Some(true), workspace_edit: Some(WorkspaceEditClientCapabilities { document_changes: None, resource_operations: Some([Rename, Create, Delete]), failure_handling: None, normalizes_line_endings: None, change_annotation_support: None }), did_change_configuration: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), did_change_watched_files: Some(DidChangeWatchedFilesClientCapabilities { dynamic_registration: Some(false), relative_pattern_support: Some(true) }), symbol: Some(WorkspaceSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), tag_support: None, resolve_support: None }), execute_command: None, workspace_folders: Some(true), configuration: Some(true), semantic_tokens: Some(SemanticTokensWorkspaceClientCapabilities { refresh_support: Some(true) }), code_lens: None, file_operations: None, inline_value: None, inlay_hint: Some(InlayHintWorkspaceClientCapabilities { refresh_support: Some(true) }), diagnostic: None }), text_document: Some(TextDocumentClientCapabilities { synchronization: Some(TextDocumentSyncClientCapabilities { dynamic_registration: Some(false), will_save: Some(true), will_save_wait_until: Some(true), did_save: Some(true) }), completion: Some(CompletionClientCapabilities { dynamic_registration: Some(false), completion_item: Some(CompletionItemCapability { snippet_support: Some(true), commit_characters_support: Some(false), documentation_format: Some([Markdown, PlainText]), deprecated_support: Some(true), preselect_support: Some(false), tag_support: Some(TagSupport { value_set: [Deprecated] }), insert_replace_support: None, resolve_support: Some(CompletionItemCapabilityResolveSupport { properties: ["additionalTextEdits", "command"] }), insert_text_mode_support: None, label_details_support: None }), completion_item_kind: Some(CompletionItemKindCapability { value_set: Some([Text, Method, Function, Constructor, Field, Variable, Class, Interface, Module, Property, Unit, Value, Enum, Keyword, Snippet, Color, File, Reference, Folder, EnumMember, Constant, Struct, Event, Operator, TypeParameter]) }), context_support: Some(true), insert_text_mode: None, completion_list: Some(CompletionListCapability { item_defaults: Some(["editRange", "insertTextFormat", "insertTextMode", "data"]) }) }), hover: Some(HoverClientCapabilities { dynamic_registration: Some(true), content_format: Some([Markdown, PlainText]) }), signature_help: Some(SignatureHelpClientCapabilities { dynamic_registration: Some(false), signature_information: Some(SignatureInformationSettings { documentation_format: Some([Markdown, PlainText]), parameter_information: Some(ParameterInformationSettings { label_offset_support: Some(true) }), active_parameter_support: Some(true) }), context_support: None }), references: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_highlight: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_symbol: Some(DocumentSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), hierarchical_document_symbol_support: Some(true), tag_support: None }), formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), range_formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), on_type_formatting: None, declaration: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), definition: Some(GotoCapability { dynamic_registration: Some(true), link_support: Some(true) }), type_definition: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), implementation: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), code_action: Some(CodeActionClientCapabilities { dynamic_registration: Some(true), code_action_literal_support: Some(CodeActionLiteralSupport { code_action_kind: CodeActionKindLiteralSupport { value_set: ["", "quickfix", "refactor", "refactor.extract", "refactor.inline", "refactor.rewrite", "source", "source.organizeImports"] } }), is_preferred_support: Some(true), disabled_support: None, data_support: Some(true), resolve_support: Some(CodeActionCapabilityResolveSupport { properties: ["edit", "command"] }), honors_change_annotations: None }), code_lens: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_link: None, color_provider: None, rename: Some(RenameClientCapabilities { dynamic_registration: Some(true), prepare_support: Some(true), prepare_support_default_behavior: None, honors_change_annotations: None }), publish_diagnostics: Some(PublishDiagnosticsClientCapabilities { related_information: Some(true), tag_support: Some(TagSupport { value_set: [Unnecessary, Deprecated] }), version_support: None, code_description_support: None, data_support: Some(true) }), folding_range: Some(FoldingRangeClientCapabilities { dynamic_registration: Some(false), range_limit: None, line_folding_only: Some(true), folding_range_kind: Some(FoldingRangeKindCapability { value_set: Some([Comment, Imports, Region]) }), folding_range: Some(FoldingRangeCapability { collapsed_text: Some(true) }) }), selection_range: None, linked_editing_range: None, call_hierarchy: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), semantic_tokens: Some(SemanticTokensClientCapabilities { dynamic_registration: Some(false), requests: SemanticTokensClientCapabilitiesRequests { range: Some(false), full: Some(Delta { delta: Some(true) }) }, token_types: [SemanticTokenType("namespace"), SemanticTokenType("type"), SemanticTokenType("class"), SemanticTokenType("enum"), SemanticTokenType("interface"), SemanticTokenType("struct"), SemanticTokenType("typeParameter"), SemanticTokenType("parameter"), SemanticTokenType("variable"), SemanticTokenType("property"), SemanticTokenType("enumMember"), SemanticTokenType("event"), SemanticTokenType("function"), SemanticTokenType("method"), SemanticTokenType("macro"), SemanticTokenType("keyword"), SemanticTokenType("modifier"), SemanticTokenType("comment"), SemanticTokenType("string"), SemanticTokenType("number"), SemanticTokenType("regexp"), SemanticTokenType("operator"), SemanticTokenType("decorator")], token_modifiers: [SemanticTokenModifier("declaration"), SemanticTokenModifier("definition"), SemanticTokenModifier("readonly"), SemanticTokenModifier("static"), SemanticTokenModifier("deprecated"), SemanticTokenModifier("abstract"), SemanticTokenModifier("async"), SemanticTokenModifier("modification"), SemanticTokenModifier("documentation"), SemanticTokenModifier("defaultLibrary")], formats: [TokenFormat("relative")], overlapping_token_support: Some(true), multiline_token_support: Some(false), server_cancel_support: Some(false), augments_syntax_tokens: Some(true) }), moniker: None, type_hierarchy: None, inline_value: None, inlay_hint: Some(InlayHintClientCapabilities { dynamic_registration: Some(true), resolve_support: Some(InlayHintResolveClientCapabilities { properties: ["textEdits", "tooltip", "location", "command"] }) }), diagnostic: Some(DiagnosticClientCapabilities { dynamic_registration: Some(false), related_document_support: None }) }), window: Some(WindowClientCapabilities { work_done_progress: Some(true), show_message: Some(ShowMessageRequestClientCapabilities { message_action_item: Some(MessageActionItemCapabilities { additional_properties_support: Some(true) }) }), show_document: Some(ShowDocumentClientCapabilities { support: true }) }), general: Some(GeneralClientCapabilities { regular_expressions: None, markdown: None, stale_request_support: None, position_encodings: Some([PositionEncodingKind("utf-8"), PositionEncodingKind("utf-16"), PositionEncodingKind("utf-32")]) }), experimental: None }, trace: Some(Off), workspace_folders: None, client_info: Some(ClientInfo { name: "Neovim", version: Some("0.11.3") }), locale: None, work_done_progress_params: WorkDoneProgressParams { work_done_token: Some(String("1")) } }
2025-10-08T05:11:57.889718Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"result":{"capabilities":{"definitionProvider":true,"hoverProvider":true,"semanticTokensProvider":{"full":true,"legend":{"tokenModifiers":[],"tokenTypes":["comment","decorator","enumMember","enum","function","interface","keyword","method","modifier","number","operator","parameter","property","string","struct","typeParameter","type","variable"]},"range":false},"textDocumentSync":{"change":2,"openClose":true,"save":true}}}}
2025-10-08T05:11:57.893531Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"initialized","params":{}}
2025-10-08T05:11:57.893668Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"text":"struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n","version":0,"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","languageId":"talktalk"}}}
2025-10-08T05:11:57.893796Z  INFO notification{method="textDocument/didOpen"}: talk::lsp::server: did open file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:11:57.895116Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":2,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}}}
2025-10-08T05:11:57.895230Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"result":{"data":[]}}
2025-10-08T05:11:58.090065Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:58.090125Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:58.090181Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:58.090222Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:58.090292Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:11:58.090335Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:11:58.090350Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:58.090392Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:58.090484Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:11:58.090520Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:58.090540Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:58.090578Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:11:58.090598Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:11:58.090674Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:11:58.090702Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:11:58.090730Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:11:58.090755Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:11:58.090782Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:11:58.090815Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:11:58.090838Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:11:58.090885Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:11:58.090908Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:11:58.090931Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:11:58.090952Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:11:58.090967Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:11:58.090994Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:11:58.091012Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:11:58.091061Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:11:58.091082Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:11:58.091105Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:11:58.091126Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:11:58.091140Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:11:58.091165Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:11:58.091186Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:11:58.091208Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:11:58.091238Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:11:58.091249Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:11:58.091376Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:11:58.091399Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:58.091408Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:58.091431Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:58.091449Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:58.091472Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:11:58.091493Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:11:58.091507Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:58.091528Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:58.091567Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:11:58.091591Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:58.091606Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:58.091623Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:11:58.091644Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:11:58.091661Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:11:58.091677Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:11:58.091703Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:11:58.091721Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:11:58.091733Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:11:58.091749Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:11:58.091764Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:11:58.091788Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:11:58.091804Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:11:58.091821Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:11:58.091836Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:11:58.091847Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:11:58.091865Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:11:58.091884Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:11:58.091907Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:11:58.091922Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:11:58.091940Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:11:58.091956Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:11:58.091967Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:11:58.091985Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:11:58.092001Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:11:58.092018Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:11:58.092037Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:11:58.092043Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:11:58.092120Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:11:58.092150Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:11:58.092159Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T05:11:58.092180Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T05:11:58.092198Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T05:11:58.092216Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T05:11:58.092268Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:11:58.092290Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:58.092297Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:11:58.092382Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 36..39, generics: [] }, span: 36..39 }
2025-10-08T05:11:58.092407Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 56..59, generics: [] }, span: 56..59 }
2025-10-08T05:11:58.092415Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 74..77, generics: [] }, span: 74..77 }
2025-10-08T05:11:58.092451Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:11:58.092492Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:11:58.092507Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:11:58.092516Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:11:58.092587Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:11:58.092618Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:11:58.092641Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:11:58.092690Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:11:58.092705Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:11:58.092729Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:58.092751Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:58.092776Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:58.092808Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:11:58.092843Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:11:58.092856Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:11:58.092879Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:11:58.092892Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:11:58.092969Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:11:58.093015Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:11:58.093088Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":0}}
2025-10-08T05:11:58.093150Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":0,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:11:58.094239Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":3,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}}}
2025-10-08T05:11:58.094373Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:11:58.094402Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","result":null,"id":0}
2025-10-08T05:11:58.862704Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":3},"contentChanges":[{"rangeLength":1,"range":{"end":{"line":1,"character":0},"start":{"line":0,"character":23}},"text":"\n\n"}]}}
2025-10-08T05:11:58.863031Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:11:58.890042Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:58.890113Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:58.890158Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:58.890185Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:58.890238Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:11:58.890276Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:11:58.890303Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:58.890346Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:58.890417Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:11:58.890466Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:58.890495Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:58.890538Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:11:58.890575Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:11:58.890603Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:11:58.890626Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:11:58.890672Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 30, end: 35, line: 2, col: 10 })
2025-10-08T05:11:58.890693Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 35, end: 36, line: 2, col: 11 })
2025-10-08T05:11:58.890712Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:11:58.890739Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:11:58.890761Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 41, end: 42, line: 3, col: 0 })
2025-10-08T05:11:58.890799Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:11:58.890820Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:11:58.890845Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 47, end: 55, line: 3, col: 13 })
2025-10-08T05:11:58.890860Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 55, end: 56, line: 3, col: 14 })
2025-10-08T05:11:58.890871Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:11:58.890889Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:11:58.890904Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 60, end: 61, line: 4, col: 0 })
2025-10-08T05:11:58.890931Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:11:58.890946Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:11:58.890963Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 66, end: 73, line: 4, col: 12 })
2025-10-08T05:11:58.890979Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 73, end: 74, line: 4, col: 13 })
2025-10-08T05:11:58.890990Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:11:58.891007Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:11:58.891025Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 78, end: 79, line: 5, col: 0 })
2025-10-08T05:11:58.891043Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 79, end: 80, line: 5, col: 1 })
2025-10-08T05:11:58.891063Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:11:58.891070Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:11:58.891136Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:11:58.891160Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:58.891167Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:58.891181Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:58.891194Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:58.891211Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:11:58.891226Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:11:58.891236Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:58.891251Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:58.891274Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:11:58.891295Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:58.891311Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:58.891324Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:11:58.891334Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:11:58.891348Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:11:58.891362Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:11:58.891380Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 30, end: 35, line: 2, col: 10 })
2025-10-08T05:11:58.891398Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 35, end: 36, line: 2, col: 11 })
2025-10-08T05:11:58.891411Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:11:58.891427Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:11:58.891443Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 41, end: 42, line: 3, col: 0 })
2025-10-08T05:11:58.891468Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:11:58.891484Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:11:58.891502Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 47, end: 55, line: 3, col: 13 })
2025-10-08T05:11:58.891520Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 55, end: 56, line: 3, col: 14 })
2025-10-08T05:11:58.891532Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:11:58.891554Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:11:58.891570Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 60, end: 61, line: 4, col: 0 })
2025-10-08T05:11:58.891595Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:11:58.891610Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:11:58.891641Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 66, end: 73, line: 4, col: 12 })
2025-10-08T05:11:58.891655Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 73, end: 74, line: 4, col: 13 })
2025-10-08T05:11:58.891667Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:11:58.891686Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:11:58.891701Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 78, end: 79, line: 5, col: 0 })
2025-10-08T05:11:58.891719Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 79, end: 80, line: 5, col: 1 })
2025-10-08T05:11:58.891738Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:11:58.891745Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:11:58.891806Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:11:58.891825Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:11:58.891840Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T05:11:58.891859Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T05:11:58.891878Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T05:11:58.891895Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T05:11:58.891945Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:11:58.891960Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:58.891966Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:11:58.892069Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 37..40, generics: [] }, span: 37..40 }
2025-10-08T05:11:58.892090Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 57..60, generics: [] }, span: 57..60 }
2025-10-08T05:11:58.892097Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 75..78, generics: [] }, span: 75..78 }
2025-10-08T05:11:58.892133Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:11:58.892175Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:11:58.892191Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:11:58.892199Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:11:58.892267Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:11:58.892285Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:11:58.892298Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:11:58.892339Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:11:58.892353Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:11:58.892383Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:58.892406Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:58.892423Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:58.892456Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:11:58.892487Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:11:58.892503Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:11:58.892526Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:11:58.892539Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:11:58.892622Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:11:58.892675Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:11:58.892747Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":3}}
2025-10-08T05:11:58.892805Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:11:58.893270Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","id":4,"method":"textDocument/semanticTokens/full","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}}}
2025-10-08T05:11:58.893391Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:11:58.893422Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","result":null,"id":1}
2025-10-08T05:11:59.104833Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":4},"contentChanges":[{"rangeLength":0,"range":{"end":{"line":1,"character":0},"start":{"line":1,"character":0}},"text":"d"}]}}
2025-10-08T05:11:59.105105Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:11:59.262074Z TRACE async_lsp: incoming msg={"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":5},"contentChanges":[{"rangeLength":0,"range":{"end":{"line":1,"character":1},"start":{"line":1,"character":1}},"text":"d"}]}}
2025-10-08T05:11:59.262343Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:11:59.289678Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:59.289721Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:59.289760Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:59.289797Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:59.289858Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:11:59.289909Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:11:59.289937Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:59.289977Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:59.290048Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:11:59.290100Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:59.290130Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:59.290157Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:11:59.290179Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:11:59.290243Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 }) with precedence: Assignment
2025-10-08T05:11:59.290295Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 })
2025-10-08T05:11:59.290346Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 })
2025-10-08T05:11:59.290399Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dd"))
2025-10-08T05:11:59.290429Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 26, end: 27, line: 2, col: 0 })
2025-10-08T05:11:59.290490Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 28, end: 31, line: 2, col: 4 })
2025-10-08T05:11:59.290539Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 28, end: 31, line: 2, col: 4 })
2025-10-08T05:11:59.290577Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 32, end: 37, line: 2, col: 10 })
2025-10-08T05:11:59.290597Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 37, end: 38, line: 2, col: 11 })
2025-10-08T05:11:59.290618Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 39, end: 42, line: 2, col: 15 })
2025-10-08T05:11:59.290650Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 39, end: 42, line: 2, col: 15 })
2025-10-08T05:11:59.290669Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 43, end: 44, line: 3, col: 0 })
2025-10-08T05:11:59.290700Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 45, end: 48, line: 3, col: 4 })
2025-10-08T05:11:59.290721Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 45, end: 48, line: 3, col: 4 })
2025-10-08T05:11:59.290743Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 49, end: 57, line: 3, col: 13 })
2025-10-08T05:11:59.290761Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 57, end: 58, line: 3, col: 14 })
2025-10-08T05:11:59.290773Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 59, end: 62, line: 3, col: 18 })
2025-10-08T05:11:59.290791Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 59, end: 62, line: 3, col: 18 })
2025-10-08T05:11:59.290805Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 62, end: 63, line: 4, col: 0 })
2025-10-08T05:11:59.290828Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 64, end: 67, line: 4, col: 4 })
2025-10-08T05:11:59.290845Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 64, end: 67, line: 4, col: 4 })
2025-10-08T05:11:59.290862Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 68, end: 75, line: 4, col: 12 })
2025-10-08T05:11:59.290878Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 75, end: 76, line: 4, col: 13 })
2025-10-08T05:11:59.290890Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 77, end: 80, line: 4, col: 17 })
2025-10-08T05:11:59.290917Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 77, end: 80, line: 4, col: 17 })
2025-10-08T05:11:59.290930Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 5, col: 0 })
2025-10-08T05:11:59.290951Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 81, end: 82, line: 5, col: 1 })
2025-10-08T05:11:59.290974Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 82, end: 83, line: 6, col: 0 })
2025-10-08T05:11:59.290984Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 82, end: 83, line: 6, col: 0 })
2025-10-08T05:11:59.291088Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\ndd\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:11:59.291105Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:59.291112Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:11:59.291125Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:59.291140Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:11:59.291157Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:11:59.291172Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:11:59.291182Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:59.291197Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:11:59.291222Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:11:59.291241Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:59.291252Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:11:59.291267Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:11:59.291275Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:11:59.291292Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 }) with precedence: Assignment
2025-10-08T05:11:59.291308Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 })
2025-10-08T05:11:59.291325Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 })
2025-10-08T05:11:59.291343Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dd"))
2025-10-08T05:11:59.291355Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 26, end: 27, line: 2, col: 0 })
2025-10-08T05:11:59.291387Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 28, end: 31, line: 2, col: 4 })
2025-10-08T05:11:59.291403Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 28, end: 31, line: 2, col: 4 })
2025-10-08T05:11:59.291423Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 32, end: 37, line: 2, col: 10 })
2025-10-08T05:11:59.291439Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 37, end: 38, line: 2, col: 11 })
2025-10-08T05:11:59.291451Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 39, end: 42, line: 2, col: 15 })
2025-10-08T05:11:59.291469Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 39, end: 42, line: 2, col: 15 })
2025-10-08T05:11:59.291484Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 43, end: 44, line: 3, col: 0 })
2025-10-08T05:11:59.291511Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 45, end: 48, line: 3, col: 4 })
2025-10-08T05:11:59.291527Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 45, end: 48, line: 3, col: 4 })
2025-10-08T05:11:59.291561Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 49, end: 57, line: 3, col: 13 })
2025-10-08T05:11:59.291584Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 57, end: 58, line: 3, col: 14 })
2025-10-08T05:11:59.291596Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 59, end: 62, line: 3, col: 18 })
2025-10-08T05:11:59.291617Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 59, end: 62, line: 3, col: 18 })
2025-10-08T05:11:59.291643Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 62, end: 63, line: 4, col: 0 })
2025-10-08T05:11:59.291669Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 64, end: 67, line: 4, col: 4 })
2025-10-08T05:11:59.291684Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 64, end: 67, line: 4, col: 4 })
2025-10-08T05:11:59.291702Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 68, end: 75, line: 4, col: 12 })
2025-10-08T05:11:59.291718Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 75, end: 76, line: 4, col: 13 })
2025-10-08T05:11:59.291730Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 77, end: 80, line: 4, col: 17 })
2025-10-08T05:11:59.291751Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 77, end: 80, line: 4, col: 17 })
2025-10-08T05:11:59.291765Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 5, col: 0 })
2025-10-08T05:11:59.291784Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 81, end: 82, line: 5, col: 1 })
2025-10-08T05:11:59.291803Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 82, end: 83, line: 6, col: 0 })
2025-10-08T05:11:59.291815Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 82, end: 83, line: 6, col: 0 })
2025-10-08T05:11:59.291880Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dd")))), span: 24..26 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 32..37, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 39..42, generics: [] }, span: 39..42 }), default_value: None }, span: 28..42 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 49..57, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 59..62, generics: [] }, span: 59..62 }), default_value: None }, span: 45..62 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 68..75, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 77..80, generics: [] }, span: 77..80 }), default_value: None }, span: 64..80 })], span: 22..82 } }, span: 0..82 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:11:59.291898Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dd")))), span: 24..26 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 32..37, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 39..42, generics: [] }, span: 39..42 }), default_value: None }, span: 28..42 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 49..57, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 59..62, generics: [] }, span: 59..62 }), default_value: None }, span: 45..62 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 68..75, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 77..80, generics: [] }, span: 77..80 }), default_value: None }, span: 64..80 })], span: 22..82 } }, span: 0..82 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:11:59.291909Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dd")))), span: 24..26 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 32..37, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 39..42, generics: [] }, span: 39..42 }), default_value: None }, span: 28..42 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 49..57, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 59..62, generics: [] }, span: 59..62 }), default_value: None }, span: 45..62 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 68..75, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 77..80, generics: [] }, span: 77..80 }), default_value: None }, span: 64..80 })], span: 22..82 } }, span: 0..82 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:11:59.291938Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 32..37, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 39..42, generics: [] }, span: 39..42 }), default_value: None }, span: 28..42 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:11:59.291958Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 49..57, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 59..62, generics: [] }, span: 59..62 }), default_value: None }, span: 45..62 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:11:59.291973Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 68..75, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 77..80, generics: [] }, span: 77..80 }), default_value: None }, span: 64..80 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:11:59.292028Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:11:59.292041Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:59.292047Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:11:59.292134Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 39..42, generics: [] }, span: 39..42 }
2025-10-08T05:11:59.292152Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 59..62, generics: [] }, span: 59..62 }
2025-10-08T05:11:59.292159Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 77..80, generics: [] }, span: 77..80 }
2025-10-08T05:11:59.292196Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:11:59.292238Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:11:59.292257Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:11:59.292264Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:11:59.292323Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:11:59.292340Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:11:59.292351Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:11:59.292395Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:11:59.292409Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:11:59.292433Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:59.292459Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:59.292480Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:11:59.292510Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:11:59.292540Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:11:59.292559Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:11:59.292582Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:11:59.292596Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:13:44.555586Z TRACE async_lsp: incoming msg={"method":"initialize","jsonrpc":"2.0","params":{"rootUri":null,"rootPath":null,"clientInfo":{"version":"0.11.3","name":"Neovim"},"processId":1632263,"workDoneToken":"1","trace":"off","workspaceFolders":null,"capabilities":{"general":{"positionEncodings":["utf-8","utf-16","utf-32"]},"textDocument":{"definition":{"dynamicRegistration":true,"linkSupport":true},"callHierarchy":{"dynamicRegistration":false},"publishDiagnostics":{"tagSupport":{"valueSet":[1,2]},"dataSupport":true,"relatedInformation":true},"completion":{"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},"completionItem":{"documentationFormat":["markdown","plaintext"],"deprecatedSupport":true,"preselectSupport":false,"snippetSupport":true,"tagSupport":{"valueSet":[1]},"resolveSupport":{"properties":["additionalTextEdits","command"]},"commitCharactersSupport":false},"completionList":{"itemDefaults":["editRange","insertTextFormat","insertTextMode","data"]},"contextSupport":true,"dynamicRegistration":false},"rangeFormatting":{"dynamicRegistration":true,"rangesSupport":true},"documentSymbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"hierarchicalDocumentSymbolSupport":true,"dynamicRegistration":false},"formatting":{"dynamicRegistration":true},"foldingRange":{"lineFoldingOnly":true,"foldingRange":{"collapsedText":true},"dynamicRegistration":false,"foldingRangeKind":{"valueSet":["comment","imports","region"]}},"documentHighlight":{"dynamicRegistration":false},"signatureHelp":{"dynamicRegistration":false,"signatureInformation":{"documentationFormat":["markdown","plaintext"],"parameterInformation":{"labelOffsetSupport":true},"activeParameterSupport":true}},"references":{"dynamicRegistration":false},"codeLens":{"dynamicRegistration":false,"resolveSupport":{"properties":["command"]}},"codeAction":{"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"dynamicRegistration":true,"resolveSupport":{"properties":["edit","command"]},"dataSupport":true,"isPreferredSupport":true},"diagnostic":{"dynamicRegistration":false,"tagSupport":{"valueSet":[1,2]}},"declaration":{"linkSupport":true},"synchronization":{"willSaveWaitUntil":true,"dynamicRegistration":false,"willSave":true,"didSave":true},"hover":{"dynamicRegistration":true,"contentFormat":["markdown","plaintext"]},"typeDefinition":{"linkSupport":true},"implementation":{"linkSupport":true},"semanticTokens":{"augmentsSyntaxTokens":true,"serverCancelSupport":false,"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"],"overlappingTokenSupport":true,"dynamicRegistration":false,"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"requests":{"range":false,"full":{"delta":true}},"multilineTokenSupport":false,"formats":["relative"]},"inlayHint":{"dynamicRegistration":true,"resolveSupport":{"properties":["textEdits","tooltip","location","command"]}},"rename":{"dynamicRegistration":true,"prepareSupport":true}},"workspace":{"workspaceEdit":{"resourceOperations":["rename","create","delete"]},"applyEdit":true,"didChangeConfiguration":{"dynamicRegistration":false},"configuration":true,"didChangeWatchedFiles":{"dynamicRegistration":false,"relativePatternSupport":true},"workspaceFolders":true,"semanticTokens":{"refreshSupport":true},"inlayHint":{"refreshSupport":true},"symbol":{"dynamicRegistration":false,"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}}},"window":{"showDocument":{"support":true},"workDoneProgress":true,"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}}}}},"id":1}
2025-10-08T05:13:44.556228Z TRACE request{method="initialize"}: talk::lsp::server: Initialize with InitializeParams { process_id: Some(1632263), root_path: None, root_uri: None, initialization_options: None, capabilities: ClientCapabilities { workspace: Some(WorkspaceClientCapabilities { apply_edit: Some(true), workspace_edit: Some(WorkspaceEditClientCapabilities { document_changes: None, resource_operations: Some([Rename, Create, Delete]), failure_handling: None, normalizes_line_endings: None, change_annotation_support: None }), did_change_configuration: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), did_change_watched_files: Some(DidChangeWatchedFilesClientCapabilities { dynamic_registration: Some(false), relative_pattern_support: Some(true) }), symbol: Some(WorkspaceSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), tag_support: None, resolve_support: None }), execute_command: None, workspace_folders: Some(true), configuration: Some(true), semantic_tokens: Some(SemanticTokensWorkspaceClientCapabilities { refresh_support: Some(true) }), code_lens: None, file_operations: None, inline_value: None, inlay_hint: Some(InlayHintWorkspaceClientCapabilities { refresh_support: Some(true) }), diagnostic: None }), text_document: Some(TextDocumentClientCapabilities { synchronization: Some(TextDocumentSyncClientCapabilities { dynamic_registration: Some(false), will_save: Some(true), will_save_wait_until: Some(true), did_save: Some(true) }), completion: Some(CompletionClientCapabilities { dynamic_registration: Some(false), completion_item: Some(CompletionItemCapability { snippet_support: Some(true), commit_characters_support: Some(false), documentation_format: Some([Markdown, PlainText]), deprecated_support: Some(true), preselect_support: Some(false), tag_support: Some(TagSupport { value_set: [Deprecated] }), insert_replace_support: None, resolve_support: Some(CompletionItemCapabilityResolveSupport { properties: ["additionalTextEdits", "command"] }), insert_text_mode_support: None, label_details_support: None }), completion_item_kind: Some(CompletionItemKindCapability { value_set: Some([Text, Method, Function, Constructor, Field, Variable, Class, Interface, Module, Property, Unit, Value, Enum, Keyword, Snippet, Color, File, Reference, Folder, EnumMember, Constant, Struct, Event, Operator, TypeParameter]) }), context_support: Some(true), insert_text_mode: None, completion_list: Some(CompletionListCapability { item_defaults: Some(["editRange", "insertTextFormat", "insertTextMode", "data"]) }) }), hover: Some(HoverClientCapabilities { dynamic_registration: Some(true), content_format: Some([Markdown, PlainText]) }), signature_help: Some(SignatureHelpClientCapabilities { dynamic_registration: Some(false), signature_information: Some(SignatureInformationSettings { documentation_format: Some([Markdown, PlainText]), parameter_information: Some(ParameterInformationSettings { label_offset_support: Some(true) }), active_parameter_support: Some(true) }), context_support: None }), references: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_highlight: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_symbol: Some(DocumentSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), hierarchical_document_symbol_support: Some(true), tag_support: None }), formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), range_formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), on_type_formatting: None, declaration: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), definition: Some(GotoCapability { dynamic_registration: Some(true), link_support: Some(true) }), type_definition: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), implementation: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), code_action: Some(CodeActionClientCapabilities { dynamic_registration: Some(true), code_action_literal_support: Some(CodeActionLiteralSupport { code_action_kind: CodeActionKindLiteralSupport { value_set: ["", "quickfix", "refactor", "refactor.extract", "refactor.inline", "refactor.rewrite", "source", "source.organizeImports"] } }), is_preferred_support: Some(true), disabled_support: None, data_support: Some(true), resolve_support: Some(CodeActionCapabilityResolveSupport { properties: ["edit", "command"] }), honors_change_annotations: None }), code_lens: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_link: None, color_provider: None, rename: Some(RenameClientCapabilities { dynamic_registration: Some(true), prepare_support: Some(true), prepare_support_default_behavior: None, honors_change_annotations: None }), publish_diagnostics: Some(PublishDiagnosticsClientCapabilities { related_information: Some(true), tag_support: Some(TagSupport { value_set: [Unnecessary, Deprecated] }), version_support: None, code_description_support: None, data_support: Some(true) }), folding_range: Some(FoldingRangeClientCapabilities { dynamic_registration: Some(false), range_limit: None, line_folding_only: Some(true), folding_range_kind: Some(FoldingRangeKindCapability { value_set: Some([Comment, Imports, Region]) }), folding_range: Some(FoldingRangeCapability { collapsed_text: Some(true) }) }), selection_range: None, linked_editing_range: None, call_hierarchy: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), semantic_tokens: Some(SemanticTokensClientCapabilities { dynamic_registration: Some(false), requests: SemanticTokensClientCapabilitiesRequests { range: Some(false), full: Some(Delta { delta: Some(true) }) }, token_types: [SemanticTokenType("namespace"), SemanticTokenType("type"), SemanticTokenType("class"), SemanticTokenType("enum"), SemanticTokenType("interface"), SemanticTokenType("struct"), SemanticTokenType("typeParameter"), SemanticTokenType("parameter"), SemanticTokenType("variable"), SemanticTokenType("property"), SemanticTokenType("enumMember"), SemanticTokenType("event"), SemanticTokenType("function"), SemanticTokenType("method"), SemanticTokenType("macro"), SemanticTokenType("keyword"), SemanticTokenType("modifier"), SemanticTokenType("comment"), SemanticTokenType("string"), SemanticTokenType("number"), SemanticTokenType("regexp"), SemanticTokenType("operator"), SemanticTokenType("decorator")], token_modifiers: [SemanticTokenModifier("declaration"), SemanticTokenModifier("definition"), SemanticTokenModifier("readonly"), SemanticTokenModifier("static"), SemanticTokenModifier("deprecated"), SemanticTokenModifier("abstract"), SemanticTokenModifier("async"), SemanticTokenModifier("modification"), SemanticTokenModifier("documentation"), SemanticTokenModifier("defaultLibrary")], formats: [TokenFormat("relative")], overlapping_token_support: Some(true), multiline_token_support: Some(false), server_cancel_support: Some(false), augments_syntax_tokens: Some(true) }), moniker: None, type_hierarchy: None, inline_value: None, inlay_hint: Some(InlayHintClientCapabilities { dynamic_registration: Some(true), resolve_support: Some(InlayHintResolveClientCapabilities { properties: ["textEdits", "tooltip", "location", "command"] }) }), diagnostic: Some(DiagnosticClientCapabilities { dynamic_registration: Some(false), related_document_support: None }) }), window: Some(WindowClientCapabilities { work_done_progress: Some(true), show_message: Some(ShowMessageRequestClientCapabilities { message_action_item: Some(MessageActionItemCapabilities { additional_properties_support: Some(true) }) }), show_document: Some(ShowDocumentClientCapabilities { support: true }) }), general: Some(GeneralClientCapabilities { regular_expressions: None, markdown: None, stale_request_support: None, position_encodings: Some([PositionEncodingKind("utf-8"), PositionEncodingKind("utf-16"), PositionEncodingKind("utf-32")]) }), experimental: None }, trace: Some(Off), workspace_folders: None, client_info: Some(ClientInfo { name: "Neovim", version: Some("0.11.3") }), locale: None, work_done_progress_params: WorkDoneProgressParams { work_done_token: Some(String("1")) } }
2025-10-08T05:13:44.556456Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"result":{"capabilities":{"definitionProvider":true,"hoverProvider":true,"semanticTokensProvider":{"full":true,"legend":{"tokenModifiers":[],"tokenTypes":["comment","decorator","enumMember","enum","function","interface","keyword","method","modifier","number","operator","parameter","property","string","struct","typeParameter","type","variable"]},"range":false},"textDocumentSync":{"change":2,"openClose":true,"save":true}}}}
2025-10-08T05:13:44.563018Z TRACE async_lsp: incoming msg={"params":{},"jsonrpc":"2.0","method":"initialized"}
2025-10-08T05:13:44.563151Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"text":"struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n","version":0,"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","languageId":"talktalk"}},"jsonrpc":"2.0","method":"textDocument/didOpen"}
2025-10-08T05:13:44.563254Z  INFO notification{method="textDocument/didOpen"}: talk::lsp::server: did open file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:13:44.569327Z TRACE async_lsp: incoming msg={"method":"textDocument/semanticTokens/full","jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":2}
2025-10-08T05:13:44.569514Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"result":{"data":[]}}
2025-10-08T05:13:44.756455Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:44.756508Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:44.756538Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:44.756556Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:44.756595Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:13:44.756620Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:13:44.756665Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:44.756696Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:44.756761Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:13:44.756806Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:44.756821Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:44.756836Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:13:44.756848Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:13:44.756895Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:13:44.756926Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:13:44.756951Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:13:44.756971Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:13:44.756991Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:13:44.757021Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:13:44.757045Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:13:44.757091Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:13:44.757113Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:13:44.757140Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:13:44.757161Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:13:44.757177Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:13:44.757203Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:13:44.757222Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:13:44.757258Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:13:44.757278Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:13:44.757301Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:13:44.757321Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:13:44.757343Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:13:44.757368Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:13:44.757389Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:13:44.757410Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:13:44.757431Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:13:44.757440Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:13:44.757522Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:13:44.757536Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:44.757543Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:44.757557Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:44.757571Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:44.757588Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:13:44.757604Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:13:44.757614Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:44.757644Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:44.757674Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:13:44.757697Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:44.757707Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:44.757721Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:13:44.757731Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:13:44.757745Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:13:44.757760Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:13:44.757779Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:13:44.757794Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:13:44.757807Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:13:44.757824Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:13:44.757843Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:13:44.757866Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:13:44.757881Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:13:44.757898Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:13:44.757914Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:13:44.757926Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:13:44.757944Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:13:44.757959Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:13:44.757982Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:13:44.757997Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:13:44.758015Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:13:44.758033Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:13:44.758045Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:13:44.758062Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:13:44.758078Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:13:44.758094Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:13:44.758113Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:13:44.758120Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:13:44.758194Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:13:44.758214Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:13:44.758228Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T05:13:44.758246Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T05:13:44.758264Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T05:13:44.758278Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T05:13:44.758339Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:13:44.758354Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:44.758360Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:13:44.758446Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 36..39, generics: [] }, span: 36..39 }
2025-10-08T05:13:44.758465Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 56..59, generics: [] }, span: 56..59 }
2025-10-08T05:13:44.758473Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 74..77, generics: [] }, span: 74..77 }
2025-10-08T05:13:44.758511Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:13:44.758552Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:13:44.758568Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:13:44.758576Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:13:44.758653Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:13:44.758674Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:13:44.758690Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:13:44.758743Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:13:44.758757Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:13:44.758782Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:44.758804Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:44.758827Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:44.758860Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:13:44.758896Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:13:44.758910Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:13:44.758932Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:13:44.758946Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:13:44.759023Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:13:44.759073Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:13:44.759146Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":0}}
2025-10-08T05:13:44.759208Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":0,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:13:44.760105Z TRACE async_lsp: incoming msg={"method":"textDocument/semanticTokens/full","jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":3}
2025-10-08T05:13:44.760244Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:13:44.760284Z TRACE async_lsp: incoming msg={"result":null,"jsonrpc":"2.0","id":0}
2025-10-08T05:13:45.462233Z TRACE async_lsp: incoming msg={"params":{"contentChanges":[{"range":{"end":{"line":1,"character":0},"start":{"line":0,"character":23}},"rangeLength":1,"text":"\n\n"}],"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":3}},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:13:45.462625Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:13:45.511351Z TRACE async_lsp: incoming msg={"method":"textDocument/semanticTokens/full","jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":4}
2025-10-08T05:13:45.511667Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:13:45.557729Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:45.557788Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:45.557815Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:45.557833Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:45.557869Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:13:45.557895Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:13:45.557911Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:45.557933Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:45.557978Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:13:45.558004Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:45.558021Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:45.558042Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:13:45.558056Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:13:45.558083Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:13:45.558111Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:13:45.558156Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 30, end: 35, line: 2, col: 10 })
2025-10-08T05:13:45.558182Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 35, end: 36, line: 2, col: 11 })
2025-10-08T05:13:45.558204Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:13:45.558236Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:13:45.558261Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 41, end: 42, line: 3, col: 0 })
2025-10-08T05:13:45.558301Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:13:45.558326Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:13:45.558359Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 47, end: 55, line: 3, col: 13 })
2025-10-08T05:13:45.558384Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 55, end: 56, line: 3, col: 14 })
2025-10-08T05:13:45.558407Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:13:45.558443Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:13:45.558469Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 60, end: 61, line: 4, col: 0 })
2025-10-08T05:13:45.558515Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:13:45.558540Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:13:45.558572Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 66, end: 73, line: 4, col: 12 })
2025-10-08T05:13:45.558597Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 73, end: 74, line: 4, col: 13 })
2025-10-08T05:13:45.558620Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:13:45.558667Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:13:45.558698Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 78, end: 79, line: 5, col: 0 })
2025-10-08T05:13:45.558730Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 79, end: 80, line: 5, col: 1 })
2025-10-08T05:13:45.558764Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:13:45.558783Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:13:45.558863Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:13:45.558887Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:45.558901Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:45.558924Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:45.558944Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:45.558980Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:13:45.559005Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:13:45.559026Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:45.559050Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:45.559091Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:13:45.559118Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:45.559139Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:45.559159Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:13:45.559175Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:13:45.559197Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:13:45.559225Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:13:45.559260Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 30, end: 35, line: 2, col: 10 })
2025-10-08T05:13:45.559285Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 35, end: 36, line: 2, col: 11 })
2025-10-08T05:13:45.559308Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:13:45.559340Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:13:45.559366Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 41, end: 42, line: 3, col: 0 })
2025-10-08T05:13:45.559408Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:13:45.559432Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:13:45.559466Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 47, end: 55, line: 3, col: 13 })
2025-10-08T05:13:45.559490Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 55, end: 56, line: 3, col: 14 })
2025-10-08T05:13:45.559518Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:13:45.559549Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:13:45.559574Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 60, end: 61, line: 4, col: 0 })
2025-10-08T05:13:45.559617Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:13:45.559657Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:13:45.559699Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 66, end: 73, line: 4, col: 12 })
2025-10-08T05:13:45.559726Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 73, end: 74, line: 4, col: 13 })
2025-10-08T05:13:45.559751Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:13:45.559782Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:13:45.559806Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 78, end: 79, line: 5, col: 0 })
2025-10-08T05:13:45.559840Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 79, end: 80, line: 5, col: 1 })
2025-10-08T05:13:45.559871Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:13:45.559885Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:13:45.559961Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:13:45.559990Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:13:45.560011Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T05:13:45.560058Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T05:13:45.560088Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T05:13:45.560115Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T05:13:45.560182Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:13:45.560205Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:45.560218Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:13:45.560324Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 37..40, generics: [] }, span: 37..40 }
2025-10-08T05:13:45.560352Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 57..60, generics: [] }, span: 57..60 }
2025-10-08T05:13:45.560368Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 75..78, generics: [] }, span: 75..78 }
2025-10-08T05:13:45.560421Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:13:45.560485Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:13:45.560513Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:13:45.560530Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:13:45.560614Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:13:45.560656Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:13:45.560680Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:13:45.560763Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:13:45.560786Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:13:45.560836Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:45.560878Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:45.560910Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:45.560959Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:13:45.561003Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:13:45.561024Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:13:45.561058Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:13:45.561082Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:13:45.561192Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:13:45.561244Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:13:45.561345Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":3}}
2025-10-08T05:13:45.561418Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:13:45.561992Z TRACE async_lsp: incoming msg={"method":"textDocument/semanticTokens/full","jsonrpc":"2.0","params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":5}
2025-10-08T05:13:45.562154Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":5,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:13:45.562196Z TRACE async_lsp: incoming msg={"result":null,"jsonrpc":"2.0","id":1}
2025-10-08T05:13:46.714841Z TRACE async_lsp: incoming msg={"params":{"contentChanges":[{"range":{"end":{"line":1,"character":0},"start":{"line":1,"character":0}},"rangeLength":0,"text":"d"}],"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":4}},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:13:46.715205Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:13:46.756835Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:46.756884Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:46.756910Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:46.756929Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:46.756972Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:13:46.756994Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:13:46.757010Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:46.757031Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:46.757075Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:13:46.757127Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:46.757142Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:46.757159Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:13:46.757170Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:13:46.757202Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 }) with precedence: Assignment
2025-10-08T05:13:46.757237Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:13:46.757270Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:13:46.757300Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("d"))
2025-10-08T05:13:46.757320Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 25, end: 26, line: 2, col: 0 })
2025-10-08T05:13:46.757376Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:13:46.757398Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:13:46.757427Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 31, end: 36, line: 2, col: 10 })
2025-10-08T05:13:46.757446Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 36, end: 37, line: 2, col: 11 })
2025-10-08T05:13:46.757463Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:13:46.757488Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:13:46.757512Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 42, end: 43, line: 3, col: 0 })
2025-10-08T05:13:46.757545Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:13:46.757569Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:13:46.757593Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 48, end: 56, line: 3, col: 13 })
2025-10-08T05:13:46.757615Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 56, end: 57, line: 3, col: 14 })
2025-10-08T05:13:46.757647Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:13:46.757681Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:13:46.757706Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 61, end: 62, line: 4, col: 0 })
2025-10-08T05:13:46.757739Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:13:46.757759Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:13:46.757783Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 67, end: 74, line: 4, col: 12 })
2025-10-08T05:13:46.757806Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 74, end: 75, line: 4, col: 13 })
2025-10-08T05:13:46.757818Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:13:46.757835Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:13:46.757853Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:13:46.757873Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 80, end: 81, line: 5, col: 1 })
2025-10-08T05:13:46.757892Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:13:46.757898Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:13:46.757977Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\nd\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:13:46.757993Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:46.758000Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:13:46.758014Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:46.758025Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:13:46.758044Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:13:46.758057Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:13:46.758068Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:46.758083Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:13:46.758113Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:13:46.758127Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:46.758139Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:13:46.758152Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:13:46.758161Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:13:46.758178Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 }) with precedence: Assignment
2025-10-08T05:13:46.758199Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:13:46.758216Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:13:46.758232Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("d"))
2025-10-08T05:13:46.758245Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 25, end: 26, line: 2, col: 0 })
2025-10-08T05:13:46.758277Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:13:46.758298Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:13:46.758315Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 31, end: 36, line: 2, col: 10 })
2025-10-08T05:13:46.758334Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 36, end: 37, line: 2, col: 11 })
2025-10-08T05:13:46.758346Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:13:46.758365Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:13:46.758386Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 42, end: 43, line: 3, col: 0 })
2025-10-08T05:13:46.758410Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:13:46.758427Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:13:46.758445Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 48, end: 56, line: 3, col: 13 })
2025-10-08T05:13:46.758460Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 56, end: 57, line: 3, col: 14 })
2025-10-08T05:13:46.758473Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:13:46.758490Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:13:46.758506Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 61, end: 62, line: 4, col: 0 })
2025-10-08T05:13:46.758528Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:13:46.758544Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:13:46.758564Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 67, end: 74, line: 4, col: 12 })
2025-10-08T05:13:46.758580Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 74, end: 75, line: 4, col: 13 })
2025-10-08T05:13:46.758592Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:13:46.758608Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:13:46.758622Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:13:46.758652Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 80, end: 81, line: 5, col: 1 })
2025-10-08T05:13:46.758669Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:13:46.758676Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:13:46.758747Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("d")))), span: 24..25 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 })], span: 22..81 } }, span: 0..81 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:13:46.758770Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("d")))), span: 24..25 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 })], span: 22..81 } }, span: 0..81 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:13:46.758780Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("d")))), span: 24..25 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 })], span: 22..81 } }, span: 0..81 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:13:46.758806Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:13:46.758824Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:13:46.758843Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:13:46.758899Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:13:46.758914Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:46.758920Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:13:46.759008Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 38..41, generics: [] }, span: 38..41 }
2025-10-08T05:13:46.759027Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 58..61, generics: [] }, span: 58..61 }
2025-10-08T05:13:46.759035Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 76..79, generics: [] }, span: 76..79 }
2025-10-08T05:13:46.759072Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:13:46.759114Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:13:46.759131Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:13:46.759139Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:13:46.759197Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:13:46.759215Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:13:46.759230Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:13:46.759273Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:13:46.759289Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:13:46.759315Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:46.759336Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:46.759354Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:13:46.759386Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:13:46.759421Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:13:46.759436Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:13:46.759459Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:13:46.759472Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:32.107583Z TRACE async_lsp: incoming msg={"params":{"trace":"off","rootUri":null,"rootPath":null,"clientInfo":{"name":"Neovim","version":"0.11.3"},"workspaceFolders":null,"processId":1633967,"workDoneToken":"1","capabilities":{"textDocument":{"rename":{"prepareSupport":true,"dynamicRegistration":true},"references":{"dynamicRegistration":false},"implementation":{"linkSupport":true},"rangeFormatting":{"rangesSupport":true,"dynamicRegistration":true},"documentSymbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"hierarchicalDocumentSymbolSupport":true,"dynamicRegistration":false},"formatting":{"dynamicRegistration":true},"foldingRange":{"foldingRangeKind":{"valueSet":["comment","imports","region"]},"dynamicRegistration":false,"foldingRange":{"collapsedText":true},"lineFoldingOnly":true},"completion":{"dynamicRegistration":false,"completionList":{"itemDefaults":["editRange","insertTextFormat","insertTextMode","data"]},"completionItem":{"commitCharactersSupport":false,"tagSupport":{"valueSet":[1]},"snippetSupport":true,"resolveSupport":{"properties":["additionalTextEdits","command"]},"documentationFormat":["markdown","plaintext"],"deprecatedSupport":true,"preselectSupport":false},"contextSupport":true,"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]}},"signatureHelp":{"signatureInformation":{"activeParameterSupport":true,"documentationFormat":["markdown","plaintext"],"parameterInformation":{"labelOffsetSupport":true}},"dynamicRegistration":false},"codeLens":{"resolveSupport":{"properties":["command"]},"dynamicRegistration":false},"codeAction":{"dynamicRegistration":true,"dataSupport":true,"isPreferredSupport":true,"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"resolveSupport":{"properties":["edit","command"]}},"hover":{"contentFormat":["markdown","plaintext"],"dynamicRegistration":true},"typeDefinition":{"linkSupport":true},"diagnostic":{"tagSupport":{"valueSet":[1,2]},"dynamicRegistration":false},"synchronization":{"didSave":true,"dynamicRegistration":false,"willSaveWaitUntil":true,"willSave":true},"definition":{"linkSupport":true,"dynamicRegistration":true},"semanticTokens":{"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"],"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"requests":{"range":false,"full":{"delta":true}},"multilineTokenSupport":false,"augmentsSyntaxTokens":true,"serverCancelSupport":false,"formats":["relative"],"overlappingTokenSupport":true,"dynamicRegistration":false},"inlayHint":{"resolveSupport":{"properties":["textEdits","tooltip","location","command"]},"dynamicRegistration":true},"documentHighlight":{"dynamicRegistration":false},"declaration":{"linkSupport":true},"callHierarchy":{"dynamicRegistration":false},"publishDiagnostics":{"relatedInformation":true,"tagSupport":{"valueSet":[1,2]},"dataSupport":true}},"window":{"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}},"showDocument":{"support":true},"workDoneProgress":true},"general":{"positionEncodings":["utf-8","utf-16","utf-32"]},"workspace":{"didChangeWatchedFiles":{"relativePatternSupport":true,"dynamicRegistration":false},"workspaceEdit":{"resourceOperations":["rename","create","delete"]},"didChangeConfiguration":{"dynamicRegistration":false},"configuration":true,"applyEdit":true,"workspaceFolders":true,"semanticTokens":{"refreshSupport":true},"inlayHint":{"refreshSupport":true},"symbol":{"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"dynamicRegistration":false}}}},"id":1,"jsonrpc":"2.0","method":"initialize"}
2025-10-08T05:17:32.108224Z TRACE request{method="initialize"}: talk::lsp::server: Initialize with InitializeParams { process_id: Some(1633967), root_path: None, root_uri: None, initialization_options: None, capabilities: ClientCapabilities { workspace: Some(WorkspaceClientCapabilities { apply_edit: Some(true), workspace_edit: Some(WorkspaceEditClientCapabilities { document_changes: None, resource_operations: Some([Rename, Create, Delete]), failure_handling: None, normalizes_line_endings: None, change_annotation_support: None }), did_change_configuration: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), did_change_watched_files: Some(DidChangeWatchedFilesClientCapabilities { dynamic_registration: Some(false), relative_pattern_support: Some(true) }), symbol: Some(WorkspaceSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), tag_support: None, resolve_support: None }), execute_command: None, workspace_folders: Some(true), configuration: Some(true), semantic_tokens: Some(SemanticTokensWorkspaceClientCapabilities { refresh_support: Some(true) }), code_lens: None, file_operations: None, inline_value: None, inlay_hint: Some(InlayHintWorkspaceClientCapabilities { refresh_support: Some(true) }), diagnostic: None }), text_document: Some(TextDocumentClientCapabilities { synchronization: Some(TextDocumentSyncClientCapabilities { dynamic_registration: Some(false), will_save: Some(true), will_save_wait_until: Some(true), did_save: Some(true) }), completion: Some(CompletionClientCapabilities { dynamic_registration: Some(false), completion_item: Some(CompletionItemCapability { snippet_support: Some(true), commit_characters_support: Some(false), documentation_format: Some([Markdown, PlainText]), deprecated_support: Some(true), preselect_support: Some(false), tag_support: Some(TagSupport { value_set: [Deprecated] }), insert_replace_support: None, resolve_support: Some(CompletionItemCapabilityResolveSupport { properties: ["additionalTextEdits", "command"] }), insert_text_mode_support: None, label_details_support: None }), completion_item_kind: Some(CompletionItemKindCapability { value_set: Some([Text, Method, Function, Constructor, Field, Variable, Class, Interface, Module, Property, Unit, Value, Enum, Keyword, Snippet, Color, File, Reference, Folder, EnumMember, Constant, Struct, Event, Operator, TypeParameter]) }), context_support: Some(true), insert_text_mode: None, completion_list: Some(CompletionListCapability { item_defaults: Some(["editRange", "insertTextFormat", "insertTextMode", "data"]) }) }), hover: Some(HoverClientCapabilities { dynamic_registration: Some(true), content_format: Some([Markdown, PlainText]) }), signature_help: Some(SignatureHelpClientCapabilities { dynamic_registration: Some(false), signature_information: Some(SignatureInformationSettings { documentation_format: Some([Markdown, PlainText]), parameter_information: Some(ParameterInformationSettings { label_offset_support: Some(true) }), active_parameter_support: Some(true) }), context_support: None }), references: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_highlight: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_symbol: Some(DocumentSymbolClientCapabilities { dynamic_registration: Some(false), symbol_kind: Some(SymbolKindCapability { value_set: Some([File, Module, Namespace, Package, Class, Method, Property, Field, Constructor, Enum, Interface, Function, Variable, Constant, String, Number, Boolean, Array, Object, Key, Null, EnumMember, Struct, Event, Operator, TypeParameter]) }), hierarchical_document_symbol_support: Some(true), tag_support: None }), formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), range_formatting: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(true) }), on_type_formatting: None, declaration: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), definition: Some(GotoCapability { dynamic_registration: Some(true), link_support: Some(true) }), type_definition: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), implementation: Some(GotoCapability { dynamic_registration: None, link_support: Some(true) }), code_action: Some(CodeActionClientCapabilities { dynamic_registration: Some(true), code_action_literal_support: Some(CodeActionLiteralSupport { code_action_kind: CodeActionKindLiteralSupport { value_set: ["", "quickfix", "refactor", "refactor.extract", "refactor.inline", "refactor.rewrite", "source", "source.organizeImports"] } }), is_preferred_support: Some(true), disabled_support: None, data_support: Some(true), resolve_support: Some(CodeActionCapabilityResolveSupport { properties: ["edit", "command"] }), honors_change_annotations: None }), code_lens: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), document_link: None, color_provider: None, rename: Some(RenameClientCapabilities { dynamic_registration: Some(true), prepare_support: Some(true), prepare_support_default_behavior: None, honors_change_annotations: None }), publish_diagnostics: Some(PublishDiagnosticsClientCapabilities { related_information: Some(true), tag_support: Some(TagSupport { value_set: [Unnecessary, Deprecated] }), version_support: None, code_description_support: None, data_support: Some(true) }), folding_range: Some(FoldingRangeClientCapabilities { dynamic_registration: Some(false), range_limit: None, line_folding_only: Some(true), folding_range_kind: Some(FoldingRangeKindCapability { value_set: Some([Comment, Imports, Region]) }), folding_range: Some(FoldingRangeCapability { collapsed_text: Some(true) }) }), selection_range: None, linked_editing_range: None, call_hierarchy: Some(DynamicRegistrationClientCapabilities { dynamic_registration: Some(false) }), semantic_tokens: Some(SemanticTokensClientCapabilities { dynamic_registration: Some(false), requests: SemanticTokensClientCapabilitiesRequests { range: Some(false), full: Some(Delta { delta: Some(true) }) }, token_types: [SemanticTokenType("namespace"), SemanticTokenType("type"), SemanticTokenType("class"), SemanticTokenType("enum"), SemanticTokenType("interface"), SemanticTokenType("struct"), SemanticTokenType("typeParameter"), SemanticTokenType("parameter"), SemanticTokenType("variable"), SemanticTokenType("property"), SemanticTokenType("enumMember"), SemanticTokenType("event"), SemanticTokenType("function"), SemanticTokenType("method"), SemanticTokenType("macro"), SemanticTokenType("keyword"), SemanticTokenType("modifier"), SemanticTokenType("comment"), SemanticTokenType("string"), SemanticTokenType("number"), SemanticTokenType("regexp"), SemanticTokenType("operator"), SemanticTokenType("decorator")], token_modifiers: [SemanticTokenModifier("declaration"), SemanticTokenModifier("definition"), SemanticTokenModifier("readonly"), SemanticTokenModifier("static"), SemanticTokenModifier("deprecated"), SemanticTokenModifier("abstract"), SemanticTokenModifier("async"), SemanticTokenModifier("modification"), SemanticTokenModifier("documentation"), SemanticTokenModifier("defaultLibrary")], formats: [TokenFormat("relative")], overlapping_token_support: Some(true), multiline_token_support: Some(false), server_cancel_support: Some(false), augments_syntax_tokens: Some(true) }), moniker: None, type_hierarchy: None, inline_value: None, inlay_hint: Some(InlayHintClientCapabilities { dynamic_registration: Some(true), resolve_support: Some(InlayHintResolveClientCapabilities { properties: ["textEdits", "tooltip", "location", "command"] }) }), diagnostic: Some(DiagnosticClientCapabilities { dynamic_registration: Some(false), related_document_support: None }) }), window: Some(WindowClientCapabilities { work_done_progress: Some(true), show_message: Some(ShowMessageRequestClientCapabilities { message_action_item: Some(MessageActionItemCapabilities { additional_properties_support: Some(true) }) }), show_document: Some(ShowDocumentClientCapabilities { support: true }) }), general: Some(GeneralClientCapabilities { regular_expressions: None, markdown: None, stale_request_support: None, position_encodings: Some([PositionEncodingKind("utf-8"), PositionEncodingKind("utf-16"), PositionEncodingKind("utf-32")]) }), experimental: None }, trace: Some(Off), workspace_folders: None, client_info: Some(ClientInfo { name: "Neovim", version: Some("0.11.3") }), locale: None, work_done_progress_params: WorkDoneProgressParams { work_done_token: Some(String("1")) } }
2025-10-08T05:17:32.108444Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"result":{"capabilities":{"definitionProvider":true,"hoverProvider":true,"semanticTokensProvider":{"full":true,"legend":{"tokenModifiers":[],"tokenTypes":["comment","decorator","enumMember","enum","function","interface","keyword","method","modifier","number","operator","parameter","property","string","struct","typeParameter","type","variable"]},"range":false},"textDocumentSync":{"change":2,"openClose":true,"save":true}}}}
2025-10-08T05:17:32.115154Z TRACE async_lsp: incoming msg={"params":{},"jsonrpc":"2.0","method":"initialized"}
2025-10-08T05:17:32.115307Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","languageId":"talktalk","version":0,"text":"struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n"}},"jsonrpc":"2.0","method":"textDocument/didOpen"}
2025-10-08T05:17:32.115442Z  INFO notification{method="textDocument/didOpen"}: talk::lsp::server: did open file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:32.121304Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":2,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:32.121505Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"result":{"data":[]}}
2025-10-08T05:17:32.309883Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:32.310004Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:32.310054Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:32.310083Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:32.310129Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:32.310156Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:32.310173Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:32.310199Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:32.310271Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:32.310293Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:32.310305Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:32.310318Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:32.310329Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:32.310386Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:17:32.310426Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:17:32.310446Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:17:32.310461Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:17:32.310478Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:17:32.310499Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:17:32.310517Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:17:32.310551Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:17:32.310568Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:17:32.310588Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:17:32.310603Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:17:32.310619Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:17:32.310648Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:17:32.310661Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:17:32.310693Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:17:32.310710Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:17:32.310728Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:17:32.310741Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:17:32.310755Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:17:32.310774Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:17:32.310788Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:17:32.310806Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:17:32.310834Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:17:32.310841Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:17:32.310967Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:32.310984Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:32.310991Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:32.311007Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:32.311018Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:32.311035Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:32.311049Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:32.311060Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:32.311075Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:32.311100Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:32.311118Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:32.311134Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:32.311146Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:32.311154Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:32.311172Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:17:32.311185Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:17:32.311204Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:17:32.311220Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:17:32.311232Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:17:32.311252Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:17:32.311265Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:17:32.311289Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:17:32.311305Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:17:32.311323Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:17:32.311342Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:17:32.311354Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:17:32.311371Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:17:32.311387Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:17:32.311410Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:17:32.311425Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:17:32.311443Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:17:32.311459Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:17:32.311470Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:17:32.311487Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:17:32.311503Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:17:32.311526Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:17:32.311544Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:17:32.311553Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:17:32.311667Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:32.311690Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:32.311702Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T05:17:32.311731Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T05:17:32.311751Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T05:17:32.311765Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T05:17:32.311833Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:32.311854Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:32.311861Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:32.311995Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 36..39, generics: [] }, span: 36..39 }
2025-10-08T05:17:32.312018Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 56..59, generics: [] }, span: 56..59 }
2025-10-08T05:17:32.312025Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 74..77, generics: [] }, span: 74..77 }
2025-10-08T05:17:32.312073Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:32.312135Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:32.312155Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:32.312162Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:32.312232Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:32.312253Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:32.312266Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:32.312317Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:32.312331Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:32.312361Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:32.312383Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:32.312400Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:32.312444Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:32.312483Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:32.312497Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:32.312526Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:32.312541Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:32.312660Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:32.312706Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:32.312784Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":0}}
2025-10-08T05:17:32.312843Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":0,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:32.313916Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":3,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:32.314051Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:32.314080Z TRACE async_lsp: incoming msg={"id":0,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:33.049717Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":3},"contentChanges":[{"rangeLength":1,"range":{"start":{"line":0,"character":23},"end":{"line":1,"character":0}},"text":"\n\n"}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:33.050042Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:33.099817Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":4,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:33.100237Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:33.108817Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.108866Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.108893Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.108922Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.108964Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:33.108990Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:33.109007Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.109046Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.109094Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:33.109121Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.109139Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.109158Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:17:33.109172Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:17:33.109196Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:17:33.109220Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:17:33.109251Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 30, end: 35, line: 2, col: 10 })
2025-10-08T05:17:33.109275Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 35, end: 36, line: 2, col: 11 })
2025-10-08T05:17:33.109290Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:17:33.109310Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:17:33.109329Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 41, end: 42, line: 3, col: 0 })
2025-10-08T05:17:33.109357Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:17:33.109374Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:17:33.109392Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 47, end: 55, line: 3, col: 13 })
2025-10-08T05:17:33.109408Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 55, end: 56, line: 3, col: 14 })
2025-10-08T05:17:33.109421Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:17:33.109438Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:17:33.109452Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 60, end: 61, line: 4, col: 0 })
2025-10-08T05:17:33.109477Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:17:33.109493Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:17:33.109514Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 66, end: 73, line: 4, col: 12 })
2025-10-08T05:17:33.109530Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 73, end: 74, line: 4, col: 13 })
2025-10-08T05:17:33.109541Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:17:33.109558Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:17:33.109572Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 78, end: 79, line: 5, col: 0 })
2025-10-08T05:17:33.109589Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 79, end: 80, line: 5, col: 1 })
2025-10-08T05:17:33.109611Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:17:33.109619Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:17:33.109699Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:33.109718Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.109726Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.109741Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.109753Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.109772Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:33.109789Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:33.109803Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.109823Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.109847Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:33.109864Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.109875Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.109888Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:17:33.109896Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 25, line: 2, col: 0 })
2025-10-08T05:17:33.109916Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:17:33.109932Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 26, end: 29, line: 2, col: 4 })
2025-10-08T05:17:33.109950Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 30, end: 35, line: 2, col: 10 })
2025-10-08T05:17:33.109965Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 35, end: 36, line: 2, col: 11 })
2025-10-08T05:17:33.109976Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:17:33.109998Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 37, end: 40, line: 2, col: 15 })
2025-10-08T05:17:33.110015Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 41, end: 42, line: 3, col: 0 })
2025-10-08T05:17:33.110040Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:17:33.110053Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 43, end: 46, line: 3, col: 4 })
2025-10-08T05:17:33.110074Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 47, end: 55, line: 3, col: 13 })
2025-10-08T05:17:33.110088Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 55, end: 56, line: 3, col: 14 })
2025-10-08T05:17:33.110100Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:17:33.110117Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 57, end: 60, line: 3, col: 18 })
2025-10-08T05:17:33.110131Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 60, end: 61, line: 4, col: 0 })
2025-10-08T05:17:33.110154Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:17:33.110172Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 62, end: 65, line: 4, col: 4 })
2025-10-08T05:17:33.110191Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 66, end: 73, line: 4, col: 12 })
2025-10-08T05:17:33.110205Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 73, end: 74, line: 4, col: 13 })
2025-10-08T05:17:33.110219Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:17:33.110236Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 75, end: 78, line: 4, col: 17 })
2025-10-08T05:17:33.110249Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 78, end: 79, line: 5, col: 0 })
2025-10-08T05:17:33.110266Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 79, end: 80, line: 5, col: 1 })
2025-10-08T05:17:33.110286Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:17:33.110293Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 6, col: 0 })
2025-10-08T05:17:33.110352Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:33.110374Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:33.110385Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 })], span: 22..80 } }, span: 0..80 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T05:17:33.110402Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 30..35, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 37..40, generics: [] }, span: 37..40 }), default_value: None }, span: 26..40 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T05:17:33.110422Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 47..55, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 57..60, generics: [] }, span: 57..60 }), default_value: None }, span: 43..60 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T05:17:33.110438Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 66..73, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 75..78, generics: [] }, span: 75..78 }), default_value: None }, span: 62..78 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T05:17:33.110490Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:33.110504Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.110510Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:33.110592Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 37..40, generics: [] }, span: 37..40 }
2025-10-08T05:17:33.110612Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 57..60, generics: [] }, span: 57..60 }
2025-10-08T05:17:33.110619Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 75..78, generics: [] }, span: 75..78 }
2025-10-08T05:17:33.110666Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:33.110710Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:33.110727Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:33.110736Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:33.110794Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:33.110812Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:33.110829Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:33.110873Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:33.110887Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:33.110916Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.110939Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.110960Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.110998Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:33.111028Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:33.111041Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:33.111065Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:33.111078Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:33.111154Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:33.111190Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:33.111258Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":3}}
2025-10-08T05:17:33.111309Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":1,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:33.111737Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":5,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:33.111859Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":5,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:33.111886Z TRACE async_lsp: incoming msg={"id":1,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:33.497404Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":4},"contentChanges":[{"rangeLength":0,"range":{"start":{"line":1,"character":0},"end":{"line":1,"character":0}},"text":"d"}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:33.497646Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:33.508977Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.509020Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.509049Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.509071Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.509140Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:33.509188Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:33.509224Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.509272Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.509349Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:33.509392Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.509422Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.509456Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.509485Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.509549Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 }) with precedence: Assignment
2025-10-08T05:17:33.509618Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:17:33.509721Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:17:33.509775Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("d"))
2025-10-08T05:17:33.509814Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 25, end: 26, line: 2, col: 0 })
2025-10-08T05:17:33.509920Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:17:33.509962Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:17:33.510011Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 31, end: 36, line: 2, col: 10 })
2025-10-08T05:17:33.510051Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 36, end: 37, line: 2, col: 11 })
2025-10-08T05:17:33.510083Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:17:33.510115Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:17:33.510150Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 42, end: 43, line: 3, col: 0 })
2025-10-08T05:17:33.510200Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:17:33.510227Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:17:33.510257Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 48, end: 56, line: 3, col: 13 })
2025-10-08T05:17:33.510284Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 56, end: 57, line: 3, col: 14 })
2025-10-08T05:17:33.510307Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:17:33.510340Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:17:33.510366Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 61, end: 62, line: 4, col: 0 })
2025-10-08T05:17:33.510402Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:17:33.510419Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:17:33.510439Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 67, end: 74, line: 4, col: 12 })
2025-10-08T05:17:33.510459Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 74, end: 75, line: 4, col: 13 })
2025-10-08T05:17:33.510471Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:17:33.510488Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:17:33.510501Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:17:33.510523Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 80, end: 81, line: 5, col: 1 })
2025-10-08T05:17:33.510542Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:17:33.510550Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:17:33.510620Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\nd\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:33.510648Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.510657Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.510671Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.510685Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.510704Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:33.510721Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:33.510739Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.510755Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.510781Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:33.510798Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.510811Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.510824Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.510832Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.510850Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 }) with precedence: Assignment
2025-10-08T05:17:33.510868Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:17:33.510890Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("d"), start: 24, end: 25, line: 1, col: 1 })
2025-10-08T05:17:33.510908Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("d"))
2025-10-08T05:17:33.510929Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 25, end: 26, line: 2, col: 0 })
2025-10-08T05:17:33.510967Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:17:33.510982Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 27, end: 30, line: 2, col: 4 })
2025-10-08T05:17:33.511000Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 31, end: 36, line: 2, col: 10 })
2025-10-08T05:17:33.511018Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 36, end: 37, line: 2, col: 11 })
2025-10-08T05:17:33.511030Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:17:33.511047Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 38, end: 41, line: 2, col: 15 })
2025-10-08T05:17:33.511063Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 42, end: 43, line: 3, col: 0 })
2025-10-08T05:17:33.511088Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:17:33.511104Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 44, end: 47, line: 3, col: 4 })
2025-10-08T05:17:33.511122Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 48, end: 56, line: 3, col: 13 })
2025-10-08T05:17:33.511141Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 56, end: 57, line: 3, col: 14 })
2025-10-08T05:17:33.511153Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:17:33.511171Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 58, end: 61, line: 3, col: 18 })
2025-10-08T05:17:33.511188Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 61, end: 62, line: 4, col: 0 })
2025-10-08T05:17:33.511213Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:17:33.511227Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 63, end: 66, line: 4, col: 4 })
2025-10-08T05:17:33.511246Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 67, end: 74, line: 4, col: 12 })
2025-10-08T05:17:33.511261Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 74, end: 75, line: 4, col: 13 })
2025-10-08T05:17:33.511272Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:17:33.511291Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 76, end: 79, line: 4, col: 17 })
2025-10-08T05:17:33.511306Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:17:33.511330Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 80, end: 81, line: 5, col: 1 })
2025-10-08T05:17:33.511349Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:17:33.511356Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 81, end: 82, line: 6, col: 0 })
2025-10-08T05:17:33.511421Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("d")))), span: 24..25 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 })], span: 22..81 } }, span: 0..81 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:33.511439Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("d")))), span: 24..25 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 })], span: 22..81 } }, span: 0..81 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:33.511450Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("d")))), span: 24..25 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 })], span: 22..81 } }, span: 0..81 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:17:33.511480Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 31..36, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 38..41, generics: [] }, span: 38..41 }), default_value: None }, span: 27..41 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:17:33.511499Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 48..56, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 58..61, generics: [] }, span: 58..61 }), default_value: None }, span: 44..61 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:17:33.511513Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 67..74, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 76..79, generics: [] }, span: 76..79 }), default_value: None }, span: 63..79 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:17:33.511569Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:33.511582Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.511588Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:33.511687Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 38..41, generics: [] }, span: 38..41 }
2025-10-08T05:17:33.511712Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 58..61, generics: [] }, span: 58..61 }
2025-10-08T05:17:33.511720Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 76..79, generics: [] }, span: 76..79 }
2025-10-08T05:17:33.511757Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:33.511799Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:33.511814Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:33.511821Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:33.511879Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:33.511895Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:33.511907Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:33.511959Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:33.511974Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:33.512005Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.512027Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.512045Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.512077Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:33.512108Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:33.512120Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:33.512146Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:33.512161Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:33.512247Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:33.512284Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:33.512355Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":4}}
2025-10-08T05:17:33.512416Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":2,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:33.513857Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":6,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:33.513992Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":6,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:33.514020Z TRACE async_lsp: incoming msg={"id":2,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:33.647121Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":5},"contentChanges":[{"rangeLength":0,"range":{"start":{"line":1,"character":1},"end":{"line":1,"character":1}},"text":"d"}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:33.647373Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:33.708949Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.709008Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.709044Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.709070Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.709136Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:33.709179Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:33.709203Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.709257Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.709349Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:33.709402Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.709431Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.709466Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.709490Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.709544Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 }) with precedence: Assignment
2025-10-08T05:17:33.709588Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 })
2025-10-08T05:17:33.709651Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 })
2025-10-08T05:17:33.709703Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dd"))
2025-10-08T05:17:33.709738Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 26, end: 27, line: 2, col: 0 })
2025-10-08T05:17:33.709837Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 28, end: 31, line: 2, col: 4 })
2025-10-08T05:17:33.709867Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 28, end: 31, line: 2, col: 4 })
2025-10-08T05:17:33.709925Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 32, end: 37, line: 2, col: 10 })
2025-10-08T05:17:33.709957Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 37, end: 38, line: 2, col: 11 })
2025-10-08T05:17:33.709989Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 39, end: 42, line: 2, col: 15 })
2025-10-08T05:17:33.710033Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 39, end: 42, line: 2, col: 15 })
2025-10-08T05:17:33.710070Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 43, end: 44, line: 3, col: 0 })
2025-10-08T05:17:33.710136Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 45, end: 48, line: 3, col: 4 })
2025-10-08T05:17:33.710163Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 45, end: 48, line: 3, col: 4 })
2025-10-08T05:17:33.710208Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 49, end: 57, line: 3, col: 13 })
2025-10-08T05:17:33.710241Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 57, end: 58, line: 3, col: 14 })
2025-10-08T05:17:33.710281Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 59, end: 62, line: 3, col: 18 })
2025-10-08T05:17:33.710327Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 59, end: 62, line: 3, col: 18 })
2025-10-08T05:17:33.710363Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 62, end: 63, line: 4, col: 0 })
2025-10-08T05:17:33.710422Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 64, end: 67, line: 4, col: 4 })
2025-10-08T05:17:33.710449Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 64, end: 67, line: 4, col: 4 })
2025-10-08T05:17:33.710495Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 68, end: 75, line: 4, col: 12 })
2025-10-08T05:17:33.710525Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 75, end: 76, line: 4, col: 13 })
2025-10-08T05:17:33.710556Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 77, end: 80, line: 4, col: 17 })
2025-10-08T05:17:33.710599Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 77, end: 80, line: 4, col: 17 })
2025-10-08T05:17:33.710647Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 5, col: 0 })
2025-10-08T05:17:33.710706Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 81, end: 82, line: 5, col: 1 })
2025-10-08T05:17:33.710742Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 82, end: 83, line: 6, col: 0 })
2025-10-08T05:17:33.710756Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 82, end: 83, line: 6, col: 0 })
2025-10-08T05:17:33.710866Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\ndd\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:33.710885Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.710897Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.710926Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.710948Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.710982Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:33.711007Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:33.711027Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.711057Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.711101Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:33.711126Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.711147Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.711171Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.711193Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.711223Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 }) with precedence: Assignment
2025-10-08T05:17:33.711257Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 })
2025-10-08T05:17:33.711294Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dd"), start: 24, end: 26, line: 1, col: 2 })
2025-10-08T05:17:33.711324Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dd"))
2025-10-08T05:17:33.711346Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 26, end: 27, line: 2, col: 0 })
2025-10-08T05:17:33.711401Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 28, end: 31, line: 2, col: 4 })
2025-10-08T05:17:33.711422Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 28, end: 31, line: 2, col: 4 })
2025-10-08T05:17:33.711456Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 32, end: 37, line: 2, col: 10 })
2025-10-08T05:17:33.711480Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 37, end: 38, line: 2, col: 11 })
2025-10-08T05:17:33.711510Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 39, end: 42, line: 2, col: 15 })
2025-10-08T05:17:33.711545Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 39, end: 42, line: 2, col: 15 })
2025-10-08T05:17:33.711574Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 43, end: 44, line: 3, col: 0 })
2025-10-08T05:17:33.711621Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 45, end: 48, line: 3, col: 4 })
2025-10-08T05:17:33.711652Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 45, end: 48, line: 3, col: 4 })
2025-10-08T05:17:33.711688Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 49, end: 57, line: 3, col: 13 })
2025-10-08T05:17:33.711711Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 57, end: 58, line: 3, col: 14 })
2025-10-08T05:17:33.711734Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 59, end: 62, line: 3, col: 18 })
2025-10-08T05:17:33.711767Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 59, end: 62, line: 3, col: 18 })
2025-10-08T05:17:33.711796Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 62, end: 63, line: 4, col: 0 })
2025-10-08T05:17:33.711841Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 64, end: 67, line: 4, col: 4 })
2025-10-08T05:17:33.711866Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 64, end: 67, line: 4, col: 4 })
2025-10-08T05:17:33.711901Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 68, end: 75, line: 4, col: 12 })
2025-10-08T05:17:33.711932Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 75, end: 76, line: 4, col: 13 })
2025-10-08T05:17:33.711957Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 77, end: 80, line: 4, col: 17 })
2025-10-08T05:17:33.711991Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 77, end: 80, line: 4, col: 17 })
2025-10-08T05:17:33.712022Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 80, end: 81, line: 5, col: 0 })
2025-10-08T05:17:33.712059Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 81, end: 82, line: 5, col: 1 })
2025-10-08T05:17:33.712089Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 82, end: 83, line: 6, col: 0 })
2025-10-08T05:17:33.712104Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 82, end: 83, line: 6, col: 0 })
2025-10-08T05:17:33.712181Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dd")))), span: 24..26 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 32..37, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 39..42, generics: [] }, span: 39..42 }), default_value: None }, span: 28..42 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 49..57, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 59..62, generics: [] }, span: 59..62 }), default_value: None }, span: 45..62 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 68..75, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 77..80, generics: [] }, span: 77..80 }), default_value: None }, span: 64..80 })], span: 22..82 } }, span: 0..82 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:33.712213Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dd")))), span: 24..26 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 32..37, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 39..42, generics: [] }, span: 39..42 }), default_value: None }, span: 28..42 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 49..57, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 59..62, generics: [] }, span: 59..62 }), default_value: None }, span: 45..62 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 68..75, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 77..80, generics: [] }, span: 77..80 }), default_value: None }, span: 64..80 })], span: 22..82 } }, span: 0..82 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:33.712232Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dd")))), span: 24..26 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 32..37, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 39..42, generics: [] }, span: 39..42 }), default_value: None }, span: 28..42 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 49..57, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 59..62, generics: [] }, span: 59..62 }), default_value: None }, span: 45..62 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 68..75, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 77..80, generics: [] }, span: 77..80 }), default_value: None }, span: 64..80 })], span: 22..82 } }, span: 0..82 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:17:33.712271Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 32..37, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 39..42, generics: [] }, span: 39..42 }), default_value: None }, span: 28..42 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:17:33.712303Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 49..57, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 59..62, generics: [] }, span: 59..62 }), default_value: None }, span: 45..62 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:17:33.712334Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 68..75, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 77..80, generics: [] }, span: 77..80 }), default_value: None }, span: 64..80 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:17:33.712404Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:33.712424Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.712435Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:33.712530Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 39..42, generics: [] }, span: 39..42 }
2025-10-08T05:17:33.712555Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 59..62, generics: [] }, span: 59..62 }
2025-10-08T05:17:33.712571Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 77..80, generics: [] }, span: 77..80 }
2025-10-08T05:17:33.712626Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:33.712697Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:33.712724Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:33.712743Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:33.712812Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:33.712838Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:33.712858Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:33.712924Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:33.712944Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:33.712990Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.713025Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.713067Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.713125Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:33.713169Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:33.713191Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:33.713228Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:33.713248Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:33.713351Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:33.713406Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:33.713506Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":5}}
2025-10-08T05:17:33.713580Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":3,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:33.714354Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":7,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:33.714508Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":7,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:33.714551Z TRACE async_lsp: incoming msg={"id":3,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:33.796424Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":6},"contentChanges":[{"rangeLength":0,"range":{"start":{"line":1,"character":2},"end":{"line":1,"character":2}},"text":"d"}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:33.796713Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:33.908351Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.908401Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.908430Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.908449Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.908501Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:33.908534Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:33.908546Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.908566Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.908623Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:33.908666Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.908695Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.908718Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.908743Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.908776Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("ddd"), start: 24, end: 27, line: 1, col: 3 }) with precedence: Assignment
2025-10-08T05:17:33.908802Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("ddd"), start: 24, end: 27, line: 1, col: 3 })
2025-10-08T05:17:33.908838Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("ddd"), start: 24, end: 27, line: 1, col: 3 })
2025-10-08T05:17:33.908867Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("ddd"))
2025-10-08T05:17:33.908892Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 27, end: 28, line: 2, col: 0 })
2025-10-08T05:17:33.908944Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 29, end: 32, line: 2, col: 4 })
2025-10-08T05:17:33.908964Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 29, end: 32, line: 2, col: 4 })
2025-10-08T05:17:33.908991Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 33, end: 38, line: 2, col: 10 })
2025-10-08T05:17:33.909013Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 38, end: 39, line: 2, col: 11 })
2025-10-08T05:17:33.909030Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 40, end: 43, line: 2, col: 15 })
2025-10-08T05:17:33.909061Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 40, end: 43, line: 2, col: 15 })
2025-10-08T05:17:33.909088Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 44, end: 45, line: 3, col: 0 })
2025-10-08T05:17:33.909134Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 46, end: 49, line: 3, col: 4 })
2025-10-08T05:17:33.909154Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 46, end: 49, line: 3, col: 4 })
2025-10-08T05:17:33.909181Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 50, end: 58, line: 3, col: 13 })
2025-10-08T05:17:33.909201Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 58, end: 59, line: 3, col: 14 })
2025-10-08T05:17:33.909217Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 60, end: 63, line: 3, col: 18 })
2025-10-08T05:17:33.909245Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 60, end: 63, line: 3, col: 18 })
2025-10-08T05:17:33.909270Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 63, end: 64, line: 4, col: 0 })
2025-10-08T05:17:33.909311Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 65, end: 68, line: 4, col: 4 })
2025-10-08T05:17:33.909342Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 65, end: 68, line: 4, col: 4 })
2025-10-08T05:17:33.909379Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 69, end: 76, line: 4, col: 12 })
2025-10-08T05:17:33.909406Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 76, end: 77, line: 4, col: 13 })
2025-10-08T05:17:33.909431Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 78, end: 81, line: 4, col: 17 })
2025-10-08T05:17:33.909466Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 78, end: 81, line: 4, col: 17 })
2025-10-08T05:17:33.909493Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 81, end: 82, line: 5, col: 0 })
2025-10-08T05:17:33.909520Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 82, end: 83, line: 5, col: 1 })
2025-10-08T05:17:33.909550Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 83, end: 84, line: 6, col: 0 })
2025-10-08T05:17:33.909565Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 83, end: 84, line: 6, col: 0 })
2025-10-08T05:17:33.909657Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\nddd\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:33.909681Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.909690Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:33.909711Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.909732Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:33.909768Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:33.909793Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:33.909811Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.909841Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:33.909883Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:33.909915Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.909936Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:33.909961Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.909977Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:33.910009Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("ddd"), start: 24, end: 27, line: 1, col: 3 }) with precedence: Assignment
2025-10-08T05:17:33.910038Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("ddd"), start: 24, end: 27, line: 1, col: 3 })
2025-10-08T05:17:33.910065Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("ddd"), start: 24, end: 27, line: 1, col: 3 })
2025-10-08T05:17:33.910094Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("ddd"))
2025-10-08T05:17:33.910110Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 27, end: 28, line: 2, col: 0 })
2025-10-08T05:17:33.910146Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 29, end: 32, line: 2, col: 4 })
2025-10-08T05:17:33.910163Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 29, end: 32, line: 2, col: 4 })
2025-10-08T05:17:33.910181Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 33, end: 38, line: 2, col: 10 })
2025-10-08T05:17:33.910198Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 38, end: 39, line: 2, col: 11 })
2025-10-08T05:17:33.910209Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 40, end: 43, line: 2, col: 15 })
2025-10-08T05:17:33.910226Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 40, end: 43, line: 2, col: 15 })
2025-10-08T05:17:33.910243Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 44, end: 45, line: 3, col: 0 })
2025-10-08T05:17:33.910268Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 46, end: 49, line: 3, col: 4 })
2025-10-08T05:17:33.910284Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 46, end: 49, line: 3, col: 4 })
2025-10-08T05:17:33.910305Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 50, end: 58, line: 3, col: 13 })
2025-10-08T05:17:33.910322Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 58, end: 59, line: 3, col: 14 })
2025-10-08T05:17:33.910335Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 60, end: 63, line: 3, col: 18 })
2025-10-08T05:17:33.910352Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 60, end: 63, line: 3, col: 18 })
2025-10-08T05:17:33.910368Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 63, end: 64, line: 4, col: 0 })
2025-10-08T05:17:33.910390Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 65, end: 68, line: 4, col: 4 })
2025-10-08T05:17:33.910406Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 65, end: 68, line: 4, col: 4 })
2025-10-08T05:17:33.910425Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 69, end: 76, line: 4, col: 12 })
2025-10-08T05:17:33.910441Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 76, end: 77, line: 4, col: 13 })
2025-10-08T05:17:33.910454Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 78, end: 81, line: 4, col: 17 })
2025-10-08T05:17:33.910478Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 78, end: 81, line: 4, col: 17 })
2025-10-08T05:17:33.910492Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 81, end: 82, line: 5, col: 0 })
2025-10-08T05:17:33.910514Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 82, end: 83, line: 5, col: 1 })
2025-10-08T05:17:33.910532Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 83, end: 84, line: 6, col: 0 })
2025-10-08T05:17:33.910540Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 83, end: 84, line: 6, col: 0 })
2025-10-08T05:17:33.910606Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("ddd")))), span: 24..27 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 33..38, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 40..43, generics: [] }, span: 40..43 }), default_value: None }, span: 29..43 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 50..58, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 60..63, generics: [] }, span: 60..63 }), default_value: None }, span: 46..63 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 69..76, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 78..81, generics: [] }, span: 78..81 }), default_value: None }, span: 65..81 })], span: 22..83 } }, span: 0..83 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:33.910625Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("ddd")))), span: 24..27 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 33..38, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 40..43, generics: [] }, span: 40..43 }), default_value: None }, span: 29..43 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 50..58, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 60..63, generics: [] }, span: 60..63 }), default_value: None }, span: 46..63 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 69..76, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 78..81, generics: [] }, span: 78..81 }), default_value: None }, span: 65..81 })], span: 22..83 } }, span: 0..83 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:33.910650Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("ddd")))), span: 24..27 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 33..38, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 40..43, generics: [] }, span: 40..43 }), default_value: None }, span: 29..43 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 50..58, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 60..63, generics: [] }, span: 60..63 }), default_value: None }, span: 46..63 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 69..76, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 78..81, generics: [] }, span: 78..81 }), default_value: None }, span: 65..81 })], span: 22..83 } }, span: 0..83 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:17:33.910674Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 33..38, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 40..43, generics: [] }, span: 40..43 }), default_value: None }, span: 29..43 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:17:33.910692Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 50..58, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 60..63, generics: [] }, span: 60..63 }), default_value: None }, span: 46..63 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:17:33.910709Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 69..76, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 78..81, generics: [] }, span: 78..81 }), default_value: None }, span: 65..81 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:17:33.910762Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:33.910778Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.910787Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:33.910875Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 40..43, generics: [] }, span: 40..43 }
2025-10-08T05:17:33.910894Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 60..63, generics: [] }, span: 60..63 }
2025-10-08T05:17:33.910902Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 78..81, generics: [] }, span: 78..81 }
2025-10-08T05:17:33.910944Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:33.910989Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:33.911003Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:33.911011Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:33.911071Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:33.911089Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:33.911100Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:33.911145Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:33.911164Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:33.911191Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.911213Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.911232Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:33.911268Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:33.911298Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:33.911315Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:33.911338Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:33.911352Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:33.911437Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:33.911478Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:33.911555Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":6}}
2025-10-08T05:17:33.911622Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":4,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:33.912121Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":8,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:33.912248Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":8,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:33.912276Z TRACE async_lsp: incoming msg={"id":4,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:33.945249Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":7},"contentChanges":[{"rangeLength":0,"range":{"start":{"line":1,"character":3},"end":{"line":1,"character":3}},"text":"d"}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:33.945490Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:34.109904Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:34.109979Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:34.110013Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:34.110036Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:34.110093Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:34.110127Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:34.110153Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:34.110180Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:34.110228Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:34.110247Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:34.110261Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:34.110274Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:34.110282Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:34.110305Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddd"), start: 24, end: 28, line: 1, col: 4 }) with precedence: Assignment
2025-10-08T05:17:34.110344Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddd"), start: 24, end: 28, line: 1, col: 4 })
2025-10-08T05:17:34.110366Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddd"), start: 24, end: 28, line: 1, col: 4 })
2025-10-08T05:17:34.110387Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddd"))
2025-10-08T05:17:34.110405Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 28, end: 29, line: 2, col: 0 })
2025-10-08T05:17:34.110450Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 30, end: 33, line: 2, col: 4 })
2025-10-08T05:17:34.110469Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 30, end: 33, line: 2, col: 4 })
2025-10-08T05:17:34.110488Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 34, end: 39, line: 2, col: 10 })
2025-10-08T05:17:34.110506Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 39, end: 40, line: 2, col: 11 })
2025-10-08T05:17:34.110519Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 41, end: 44, line: 2, col: 15 })
2025-10-08T05:17:34.110537Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 41, end: 44, line: 2, col: 15 })
2025-10-08T05:17:34.110551Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 45, end: 46, line: 3, col: 0 })
2025-10-08T05:17:34.110579Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 47, end: 50, line: 3, col: 4 })
2025-10-08T05:17:34.110596Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 47, end: 50, line: 3, col: 4 })
2025-10-08T05:17:34.110617Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 51, end: 59, line: 3, col: 13 })
2025-10-08T05:17:34.110649Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 59, end: 60, line: 3, col: 14 })
2025-10-08T05:17:34.110664Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 61, end: 64, line: 3, col: 18 })
2025-10-08T05:17:34.110684Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 61, end: 64, line: 3, col: 18 })
2025-10-08T05:17:34.110701Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 64, end: 65, line: 4, col: 0 })
2025-10-08T05:17:34.110724Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 66, end: 69, line: 4, col: 4 })
2025-10-08T05:17:34.110739Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 66, end: 69, line: 4, col: 4 })
2025-10-08T05:17:34.110758Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 70, end: 77, line: 4, col: 12 })
2025-10-08T05:17:34.110773Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 77, end: 78, line: 4, col: 13 })
2025-10-08T05:17:34.110784Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 79, end: 82, line: 4, col: 17 })
2025-10-08T05:17:34.110807Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 79, end: 82, line: 4, col: 17 })
2025-10-08T05:17:34.110820Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 82, end: 83, line: 5, col: 0 })
2025-10-08T05:17:34.110846Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 83, end: 84, line: 5, col: 1 })
2025-10-08T05:17:34.110866Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 84, end: 85, line: 6, col: 0 })
2025-10-08T05:17:34.110874Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 6, col: 0 })
2025-10-08T05:17:34.110978Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\ndddd\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:34.110995Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:34.111002Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:34.111017Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:34.111031Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:34.111050Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:34.111067Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:34.111078Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:34.111095Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:34.111120Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:34.111135Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:34.111150Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:34.111163Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:34.111171Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:34.111189Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddd"), start: 24, end: 28, line: 1, col: 4 }) with precedence: Assignment
2025-10-08T05:17:34.111206Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddd"), start: 24, end: 28, line: 1, col: 4 })
2025-10-08T05:17:34.111224Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddd"), start: 24, end: 28, line: 1, col: 4 })
2025-10-08T05:17:34.111245Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddd"))
2025-10-08T05:17:34.111258Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 28, end: 29, line: 2, col: 0 })
2025-10-08T05:17:34.111290Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 30, end: 33, line: 2, col: 4 })
2025-10-08T05:17:34.111306Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 30, end: 33, line: 2, col: 4 })
2025-10-08T05:17:34.111325Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 34, end: 39, line: 2, col: 10 })
2025-10-08T05:17:34.111345Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 39, end: 40, line: 2, col: 11 })
2025-10-08T05:17:34.111359Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 41, end: 44, line: 2, col: 15 })
2025-10-08T05:17:34.111380Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 41, end: 44, line: 2, col: 15 })
2025-10-08T05:17:34.111395Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 45, end: 46, line: 3, col: 0 })
2025-10-08T05:17:34.111420Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 47, end: 50, line: 3, col: 4 })
2025-10-08T05:17:34.111435Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 47, end: 50, line: 3, col: 4 })
2025-10-08T05:17:34.111454Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 51, end: 59, line: 3, col: 13 })
2025-10-08T05:17:34.111470Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 59, end: 60, line: 3, col: 14 })
2025-10-08T05:17:34.111483Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 61, end: 64, line: 3, col: 18 })
2025-10-08T05:17:34.111500Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 61, end: 64, line: 3, col: 18 })
2025-10-08T05:17:34.111520Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 64, end: 65, line: 4, col: 0 })
2025-10-08T05:17:34.111543Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 66, end: 69, line: 4, col: 4 })
2025-10-08T05:17:34.111558Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 66, end: 69, line: 4, col: 4 })
2025-10-08T05:17:34.111577Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 70, end: 77, line: 4, col: 12 })
2025-10-08T05:17:34.111593Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 77, end: 78, line: 4, col: 13 })
2025-10-08T05:17:34.111607Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 79, end: 82, line: 4, col: 17 })
2025-10-08T05:17:34.111625Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 79, end: 82, line: 4, col: 17 })
2025-10-08T05:17:34.111654Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 82, end: 83, line: 5, col: 0 })
2025-10-08T05:17:34.111674Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 83, end: 84, line: 5, col: 1 })
2025-10-08T05:17:34.111693Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 84, end: 85, line: 6, col: 0 })
2025-10-08T05:17:34.111699Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 6, col: 0 })
2025-10-08T05:17:34.111789Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddd")))), span: 24..28 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 34..39, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 41..44, generics: [] }, span: 41..44 }), default_value: None }, span: 30..44 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 51..59, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 61..64, generics: [] }, span: 61..64 }), default_value: None }, span: 47..64 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 70..77, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 79..82, generics: [] }, span: 79..82 }), default_value: None }, span: 66..82 })], span: 22..84 } }, span: 0..84 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:34.111817Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddd")))), span: 24..28 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 34..39, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 41..44, generics: [] }, span: 41..44 }), default_value: None }, span: 30..44 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 51..59, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 61..64, generics: [] }, span: 61..64 }), default_value: None }, span: 47..64 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 70..77, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 79..82, generics: [] }, span: 79..82 }), default_value: None }, span: 66..82 })], span: 22..84 } }, span: 0..84 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:34.111829Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddd")))), span: 24..28 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 34..39, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 41..44, generics: [] }, span: 41..44 }), default_value: None }, span: 30..44 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 51..59, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 61..64, generics: [] }, span: 61..64 }), default_value: None }, span: 47..64 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 70..77, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 79..82, generics: [] }, span: 79..82 }), default_value: None }, span: 66..82 })], span: 22..84 } }, span: 0..84 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:17:34.111857Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 34..39, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 41..44, generics: [] }, span: 41..44 }), default_value: None }, span: 30..44 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:17:34.111881Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 51..59, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 61..64, generics: [] }, span: 61..64 }), default_value: None }, span: 47..64 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:17:34.111897Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 70..77, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 79..82, generics: [] }, span: 79..82 }), default_value: None }, span: 66..82 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:17:34.111975Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:34.111994Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:34.112001Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:34.112123Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 41..44, generics: [] }, span: 41..44 }
2025-10-08T05:17:34.112144Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 61..64, generics: [] }, span: 61..64 }
2025-10-08T05:17:34.112154Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 79..82, generics: [] }, span: 79..82 }
2025-10-08T05:17:34.112198Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:34.112256Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:34.112274Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:34.112284Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:34.112357Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:34.112376Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:34.112389Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:34.112439Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:34.112454Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:34.112481Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:34.112510Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:34.112528Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:34.112569Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:34.112625Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:34.112651Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:34.112675Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:34.112689Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:34.112775Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:34.112819Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:34.112894Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":7}}
2025-10-08T05:17:34.112957Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":5,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:34.113459Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":9,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:34.113592Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":9,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:34.113621Z TRACE async_lsp: incoming msg={"id":5,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:34.752455Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":8},"contentChanges":[{"rangeLength":0,"range":{"start":{"line":1,"character":4},"end":{"line":1,"character":4}},"text":"d"}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:34.752891Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:34.908510Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:34.908565Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:34.908590Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:34.908608Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:34.908664Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:34.908686Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:34.908703Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:34.908724Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:34.908768Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:34.908791Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:34.908818Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:34.908834Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:34.908850Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:34.908878Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("ddddd"), start: 24, end: 29, line: 1, col: 5 }) with precedence: Assignment
2025-10-08T05:17:34.908904Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("ddddd"), start: 24, end: 29, line: 1, col: 5 })
2025-10-08T05:17:34.908940Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("ddddd"), start: 24, end: 29, line: 1, col: 5 })
2025-10-08T05:17:34.908966Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("ddddd"))
2025-10-08T05:17:34.908983Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 29, end: 30, line: 2, col: 0 })
2025-10-08T05:17:34.909032Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 31, end: 34, line: 2, col: 4 })
2025-10-08T05:17:34.909054Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 31, end: 34, line: 2, col: 4 })
2025-10-08T05:17:34.909079Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 35, end: 40, line: 2, col: 10 })
2025-10-08T05:17:34.909106Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 40, end: 41, line: 2, col: 11 })
2025-10-08T05:17:34.909122Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 42, end: 45, line: 2, col: 15 })
2025-10-08T05:17:34.909149Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 42, end: 45, line: 2, col: 15 })
2025-10-08T05:17:34.909171Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 46, end: 47, line: 3, col: 0 })
2025-10-08T05:17:34.909203Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 48, end: 51, line: 3, col: 4 })
2025-10-08T05:17:34.909224Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 48, end: 51, line: 3, col: 4 })
2025-10-08T05:17:34.909248Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 52, end: 60, line: 3, col: 13 })
2025-10-08T05:17:34.909268Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 60, end: 61, line: 3, col: 14 })
2025-10-08T05:17:34.909284Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 62, end: 65, line: 3, col: 18 })
2025-10-08T05:17:34.909306Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 62, end: 65, line: 3, col: 18 })
2025-10-08T05:17:34.909331Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 65, end: 66, line: 4, col: 0 })
2025-10-08T05:17:34.909360Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 67, end: 70, line: 4, col: 4 })
2025-10-08T05:17:34.909380Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 67, end: 70, line: 4, col: 4 })
2025-10-08T05:17:34.909405Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 71, end: 78, line: 4, col: 12 })
2025-10-08T05:17:34.909426Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 78, end: 79, line: 4, col: 13 })
2025-10-08T05:17:34.909442Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 80, end: 83, line: 4, col: 17 })
2025-10-08T05:17:34.909464Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 80, end: 83, line: 4, col: 17 })
2025-10-08T05:17:34.909490Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 83, end: 84, line: 5, col: 0 })
2025-10-08T05:17:34.909509Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 84, end: 85, line: 5, col: 1 })
2025-10-08T05:17:34.909529Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 85, end: 86, line: 6, col: 0 })
2025-10-08T05:17:34.909536Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 85, end: 86, line: 6, col: 0 })
2025-10-08T05:17:34.909610Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\nddddd\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:34.909641Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:34.909649Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:34.909664Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:34.909678Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:34.909697Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:34.909712Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:34.909722Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:34.909738Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:34.909779Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:34.909809Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:34.909838Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:34.909857Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:34.909866Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:34.909885Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("ddddd"), start: 24, end: 29, line: 1, col: 5 }) with precedence: Assignment
2025-10-08T05:17:34.909902Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("ddddd"), start: 24, end: 29, line: 1, col: 5 })
2025-10-08T05:17:34.909931Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("ddddd"), start: 24, end: 29, line: 1, col: 5 })
2025-10-08T05:17:34.909953Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("ddddd"))
2025-10-08T05:17:34.909965Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 29, end: 30, line: 2, col: 0 })
2025-10-08T05:17:34.910000Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 31, end: 34, line: 2, col: 4 })
2025-10-08T05:17:34.910018Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 31, end: 34, line: 2, col: 4 })
2025-10-08T05:17:34.910036Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 35, end: 40, line: 2, col: 10 })
2025-10-08T05:17:34.910051Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 40, end: 41, line: 2, col: 11 })
2025-10-08T05:17:34.910064Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 42, end: 45, line: 2, col: 15 })
2025-10-08T05:17:34.910082Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 42, end: 45, line: 2, col: 15 })
2025-10-08T05:17:34.910098Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 46, end: 47, line: 3, col: 0 })
2025-10-08T05:17:34.910141Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 48, end: 51, line: 3, col: 4 })
2025-10-08T05:17:34.910159Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 48, end: 51, line: 3, col: 4 })
2025-10-08T05:17:34.910178Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 52, end: 60, line: 3, col: 13 })
2025-10-08T05:17:34.910193Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 60, end: 61, line: 3, col: 14 })
2025-10-08T05:17:34.910205Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 62, end: 65, line: 3, col: 18 })
2025-10-08T05:17:34.910223Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 62, end: 65, line: 3, col: 18 })
2025-10-08T05:17:34.910239Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 65, end: 66, line: 4, col: 0 })
2025-10-08T05:17:34.910261Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 67, end: 70, line: 4, col: 4 })
2025-10-08T05:17:34.910276Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 67, end: 70, line: 4, col: 4 })
2025-10-08T05:17:34.910295Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 71, end: 78, line: 4, col: 12 })
2025-10-08T05:17:34.910314Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 78, end: 79, line: 4, col: 13 })
2025-10-08T05:17:34.910326Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 80, end: 83, line: 4, col: 17 })
2025-10-08T05:17:34.910343Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 80, end: 83, line: 4, col: 17 })
2025-10-08T05:17:34.910360Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 83, end: 84, line: 5, col: 0 })
2025-10-08T05:17:34.910379Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 84, end: 85, line: 5, col: 1 })
2025-10-08T05:17:34.910397Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 85, end: 86, line: 6, col: 0 })
2025-10-08T05:17:34.910403Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 85, end: 86, line: 6, col: 0 })
2025-10-08T05:17:34.910472Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("ddddd")))), span: 24..29 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 35..40, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 42..45, generics: [] }, span: 42..45 }), default_value: None }, span: 31..45 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 52..60, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 62..65, generics: [] }, span: 62..65 }), default_value: None }, span: 48..65 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 71..78, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 80..83, generics: [] }, span: 80..83 }), default_value: None }, span: 67..83 })], span: 22..85 } }, span: 0..85 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:34.910492Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("ddddd")))), span: 24..29 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 35..40, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 42..45, generics: [] }, span: 42..45 }), default_value: None }, span: 31..45 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 52..60, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 62..65, generics: [] }, span: 62..65 }), default_value: None }, span: 48..65 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 71..78, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 80..83, generics: [] }, span: 80..83 }), default_value: None }, span: 67..83 })], span: 22..85 } }, span: 0..85 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:34.910507Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("ddddd")))), span: 24..29 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 35..40, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 42..45, generics: [] }, span: 42..45 }), default_value: None }, span: 31..45 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 52..60, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 62..65, generics: [] }, span: 62..65 }), default_value: None }, span: 48..65 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 71..78, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 80..83, generics: [] }, span: 80..83 }), default_value: None }, span: 67..83 })], span: 22..85 } }, span: 0..85 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:17:34.910530Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 35..40, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 42..45, generics: [] }, span: 42..45 }), default_value: None }, span: 31..45 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:17:34.910550Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 52..60, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 62..65, generics: [] }, span: 62..65 }), default_value: None }, span: 48..65 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:17:34.910563Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 71..78, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 80..83, generics: [] }, span: 80..83 }), default_value: None }, span: 67..83 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:17:34.910620Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:34.910650Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:34.910657Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:34.910744Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 42..45, generics: [] }, span: 42..45 }
2025-10-08T05:17:34.910763Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 62..65, generics: [] }, span: 62..65 }
2025-10-08T05:17:34.910771Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 80..83, generics: [] }, span: 80..83 }
2025-10-08T05:17:34.910806Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:34.910847Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:34.910862Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:34.910870Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:34.910978Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:34.911008Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:34.911024Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:34.911077Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:34.911096Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:34.911122Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:34.911145Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:34.911164Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:34.911201Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:34.911236Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:34.911250Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:34.911273Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:34.911286Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:34.911373Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:34.911410Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:34.911485Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":8}}
2025-10-08T05:17:34.911549Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":6,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:34.911967Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":10,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:34.912093Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":10,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:34.912121Z TRACE async_lsp: incoming msg={"id":6,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:34.915084Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":9},"contentChanges":[{"rangeLength":0,"range":{"start":{"line":1,"character":5},"end":{"line":1,"character":5}},"text":"d"}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:34.915208Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:35.109528Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:35.109664Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:35.109701Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:35.109728Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:35.109794Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:35.109823Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:35.109850Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:35.109878Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:35.109945Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:35.109978Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:35.109993Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:35.110016Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:35.110036Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:35.110084Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:35.110123Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:35.110164Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:35.110192Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:35.110215Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 31, line: 2, col: 0 })
2025-10-08T05:17:35.110276Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:35.110297Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:35.110327Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 36, end: 41, line: 2, col: 10 })
2025-10-08T05:17:35.110352Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 41, end: 42, line: 2, col: 11 })
2025-10-08T05:17:35.110369Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 43, end: 46, line: 2, col: 15 })
2025-10-08T05:17:35.110396Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 43, end: 46, line: 2, col: 15 })
2025-10-08T05:17:35.110417Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 47, end: 48, line: 3, col: 0 })
2025-10-08T05:17:35.110471Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 49, end: 52, line: 3, col: 4 })
2025-10-08T05:17:35.110494Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 49, end: 52, line: 3, col: 4 })
2025-10-08T05:17:35.110521Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 53, end: 61, line: 3, col: 13 })
2025-10-08T05:17:35.110543Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 61, end: 62, line: 3, col: 14 })
2025-10-08T05:17:35.110558Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 63, end: 66, line: 3, col: 18 })
2025-10-08T05:17:35.110587Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 63, end: 66, line: 3, col: 18 })
2025-10-08T05:17:35.110611Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 66, end: 67, line: 4, col: 0 })
2025-10-08T05:17:35.110655Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 68, end: 71, line: 4, col: 4 })
2025-10-08T05:17:35.110673Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 68, end: 71, line: 4, col: 4 })
2025-10-08T05:17:35.110702Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 72, end: 79, line: 4, col: 12 })
2025-10-08T05:17:35.110725Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 79, end: 80, line: 4, col: 13 })
2025-10-08T05:17:35.110748Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 81, end: 84, line: 4, col: 17 })
2025-10-08T05:17:35.110777Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 81, end: 84, line: 4, col: 17 })
2025-10-08T05:17:35.110798Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 5, col: 0 })
2025-10-08T05:17:35.110835Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 85, end: 86, line: 5, col: 1 })
2025-10-08T05:17:35.110863Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 86, end: 87, line: 6, col: 0 })
2025-10-08T05:17:35.110878Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 87, line: 6, col: 0 })
2025-10-08T05:17:35.111004Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\ndddddd\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:35.111027Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:35.111036Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:35.111065Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:35.111081Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:35.111110Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:35.111130Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:35.111149Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:35.111176Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:35.111210Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:35.111227Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:35.111238Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:35.111255Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:35.111266Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:35.111289Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:35.111313Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:35.111348Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:35.111377Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:35.111399Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 31, line: 2, col: 0 })
2025-10-08T05:17:35.111452Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:35.111475Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:35.111507Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 36, end: 41, line: 2, col: 10 })
2025-10-08T05:17:35.111528Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 41, end: 42, line: 2, col: 11 })
2025-10-08T05:17:35.111545Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 43, end: 46, line: 2, col: 15 })
2025-10-08T05:17:35.111571Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 43, end: 46, line: 2, col: 15 })
2025-10-08T05:17:35.111596Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 47, end: 48, line: 3, col: 0 })
2025-10-08T05:17:35.111629Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 49, end: 52, line: 3, col: 4 })
2025-10-08T05:17:35.111659Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 49, end: 52, line: 3, col: 4 })
2025-10-08T05:17:35.111680Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 53, end: 61, line: 3, col: 13 })
2025-10-08T05:17:35.111696Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 61, end: 62, line: 3, col: 14 })
2025-10-08T05:17:35.111716Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 63, end: 66, line: 3, col: 18 })
2025-10-08T05:17:35.111733Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 63, end: 66, line: 3, col: 18 })
2025-10-08T05:17:35.111749Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 66, end: 67, line: 4, col: 0 })
2025-10-08T05:17:35.111774Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 68, end: 71, line: 4, col: 4 })
2025-10-08T05:17:35.111790Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 68, end: 71, line: 4, col: 4 })
2025-10-08T05:17:35.111809Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 72, end: 79, line: 4, col: 12 })
2025-10-08T05:17:35.111833Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 79, end: 80, line: 4, col: 13 })
2025-10-08T05:17:35.111864Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 81, end: 84, line: 4, col: 17 })
2025-10-08T05:17:35.111894Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 81, end: 84, line: 4, col: 17 })
2025-10-08T05:17:35.111923Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 5, col: 0 })
2025-10-08T05:17:35.111956Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 85, end: 86, line: 5, col: 1 })
2025-10-08T05:17:35.111988Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 86, end: 87, line: 6, col: 0 })
2025-10-08T05:17:35.112003Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 87, line: 6, col: 0 })
2025-10-08T05:17:35.112113Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 36..41, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 43..46, generics: [] }, span: 43..46 }), default_value: None }, span: 32..46 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 53..61, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 63..66, generics: [] }, span: 63..66 }), default_value: None }, span: 49..66 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 72..79, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 81..84, generics: [] }, span: 81..84 }), default_value: None }, span: 68..84 })], span: 22..86 } }, span: 0..86 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:35.112139Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 36..41, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 43..46, generics: [] }, span: 43..46 }), default_value: None }, span: 32..46 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 53..61, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 63..66, generics: [] }, span: 63..66 }), default_value: None }, span: 49..66 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 72..79, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 81..84, generics: [] }, span: 81..84 }), default_value: None }, span: 68..84 })], span: 22..86 } }, span: 0..86 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:35.112158Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 36..41, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 43..46, generics: [] }, span: 43..46 }), default_value: None }, span: 32..46 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 53..61, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 63..66, generics: [] }, span: 63..66 }), default_value: None }, span: 49..66 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 72..79, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 81..84, generics: [] }, span: 81..84 }), default_value: None }, span: 68..84 })], span: 22..86 } }, span: 0..86 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:17:35.112226Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 36..41, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 43..46, generics: [] }, span: 43..46 }), default_value: None }, span: 32..46 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:17:35.112250Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 53..61, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 63..66, generics: [] }, span: 63..66 }), default_value: None }, span: 49..66 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:17:35.112278Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 72..79, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 81..84, generics: [] }, span: 81..84 }), default_value: None }, span: 68..84 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:17:35.112349Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:35.112366Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:35.112374Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:35.112481Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 43..46, generics: [] }, span: 43..46 }
2025-10-08T05:17:35.112507Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 63..66, generics: [] }, span: 63..66 }
2025-10-08T05:17:35.112518Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 81..84, generics: [] }, span: 81..84 }
2025-10-08T05:17:35.112576Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:35.112641Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:35.112664Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:35.112678Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:35.112760Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:35.112783Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:35.112801Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:35.112867Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:35.112885Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:35.112936Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:35.112966Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:35.112998Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:35.113050Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:35.113089Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:35.113109Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:35.113146Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:35.113166Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:35.113268Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:35.113308Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:35.113382Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":9}}
2025-10-08T05:17:35.113443Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":7,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:35.114035Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":11,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:35.114174Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":11,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:35.114207Z TRACE async_lsp: incoming msg={"id":7,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:36.150572Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":10},"contentChanges":[{"rangeLength":1,"range":{"start":{"line":1,"character":6},"end":{"line":2,"character":0}},"text":"\n\n"}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:36.150853Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:36.308477Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:36.308531Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:36.308558Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:36.308576Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:36.308662Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:36.308695Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:36.308711Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:36.308734Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:36.308796Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:36.308822Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:36.308841Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:36.308861Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:36.308874Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:36.308906Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:36.308951Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:36.308979Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:36.309002Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:36.309023Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 32, line: 3, col: 0 })
2025-10-08T05:17:36.309074Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 33, end: 36, line: 3, col: 4 })
2025-10-08T05:17:36.309100Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 33, end: 36, line: 3, col: 4 })
2025-10-08T05:17:36.309126Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 37, end: 42, line: 3, col: 10 })
2025-10-08T05:17:36.309145Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 42, end: 43, line: 3, col: 11 })
2025-10-08T05:17:36.309163Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 44, end: 47, line: 3, col: 15 })
2025-10-08T05:17:36.309190Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 44, end: 47, line: 3, col: 15 })
2025-10-08T05:17:36.309211Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 48, end: 49, line: 4, col: 0 })
2025-10-08T05:17:36.309248Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 50, end: 53, line: 4, col: 4 })
2025-10-08T05:17:36.309268Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 50, end: 53, line: 4, col: 4 })
2025-10-08T05:17:36.309292Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 54, end: 62, line: 4, col: 13 })
2025-10-08T05:17:36.309315Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 62, end: 63, line: 4, col: 14 })
2025-10-08T05:17:36.309333Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 64, end: 67, line: 4, col: 18 })
2025-10-08T05:17:36.309366Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 64, end: 67, line: 4, col: 18 })
2025-10-08T05:17:36.309386Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 67, end: 68, line: 5, col: 0 })
2025-10-08T05:17:36.309416Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 69, end: 72, line: 5, col: 4 })
2025-10-08T05:17:36.309438Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 69, end: 72, line: 5, col: 4 })
2025-10-08T05:17:36.309463Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 73, end: 80, line: 5, col: 12 })
2025-10-08T05:17:36.309483Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 80, end: 81, line: 5, col: 13 })
2025-10-08T05:17:36.309500Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 82, end: 85, line: 5, col: 17 })
2025-10-08T05:17:36.309525Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 82, end: 85, line: 5, col: 17 })
2025-10-08T05:17:36.309545Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 85, end: 86, line: 6, col: 0 })
2025-10-08T05:17:36.309572Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 86, end: 87, line: 6, col: 1 })
2025-10-08T05:17:36.309603Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 87, end: 88, line: 7, col: 0 })
2025-10-08T05:17:36.309612Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 87, end: 88, line: 7, col: 0 })
2025-10-08T05:17:36.309738Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\ndddddd\n\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:36.309762Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:36.309772Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:36.309792Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:36.309810Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:36.309835Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:36.309855Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:36.309870Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:36.309894Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:36.309936Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:36.309960Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:36.309972Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:36.309985Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:36.309993Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:36.310019Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:36.310036Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:36.310055Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:36.310072Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:36.310084Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 32, line: 3, col: 0 })
2025-10-08T05:17:36.310118Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 33, end: 36, line: 3, col: 4 })
2025-10-08T05:17:36.310134Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 33, end: 36, line: 3, col: 4 })
2025-10-08T05:17:36.310153Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 37, end: 42, line: 3, col: 10 })
2025-10-08T05:17:36.310168Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 42, end: 43, line: 3, col: 11 })
2025-10-08T05:17:36.310181Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 44, end: 47, line: 3, col: 15 })
2025-10-08T05:17:36.310204Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 44, end: 47, line: 3, col: 15 })
2025-10-08T05:17:36.310219Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 48, end: 49, line: 4, col: 0 })
2025-10-08T05:17:36.310243Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 50, end: 53, line: 4, col: 4 })
2025-10-08T05:17:36.310259Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 50, end: 53, line: 4, col: 4 })
2025-10-08T05:17:36.310277Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 54, end: 62, line: 4, col: 13 })
2025-10-08T05:17:36.310292Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 62, end: 63, line: 4, col: 14 })
2025-10-08T05:17:36.310304Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 64, end: 67, line: 4, col: 18 })
2025-10-08T05:17:36.310322Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 64, end: 67, line: 4, col: 18 })
2025-10-08T05:17:36.310339Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 67, end: 68, line: 5, col: 0 })
2025-10-08T05:17:36.310361Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 69, end: 72, line: 5, col: 4 })
2025-10-08T05:17:36.310377Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 69, end: 72, line: 5, col: 4 })
2025-10-08T05:17:36.310398Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 73, end: 80, line: 5, col: 12 })
2025-10-08T05:17:36.310414Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 80, end: 81, line: 5, col: 13 })
2025-10-08T05:17:36.310426Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 82, end: 85, line: 5, col: 17 })
2025-10-08T05:17:36.310444Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 82, end: 85, line: 5, col: 17 })
2025-10-08T05:17:36.310459Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 85, end: 86, line: 6, col: 0 })
2025-10-08T05:17:36.310480Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 86, end: 87, line: 6, col: 1 })
2025-10-08T05:17:36.310498Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 87, end: 88, line: 7, col: 0 })
2025-10-08T05:17:36.310504Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 87, end: 88, line: 7, col: 0 })
2025-10-08T05:17:36.310570Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 37..42, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 44..47, generics: [] }, span: 44..47 }), default_value: None }, span: 33..47 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 54..62, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 64..67, generics: [] }, span: 64..67 }), default_value: None }, span: 50..67 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 73..80, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 82..85, generics: [] }, span: 82..85 }), default_value: None }, span: 69..85 })], span: 22..87 } }, span: 0..87 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:36.310591Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 37..42, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 44..47, generics: [] }, span: 44..47 }), default_value: None }, span: 33..47 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 54..62, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 64..67, generics: [] }, span: 64..67 }), default_value: None }, span: 50..67 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 73..80, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 82..85, generics: [] }, span: 82..85 }), default_value: None }, span: 69..85 })], span: 22..87 } }, span: 0..87 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:36.310602Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 37..42, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 44..47, generics: [] }, span: 44..47 }), default_value: None }, span: 33..47 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 54..62, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 64..67, generics: [] }, span: 64..67 }), default_value: None }, span: 50..67 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 73..80, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 82..85, generics: [] }, span: 82..85 }), default_value: None }, span: 69..85 })], span: 22..87 } }, span: 0..87 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:17:36.310625Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 37..42, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 44..47, generics: [] }, span: 44..47 }), default_value: None }, span: 33..47 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:17:36.310656Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 54..62, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 64..67, generics: [] }, span: 64..67 }), default_value: None }, span: 50..67 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:17:36.310675Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 73..80, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 82..85, generics: [] }, span: 82..85 }), default_value: None }, span: 69..85 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:17:36.310741Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:36.310757Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:36.310764Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:36.310859Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 44..47, generics: [] }, span: 44..47 }
2025-10-08T05:17:36.310877Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 64..67, generics: [] }, span: 64..67 }
2025-10-08T05:17:36.310885Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 82..85, generics: [] }, span: 82..85 }
2025-10-08T05:17:36.310930Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:36.310986Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:36.311005Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:36.311012Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:36.311070Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:36.311087Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:36.311107Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:36.311154Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:36.311168Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:36.311194Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:36.311216Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:36.311233Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:36.311271Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:36.311304Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:36.311317Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:36.311339Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:36.311353Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:36.311440Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:36.311475Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:36.311553Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":10}}
2025-10-08T05:17:36.311616Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":8,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:36.312301Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":12,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:36.312434Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":12,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,3,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:36.312470Z TRACE async_lsp: incoming msg={"id":8,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:36.631781Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":11},"contentChanges":[{"rangeLength":0,"range":{"start":{"line":2,"character":0},"end":{"line":2,"character":0}},"text":"\t"}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:36.632043Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:36.708529Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:36.708577Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:36.708616Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:36.708669Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:36.708713Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:36.708741Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:36.708755Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:36.708781Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:36.708821Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:36.708849Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:36.708865Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:36.708884Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:36.708896Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:36.708934Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:36.708978Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:36.709006Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:36.709032Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:36.709048Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 31, line: 2, col: 0 })
2025-10-08T05:17:36.709066Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 32, end: 33, line: 3, col: 0 })
2025-10-08T05:17:36.709113Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 34, end: 37, line: 3, col: 4 })
2025-10-08T05:17:36.709138Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 34, end: 37, line: 3, col: 4 })
2025-10-08T05:17:36.709162Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 38, end: 43, line: 3, col: 10 })
2025-10-08T05:17:36.709185Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 43, end: 44, line: 3, col: 11 })
2025-10-08T05:17:36.709201Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 45, end: 48, line: 3, col: 15 })
2025-10-08T05:17:36.709238Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 45, end: 48, line: 3, col: 15 })
2025-10-08T05:17:36.709259Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 49, end: 50, line: 4, col: 0 })
2025-10-08T05:17:36.709295Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 51, end: 54, line: 4, col: 4 })
2025-10-08T05:17:36.709318Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 51, end: 54, line: 4, col: 4 })
2025-10-08T05:17:36.709346Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 55, end: 63, line: 4, col: 13 })
2025-10-08T05:17:36.709365Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 63, end: 64, line: 4, col: 14 })
2025-10-08T05:17:36.709382Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 65, end: 68, line: 4, col: 18 })
2025-10-08T05:17:36.709409Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 65, end: 68, line: 4, col: 18 })
2025-10-08T05:17:36.709430Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 68, end: 69, line: 5, col: 0 })
2025-10-08T05:17:36.709460Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 70, end: 73, line: 5, col: 4 })
2025-10-08T05:17:36.709483Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 70, end: 73, line: 5, col: 4 })
2025-10-08T05:17:36.709510Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 74, end: 81, line: 5, col: 12 })
2025-10-08T05:17:36.709526Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 81, end: 82, line: 5, col: 13 })
2025-10-08T05:17:36.709538Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 83, end: 86, line: 5, col: 17 })
2025-10-08T05:17:36.709555Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 83, end: 86, line: 5, col: 17 })
2025-10-08T05:17:36.709568Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 87, line: 6, col: 0 })
2025-10-08T05:17:36.709588Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 87, end: 88, line: 6, col: 1 })
2025-10-08T05:17:36.709606Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 88, end: 89, line: 7, col: 0 })
2025-10-08T05:17:36.709613Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 88, end: 89, line: 7, col: 0 })
2025-10-08T05:17:36.709704Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\ndddddd\n\t\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:36.709722Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:36.709729Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:36.709744Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:36.709758Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:36.709780Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:36.709795Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:36.709806Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:36.709822Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:36.709845Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:36.709862Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:36.709872Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:36.709885Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:36.709894Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:36.709917Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:36.709933Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:36.709953Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:36.709975Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:36.709987Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 31, line: 2, col: 0 })
2025-10-08T05:17:36.710001Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 32, end: 33, line: 3, col: 0 })
2025-10-08T05:17:36.710035Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 34, end: 37, line: 3, col: 4 })
2025-10-08T05:17:36.710052Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 34, end: 37, line: 3, col: 4 })
2025-10-08T05:17:36.710071Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 38, end: 43, line: 3, col: 10 })
2025-10-08T05:17:36.710086Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 43, end: 44, line: 3, col: 11 })
2025-10-08T05:17:36.710098Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 45, end: 48, line: 3, col: 15 })
2025-10-08T05:17:36.710114Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 45, end: 48, line: 3, col: 15 })
2025-10-08T05:17:36.710131Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 49, end: 50, line: 4, col: 0 })
2025-10-08T05:17:36.710161Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 51, end: 54, line: 4, col: 4 })
2025-10-08T05:17:36.710177Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 51, end: 54, line: 4, col: 4 })
2025-10-08T05:17:36.710195Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 55, end: 63, line: 4, col: 13 })
2025-10-08T05:17:36.710210Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 63, end: 64, line: 4, col: 14 })
2025-10-08T05:17:36.710222Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 65, end: 68, line: 4, col: 18 })
2025-10-08T05:17:36.710239Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 65, end: 68, line: 4, col: 18 })
2025-10-08T05:17:36.710253Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 68, end: 69, line: 5, col: 0 })
2025-10-08T05:17:36.710275Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 70, end: 73, line: 5, col: 4 })
2025-10-08T05:17:36.710290Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 70, end: 73, line: 5, col: 4 })
2025-10-08T05:17:36.710307Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 74, end: 81, line: 5, col: 12 })
2025-10-08T05:17:36.710322Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 81, end: 82, line: 5, col: 13 })
2025-10-08T05:17:36.710342Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 83, end: 86, line: 5, col: 17 })
2025-10-08T05:17:36.710358Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 83, end: 86, line: 5, col: 17 })
2025-10-08T05:17:36.710377Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 87, line: 6, col: 0 })
2025-10-08T05:17:36.710398Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 87, end: 88, line: 6, col: 1 })
2025-10-08T05:17:36.710418Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 88, end: 89, line: 7, col: 0 })
2025-10-08T05:17:36.710425Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 88, end: 89, line: 7, col: 0 })
2025-10-08T05:17:36.710490Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 38..43, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 45..48, generics: [] }, span: 45..48 }), default_value: None }, span: 34..48 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 55..63, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 65..68, generics: [] }, span: 65..68 }), default_value: None }, span: 51..68 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 74..81, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 83..86, generics: [] }, span: 83..86 }), default_value: None }, span: 70..86 })], span: 22..88 } }, span: 0..88 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:36.710509Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 38..43, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 45..48, generics: [] }, span: 45..48 }), default_value: None }, span: 34..48 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 55..63, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 65..68, generics: [] }, span: 65..68 }), default_value: None }, span: 51..68 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 74..81, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 83..86, generics: [] }, span: 83..86 }), default_value: None }, span: 70..86 })], span: 22..88 } }, span: 0..88 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:36.710523Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 38..43, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 45..48, generics: [] }, span: 45..48 }), default_value: None }, span: 34..48 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 55..63, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 65..68, generics: [] }, span: 65..68 }), default_value: None }, span: 51..68 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 74..81, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 83..86, generics: [] }, span: 83..86 }), default_value: None }, span: 70..86 })], span: 22..88 } }, span: 0..88 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:17:36.710545Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 38..43, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 45..48, generics: [] }, span: 45..48 }), default_value: None }, span: 34..48 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:17:36.710564Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 55..63, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 65..68, generics: [] }, span: 65..68 }), default_value: None }, span: 51..68 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:17:36.710578Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 74..81, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 83..86, generics: [] }, span: 83..86 }), default_value: None }, span: 70..86 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:17:36.710688Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:36.710710Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:36.710717Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:36.710887Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 45..48, generics: [] }, span: 45..48 }
2025-10-08T05:17:36.710928Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 65..68, generics: [] }, span: 65..68 }
2025-10-08T05:17:36.710938Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 83..86, generics: [] }, span: 83..86 }
2025-10-08T05:17:36.710984Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:36.711039Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:36.711072Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:36.711084Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:36.711154Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:36.711174Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:36.711189Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:36.711246Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:36.711262Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:36.711289Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:36.711312Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:36.711337Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:36.711375Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:36.711429Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:36.711444Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:36.711470Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:36.711484Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:36.711585Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:36.711640Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:36.711741Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":11}}
2025-10-08T05:17:36.711819Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":9,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:36.712137Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":13,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:36.712253Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":13,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,3,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:36.712282Z TRACE async_lsp: incoming msg={"id":9,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:36.953594Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":12},"contentChanges":[{"rangeLength":0,"range":{"start":{"line":2,"character":1},"end":{"line":2,"character":1}},"text":"l"}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:36.953838Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:37.103511Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":14},"contentChanges":[{"rangeLength":0,"range":{"start":{"line":2,"character":2},"end":{"line":2,"character":2}},"text":"e"},{"rangeLength":0,"range":{"start":{"line":2,"character":3},"end":{"line":2,"character":3}},"text":"t"}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:37.103804Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:37.109083Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:37.109116Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:37.109140Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:37.109157Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:37.109188Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:37.109209Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:37.109224Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:37.109247Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:37.109288Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:37.109312Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:37.109329Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:37.109347Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:37.109358Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:37.109386Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:37.109417Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:37.109448Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:37.109474Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:37.109492Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 31, line: 2, col: 0 })
2025-10-08T05:17:37.109541Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:37.109562Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:37.109581Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 35, end: 36, line: 3, col: 0 })
2025-10-08T05:17:37.109599Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Newline, start: 35, end: 36, line: 3, col: 0 })
2025-10-08T05:17:37.109680Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\ndddddd\n\tlet\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:37.109704Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:37.109714Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:37.109732Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:37.109754Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:37.109777Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:37.109798Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:37.109812Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:37.109834Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:37.109866Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:37.109887Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:37.109902Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:37.109925Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:37.109937Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:37.109959Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:37.109980Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:37.110003Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:37.110033Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:37.110050Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 31, line: 2, col: 0 })
2025-10-08T05:17:37.110091Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:37.110115Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:37.110134Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 35, end: 36, line: 3, col: 0 })
2025-10-08T05:17:37.110152Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Newline, start: 35, end: 36, line: 3, col: 0 })
2025-10-08T05:17:37.110220Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":14}}
2025-10-08T05:17:37.110283Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":10,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:37.110678Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":14,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:37.110789Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":14,"result":{"data":[0,0,6,6,0,0,12,1,10,0,0,8,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:37.110834Z TRACE async_lsp: incoming msg={"id":10,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:37.253237Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":15},"contentChanges":[{"rangeLength":0,"range":{"start":{"line":2,"character":4},"end":{"line":2,"character":4}},"text":" "}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:37.253492Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:37.308993Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:37.309039Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:37.309078Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:37.309097Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:37.309132Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:37.309156Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:37.309170Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:37.309192Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:37.309235Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:37.309261Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:37.309277Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:37.309295Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:37.309311Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:37.309338Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:37.309365Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:37.309396Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:37.309422Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:37.309443Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 31, line: 2, col: 0 })
2025-10-08T05:17:37.309488Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:37.309511Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:37.309530Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 36, end: 37, line: 3, col: 0 })
2025-10-08T05:17:37.309550Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Newline, start: 36, end: 37, line: 3, col: 0 })
2025-10-08T05:17:37.309621Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\ndddddd\n\tlet \n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:37.309658Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:37.309668Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:37.309686Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:37.309704Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:37.309729Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:37.309755Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:37.309769Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:37.309791Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:37.309822Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:37.309844Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:37.309859Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:37.309875Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:37.309885Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:37.309910Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:37.309939Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:37.309963Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:37.309989Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:37.310009Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 31, line: 2, col: 0 })
2025-10-08T05:17:37.310052Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:37.310073Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:37.310092Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 36, end: 37, line: 3, col: 0 })
2025-10-08T05:17:37.310110Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Newline, start: 36, end: 37, line: 3, col: 0 })
2025-10-08T05:17:37.310181Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":15}}
2025-10-08T05:17:37.310240Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":11,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:37.311050Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":15,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:37.311167Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":15,"result":{"data":[0,0,6,6,0,0,12,1,10,0,0,8,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:37.311195Z TRACE async_lsp: incoming msg={"id":11,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:38.254016Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":16},"contentChanges":[{"rangeLength":6,"range":{"start":{"line":2,"character":0},"end":{"line":3,"character":0}},"text":""}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:38.254290Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:38.309439Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:38.309506Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:38.309532Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:38.309549Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:38.309605Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:38.309650Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:38.309672Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:38.309694Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:38.309741Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:38.309765Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:38.309783Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:38.309802Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:38.309815Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:38.309843Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:38.309869Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:38.309895Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:38.309939Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:38.309965Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 31, line: 2, col: 0 })
2025-10-08T05:17:38.310011Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:38.310034Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:38.310064Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 36, end: 41, line: 2, col: 10 })
2025-10-08T05:17:38.310085Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 41, end: 42, line: 2, col: 11 })
2025-10-08T05:17:38.310103Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 43, end: 46, line: 2, col: 15 })
2025-10-08T05:17:38.310128Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 43, end: 46, line: 2, col: 15 })
2025-10-08T05:17:38.310150Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 47, end: 48, line: 3, col: 0 })
2025-10-08T05:17:38.310183Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 49, end: 52, line: 3, col: 4 })
2025-10-08T05:17:38.310204Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 49, end: 52, line: 3, col: 4 })
2025-10-08T05:17:38.310236Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 53, end: 61, line: 3, col: 13 })
2025-10-08T05:17:38.310257Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 61, end: 62, line: 3, col: 14 })
2025-10-08T05:17:38.310273Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 63, end: 66, line: 3, col: 18 })
2025-10-08T05:17:38.310301Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 63, end: 66, line: 3, col: 18 })
2025-10-08T05:17:38.310322Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 66, end: 67, line: 4, col: 0 })
2025-10-08T05:17:38.310345Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 68, end: 71, line: 4, col: 4 })
2025-10-08T05:17:38.310363Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 68, end: 71, line: 4, col: 4 })
2025-10-08T05:17:38.310381Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 72, end: 79, line: 4, col: 12 })
2025-10-08T05:17:38.310396Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 79, end: 80, line: 4, col: 13 })
2025-10-08T05:17:38.310407Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 81, end: 84, line: 4, col: 17 })
2025-10-08T05:17:38.310441Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 81, end: 84, line: 4, col: 17 })
2025-10-08T05:17:38.310456Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 5, col: 0 })
2025-10-08T05:17:38.310477Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 85, end: 86, line: 5, col: 1 })
2025-10-08T05:17:38.310497Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 86, end: 87, line: 6, col: 0 })
2025-10-08T05:17:38.310502Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 87, line: 6, col: 0 })
2025-10-08T05:17:38.310605Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\ndddddd\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:38.310623Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:38.310643Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:38.310659Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:38.310676Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:38.310695Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:38.310708Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:38.310718Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:38.310733Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:38.310762Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:38.310778Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:38.310797Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:38.310810Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:38.310819Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:38.310837Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}: talk::parsing::parser: Parsing Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 }) with precedence: Assignment
2025-10-08T05:17:38.310853Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:38.310871Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("dddddd"), start: 24, end: 30, line: 1, col: 6 })
2025-10-08T05:17:38.310890Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: add expr [FileID(0)] Variable(Raw("dddddd"))
2025-10-08T05:17:38.310902Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:stmt:expr:expr_with_precedence{precedence=Assignment}:variable{can_assign=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 30, end: 31, line: 2, col: 0 })
2025-10-08T05:17:38.310941Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:38.310957Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 32, end: 35, line: 2, col: 4 })
2025-10-08T05:17:38.310979Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 36, end: 41, line: 2, col: 10 })
2025-10-08T05:17:38.310994Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 41, end: 42, line: 2, col: 11 })
2025-10-08T05:17:38.311007Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 43, end: 46, line: 2, col: 15 })
2025-10-08T05:17:38.311024Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 43, end: 46, line: 2, col: 15 })
2025-10-08T05:17:38.311039Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 47, end: 48, line: 3, col: 0 })
2025-10-08T05:17:38.311063Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 49, end: 52, line: 3, col: 4 })
2025-10-08T05:17:38.311078Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 49, end: 52, line: 3, col: 4 })
2025-10-08T05:17:38.311095Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 53, end: 61, line: 3, col: 13 })
2025-10-08T05:17:38.311110Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 61, end: 62, line: 3, col: 14 })
2025-10-08T05:17:38.311122Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 63, end: 66, line: 3, col: 18 })
2025-10-08T05:17:38.311138Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 63, end: 66, line: 3, col: 18 })
2025-10-08T05:17:38.311155Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 66, end: 67, line: 4, col: 0 })
2025-10-08T05:17:38.311177Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 68, end: 71, line: 4, col: 4 })
2025-10-08T05:17:38.311192Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 68, end: 71, line: 4, col: 4 })
2025-10-08T05:17:38.311209Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 72, end: 79, line: 4, col: 12 })
2025-10-08T05:17:38.311224Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 79, end: 80, line: 4, col: 13 })
2025-10-08T05:17:38.311236Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 81, end: 84, line: 4, col: 17 })
2025-10-08T05:17:38.311253Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 81, end: 84, line: 4, col: 17 })
2025-10-08T05:17:38.311268Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 84, end: 85, line: 5, col: 0 })
2025-10-08T05:17:38.311286Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 85, end: 86, line: 5, col: 1 })
2025-10-08T05:17:38.311303Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 86, end: 87, line: 6, col: 0 })
2025-10-08T05:17:38.311310Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 86, end: 87, line: 6, col: 0 })
2025-10-08T05:17:38.311404Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 36..41, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 43..46, generics: [] }, span: 43..46 }), default_value: None }, span: 32..46 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 53..61, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 63..66, generics: [] }, span: 63..66 }), default_value: None }, span: 49..66 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 72..79, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 81..84, generics: [] }, span: 81..84 }), default_value: None }, span: 68..84 })], span: 22..86 } }, span: 0..86 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:38.311428Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 36..41, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 43..46, generics: [] }, span: 43..46 }), default_value: None }, span: 32..46 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 53..61, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 63..66, generics: [] }, span: 63..66 }), default_value: None }, span: 49..66 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 72..79, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 81..84, generics: [] }, span: 81..84 }), default_value: None }, span: 68..84 })], span: 22..86 } }, span: 0..86 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 10), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:38.311440Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 10), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 9), args: [], body: [Stmt(Stmt { id: NodeID(0, 2), kind: Expr(Expr(id: NodeID(0, 2), kind: Variable(Raw("dddddd")))), span: 24..30 }), Decl(Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 36..41, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 43..46, generics: [] }, span: 43..46 }), default_value: None }, span: 32..46 }), Decl(Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 53..61, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 63..66, generics: [] }, span: 63..66 }), default_value: None }, span: 49..66 }), Decl(Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 72..79, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 81..84, generics: [] }, span: 81..84 }), default_value: None }, span: 68..84 })], span: 22..86 } }, span: 0..86 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 10))
2025-10-08T05:17:38.311469Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 4), kind: Property { name: Raw("count"), name_span: 36..41, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Raw("Int"), name_span: 43..46, generics: [] }, span: 43..46 }), default_value: None }, span: 32..46 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 10))
2025-10-08T05:17:38.311489Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 6), kind: Property { name: Raw("capacity"), name_span: 53..61, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Raw("Int"), name_span: 63..66, generics: [] }, span: 63..66 }), default_value: None }, span: 49..66 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 10))
2025-10-08T05:17:38.311505Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 8), kind: Property { name: Raw("storage"), name_span: 72..79, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Raw("Int"), name_span: 81..84, generics: [] }, span: 81..84 }), default_value: None }, span: 68..84 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 10))
2025-10-08T05:17:38.311577Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:38.311594Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:38.311601Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:38.311733Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 3), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 43..46, generics: [] }, span: 43..46 }
2025-10-08T05:17:38.311765Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 5), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 63..66, generics: [] }, span: 63..66 }
2025-10-08T05:17:38.311776Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 7), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 81..84, generics: [] }, span: 81..84 }
2025-10-08T05:17:38.311819Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:38.311876Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:38.311893Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:38.311910Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:38.311983Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:38.312003Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:38.312017Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:38.312066Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:38.312082Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:38.312108Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:38.312135Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:38.312154Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:38.312195Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:38.312231Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:38.312245Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 10), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:38.312270Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:38.312284Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:38.312379Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:38.312431Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:38.312526Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":16}}
2025-10-08T05:17:38.312603Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":12,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:38.313066Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":16,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:38.313201Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":16,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,2,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:38.313231Z TRACE async_lsp: incoming msg={"id":12,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:38.967056Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":17},"contentChanges":[{"rangeLength":7,"range":{"start":{"line":1,"character":0},"end":{"line":2,"character":0}},"text":""}]},"jsonrpc":"2.0","method":"textDocument/didChange"}
2025-10-08T05:17:38.967312Z  INFO notification{method="textDocument/didChange"}: talk::lsp::server: did change file:///home/nakajima/apps/talk/core/Array.tlk
2025-10-08T05:17:39.109001Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:39.109073Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:39.109114Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:39.109146Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:39.109208Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:39.109247Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:39.109282Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:39.109324Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:39.109395Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:39.109430Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:39.109475Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:39.109515Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:39.109538Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:39.109586Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:17:39.109626Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:17:39.109717Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:17:39.109772Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:17:39.109810Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:17:39.109861Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:17:39.109904Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:17:39.109980Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:17:39.110016Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:17:39.110066Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:17:39.110115Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:17:39.110153Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:17:39.110204Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:17:39.110249Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:17:39.110321Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:17:39.110352Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:17:39.110401Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:17:39.110438Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:17:39.110483Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:17:39.110535Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:17:39.110564Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:17:39.110595Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:17:39.110640Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:17:39.110657Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:17:39.110745Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: parsing Source { kind: String("struct Array<Element> {\n\tlet count: Int \n\tlet capacity: Int\n\tlet storage: Int\n}\n") }
2025-10-08T05:17:39.110767Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:39.110779Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance None
2025-10-08T05:17:39.110804Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}: talk::parsing::parser: push_source_location: Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:39.110826Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:consume{expected=Struct}: talk::parsing::parser: advance Some(Token { kind: Struct, start: 0, end: 6, line: 0, col: 6 })
2025-10-08T05:17:39.110857Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Array"), start: 7, end: 12, line: 0, col: 12 })
2025-10-08T05:17:39.110883Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Less, start: 12, end: 13, line: 0, col: 13 })
2025-10-08T05:17:39.110904Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:39.110936Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics:generic:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Element"), start: 13, end: 20, line: 0, col: 20 })
2025-10-08T05:17:39.110982Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:generics: talk::parsing::parser: advance Some(Token { kind: Greater, start: 20, end: 21, line: 0, col: 21 })
2025-10-08T05:17:39.111015Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: push_source_location: Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:39.111036Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:consume{expected=LeftBrace}: talk::parsing::parser: advance Some(Token { kind: LeftBrace, start: 22, end: 23, line: 0, col: 23 })
2025-10-08T05:17:39.111061Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:39.111078Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 23, end: 24, line: 1, col: 0 })
2025-10-08T05:17:39.111101Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:17:39.111124Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 25, end: 28, line: 1, col: 4 })
2025-10-08T05:17:39.111161Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("count"), start: 29, end: 34, line: 1, col: 10 })
2025-10-08T05:17:39.111185Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 34, end: 35, line: 1, col: 11 })
2025-10-08T05:17:39.111206Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:17:39.111240Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 36, end: 39, line: 1, col: 15 })
2025-10-08T05:17:39.111268Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 40, end: 41, line: 2, col: 0 })
2025-10-08T05:17:39.111321Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:17:39.111346Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 42, end: 45, line: 2, col: 4 })
2025-10-08T05:17:39.111380Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("capacity"), start: 46, end: 54, line: 2, col: 13 })
2025-10-08T05:17:39.111403Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 54, end: 55, line: 2, col: 14 })
2025-10-08T05:17:39.111425Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:17:39.111459Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 56, end: 59, line: 2, col: 18 })
2025-10-08T05:17:39.111487Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 59, end: 60, line: 3, col: 0 })
2025-10-08T05:17:39.111531Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: push_source_location: Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:17:39.111552Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:consume{expected=Let}: talk::parsing::parser: advance Some(Token { kind: Let, start: 61, end: 64, line: 3, col: 4 })
2025-10-08T05:17:39.111592Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("storage"), start: 65, end: 72, line: 3, col: 12 })
2025-10-08T05:17:39.111616Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}: talk::parsing::parser: advance Some(Token { kind: Colon, start: 72, end: 73, line: 3, col: 13 })
2025-10-08T05:17:39.111657Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: push_source_location: Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:17:39.111694Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation:identifier: talk::parsing::parser: advance Some(Token { kind: Identifier("Int"), start: 74, end: 77, line: 3, col: 17 })
2025-10-08T05:17:39.111726Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}:decl{context=Struct is_static=false}:property_decl{is_static=false}:type_annotation: talk::parsing::parser: advance Some(Token { kind: Newline, start: 77, end: 78, line: 4, col: 0 })
2025-10-08T05:17:39.111758Z TRACE event{type_name="talk::lsp::server::TickEvent"}:decl{context=None is_static=false}:nominal_decl{entry=Struct context=Struct}:block{context=Struct consumes_left_brace=true}: talk::parsing::parser: advance Some(Token { kind: RightBrace, start: 78, end: 79, line: 4, col: 1 })
2025-10-08T05:17:39.111790Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: Skipping Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:17:39.111805Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::parsing::parser: advance Some(Token { kind: Newline, start: 79, end: 80, line: 5, col: 0 })
2025-10-08T05:17:39.111888Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Array -> Type(TypeId { module_id: Current, local_id: 1 }) Some(NodeID(0, 0))
2025-10-08T05:17:39.111911Z TRACE event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::decl_declarer: start_scope: Scope { node_id: NodeID(0, 9), parent_id: Some(NodeID(0, 0)), values: {}, types: {}, depth: 2 }
2025-10-08T05:17:39.111936Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 9), kind: Struct { name: Raw("Array"), name_span: 7..12, generics: [GenericDecl { id: NodeID(0, 1), name: Raw("Element"), name_span: 13..20, generics: [], conformances: [], span: 13..20 }], conformances: [], body: Block { id: NodeID(0, 8), args: [], body: [Decl(Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }), Decl(Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }), Decl(Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 })], span: 22..79 } }, span: 0..79 }}: talk::name_resolution::name_resolver: declare type Element -> TypeParameter(TypeParameterId(1)) Some(NodeID(0, 9))
2025-10-08T05:17:39.111969Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 3), kind: Property { name: Raw("count"), name_span: 29..34, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Raw("Int"), name_span: 36..39, generics: [] }, span: 36..39 }), default_value: None }, span: 25..39 }}: talk::name_resolution::name_resolver: declare type count -> Property(PropertyId { module_id: Current, local_id: 1 }) Some(NodeID(0, 9))
2025-10-08T05:17:39.111998Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 5), kind: Property { name: Raw("capacity"), name_span: 46..54, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Raw("Int"), name_span: 56..59, generics: [] }, span: 56..59 }), default_value: None }, span: 42..59 }}: talk::name_resolution::name_resolver: declare type capacity -> Property(PropertyId { module_id: Current, local_id: 2 }) Some(NodeID(0, 9))
2025-10-08T05:17:39.112028Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:enter_decl{decl=Decl { id: NodeID(0, 7), kind: Property { name: Raw("storage"), name_span: 65..72, is_static: false, type_annotation: Some(TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Raw("Int"), name_span: 74..77, generics: [] }, span: 74..77 }), default_value: None }, span: 61..77 }}: talk::name_resolution::name_resolver: declare type storage -> Property(PropertyId { module_id: Current, local_id: 3 }) Some(NodeID(0, 9))
2025-10-08T05:17:39.112095Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 3 }))
2025-10-08T05:17:39.112120Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:39.112132Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Builtin(BuiltinId { module_id: Prelude, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 2 }))
2025-10-08T05:17:39.112231Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 2), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 36..39, generics: [] }, span: 36..39 }
2025-10-08T05:17:39.112257Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 4), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 56..59, generics: [] }, span: 56..59 }
2025-10-08T05:17:39.112269Z  WARN event{type_name="talk::lsp::server::TickEvent"}: talk::types::passes::type_headers_pass: stashing annotation: TypeAnnotation { id: NodeID(0, 6), kind: Nominal { name: Resolved(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }), "Int"), name_span: 74..77, generics: [] }, span: 74..77 }
2025-10-08T05:17:39.112319Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving types in ":memory:"
2025-10-08T05:17:39.112381Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh 1
2025-10-08T05:17:39.112403Z TRACE event{type_name="talk::lsp::server::TickEvent"}: talk::types::type_session: Fresh type param TypeParamId(1)
2025-10-08T05:17:39.112416Z DEBUG event{type_name="talk::lsp::server::TickEvent"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:39.112488Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh type param TypeParamId(2)
2025-10-08T05:17:39.112511Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:39.112529Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote TypeParameter(TypeParameterId(1)) = Scheme(Scheme { foralls: [Ty(TypeParamId(2)), Ty(TypeParamId(2))], predicates: [], ty: typeparam(2) })
2025-10-08T05:17:39.112589Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::type_session: Fresh 2
2025-10-08T05:17:39.112611Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Synthesized(SynthesizedId { module_id: Current, local_id: 1 }) = Mono(func(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1)) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> func(Builtin(BuiltinId { module_id: Prelude, local_id: 1 })) -> Type(Type(TypeId { module_id: Current, local_id: 1 }), [], rowvar2))
2025-10-08T05:17:39.112667Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 1 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:39.112703Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 2 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:39.112734Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Property(PropertyId { module_id: Current, local_id: 3 }) = Mono(Builtin(BuiltinId { module_id: Prelude, local_id: 1 }))
2025-10-08T05:17:39.112789Z TRACE event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}:generalize{inner=Level(0) ty=Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1) unsolved=[]}: talk::types::type_session: generalizing {rowmeta(1)} to RowParamId(1)
2025-10-08T05:17:39.112832Z  WARN event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: overriding Type(TypeId { module_id: Current, local_id: 1 }) with Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) }). existing: Mono(Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowvar1))
2025-10-08T05:17:39.112857Z DEBUG event{type_name="talk::lsp::server::TickEvent"}:resolve_type_def{type_def=TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), "Array"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }}:resolve{type_def="TypeDef { name: Resolved(Type(TypeId { module_id: Current, local_id: 1 }), \"Array\"), node_id: NodeID(0, 9), kind: Arrow { in_kind: Type, out_kind: Type }, def: Struct }"}: talk::types::term_environment: promote Type(TypeId { module_id: Current, local_id: 1 }) = Scheme(Scheme { foralls: [Ty(TypeParamId(1)), Row(RowParamId(1))], predicates: [], ty: Type(Type(TypeId { module_id: Current, local_id: 1 }), [typeparam(1)], rowparamRowParamId(1)) })
2025-10-08T05:17:39.112893Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: resolving type deps in ":memory:"
2025-10-08T05:17:39.112912Z  INFO event{type_name="talk::lsp::server::TickEvent"}: talk::compiling::driver: inferencing ":memory:"
2025-10-08T05:17:39.113016Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 1
2025-10-08T05:17:39.113066Z TRACE event{type_name="talk::lsp::server::TickEvent"}:solve{level=Level(1) wants=Wants { simple: [], defer: [] }}: talk::types::passes::inference_pass: ----------------------------------------------------------------------------------
Generation 2
2025-10-08T05:17:39.113165Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nakajima/apps/talk/core/Array.tlk","version":17}}
2025-10-08T05:17:39.113247Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":13,"method":"workspace/semanticTokens/refresh"}
2025-10-08T05:17:39.113701Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"id":17,"jsonrpc":"2.0","method":"textDocument/semanticTokens/full"}
2025-10-08T05:17:39.113846Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":17,"result":{"data":[0,0,6,6,0,0,7,5,16,0,0,5,1,10,0,0,1,7,15,0,0,7,1,10,0,1,1,3,6,0,1,1,3,6,0,1,1,3,6,0]}}
2025-10-08T05:17:39.113884Z TRACE async_lsp: incoming msg={"id":13,"result":null,"jsonrpc":"2.0"}
2025-10-08T05:17:41.010115Z TRACE async_lsp: incoming msg={"params":{"textDocument":{"uri":"file:///home/nakajima/apps/talk/core/Array.tlk"}},"jsonrpc":"2.0","method":"textDocument/didSave"}
2025-10-08T05:17:41.010673Z TRACE async_lsp: incoming msg={"id":18,"jsonrpc":"2.0","method":"shutdown"}
2025-10-08T05:17:41.010753Z TRACE async_lsp: outgoing msg={"jsonrpc":"2.0","id":18,"error":{"code":-32601,"message":"No such method shutdown","data":null}}
