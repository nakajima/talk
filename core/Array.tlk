struct Array<Element> {
	let storage: RawPtr
	let count: Int
	let capacity: Int

	init(capacity: Int) {
		self.capacity = capacity
		self.count = 0
		self.storage = @_ir {%? = alloc Element %0}
	}

	func get(index: Int) -> Element {
		let ptr = @_ir(self.storage, index) { %? = gep Element $0 $1}
		@_ir(ptr) { %? = load Element $0}
	}
}
