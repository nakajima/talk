struct Array<Element> {
	let storage: RawPtr
	let count: Int
	let capacity: Int

	init(capacity: Int) {
		self.capacity = capacity
		self.count = 0
		self.storage = @_ir {%? = alloc Element %0}
	}

	func get(index: Int) -> Optional<Element> {
		if index >= self.count {
			return Optional.none
		}

		Optional.some(@_ir(self.storage) { %? = load Element $0 })
	}
}
